!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function c(e,t){try{return t in e}catch(e){return!1}}function a(e,t,n){var r={};return n.isMergeableObject(e)&&i(e).forEach((function(t){r[t]=o(e[t],n)})),i(t).forEach((function(i){(function(e,t){return c(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(c(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(i,n)(e[i],t[i],n):r[i]=o(t[i],n))})),r}function l(e,n,i){(i=i||{}).arrayMerge=i.arrayMerge||r,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=o;var c=Array.isArray(n);return c===Array.isArray(e)?c?i.arrayMerge(e,n,i):a(e,n,i):o(n,i)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var s,u=l,f={exports:{}},p="object"==typeof Reflect?Reflect:null,d=p&&"function"==typeof p.apply?p.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};s=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var h=Number.isNaN||function(e){return e!=e};function v(){v.init.call(this)}f.exports=v,f.exports.once=function(e,t){return new Promise((function(n,o){function r(n){e.removeListener(t,i),o(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}C(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&C(e,"error",t,n)}(e,r,{once:!0})}))},v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var m=10;function y(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function g(e){return void 0===e._maxListeners?v.defaultMaxListeners:e._maxListeners}function b(e,t,n,o){var r,i,c,a;if(y(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),c=i[t]),void 0===c)c=i[t]=n,++e._eventsCount;else if("function"==typeof c?c=i[t]=o?[n,c]:[c,n]:o?c.unshift(n):c.push(n),(r=g(e))>0&&c.length>r&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=c.length,a=l,console&&console.warn&&console.warn(a)}return e}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=w.bind(o);return r.listener=n,o.wrapFn=r,r}function E(e,t,n){var o=e._events;if(void 0===o)return[];var r=o[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):x(r,r.length)}function S(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function x(e,t){for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o];return n}function C(e,t,n,o){if("function"==typeof e.on)o.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(i){o.once&&e.removeEventListener(t,r),n(i)}))}}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(e){if("number"!=typeof e||e<0||h(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");m=e}}),v.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||h(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},v.prototype.getMaxListeners=function(){return g(this)},v.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,r=this._events;if(void 0!==r)o=o&&void 0===r.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var c=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw c.context=i,c}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)d(a,this,t);else{var l=a.length,s=x(a,l);for(n=0;n<l;++n)d(s[n],this,t)}return!0},v.prototype.addListener=function(e,t){return b(this,e,t,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(e,t){return b(this,e,t,!0)},v.prototype.once=function(e,t){return y(t),this.on(e,k(this,e,t)),this},v.prototype.prependOnceListener=function(e,t){return y(t),this.prependListener(e,k(this,e,t)),this},v.prototype.removeListener=function(e,t){var n,o,r,i,c;if(y(t),void 0===(o=this._events))return this;if(void 0===(n=o[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){c=n[i].listener,r=i;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(o[e]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",e,c||t)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(e){var t,n,o;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,i=Object.keys(n);for(o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},v.prototype.listeners=function(e){return E(this,e,!0)},v.prototype.rawListeners=function(e){return E(this,e,!1)},v.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):S.call(e,t)},v.prototype.listenerCount=S,v.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};const j=new f.exports.EventEmitter,T={event:j},O=["/km_java_api/"];function N(e){return O.some((t=>"string"==typeof t?e.indexOf(t)>-1:t.test(e)))}const A=["readyState","response","responseText","responseType","responseURL","responseXML","status","statusText","timeout","upload","withCredentials","abort","getAllResponseHeaders","getResponseHeader","open","overrideMimeType","send","setRequestHeader","addEventListener","dispatchEvent","removeEventListener"];function L(e,...t){const n=u({},t,{clone:!0,deep:!0});j.emit(e,...n)}let P=!1;var R,H,I,M;!function(){if(P)return;const e=window.XMLHttpRequest,t=e.prototype.open,n=e.prototype.send;e.prototype.open=function(e,n){return this._url=n,t.apply(this,arguments)},e.prototype.send=function(e){const t=this,o=this.onreadystatechange;return this.onreadystatechange=function(){if(4===this.readyState){let e=this.getResponseHeader("Content-Type");if(N(this._url||"")||e&&e.includes("application/json"))try{const e=this.responseText;let t={};try{t=JSON.parse(e)}catch(n){t=e}const n=A.reduce(((e,t)=>("responseXML"===t?"document"===e.responseType&&(e[t]=this[t]):e[t]=this[t],e)),{}),o={type:"XHR",data:t,url:this.responseURL};200===this.status?L("success",o,n):L("error",o,n),L("complete",o,n)}catch(e){console.warn("全局XHR代理错误",e)}}if(o)return o.apply(t,arguments)},n.apply(this,arguments)};const o=window.fetch;window.fetch=function(e,...t){const n=o(e,...t);return n.then((t=>{var n,o;return t.ok&&(N(e)||(null===(o=null===(n=t.headers)||void 0===n?void 0:n.get("Content-Type"))||void 0===o?void 0:o.includes("application/json")))&&t.clone().json().then((e=>{const n={type:"fetch",data:e,url:t.url};200===t.status?L("success",n,t):L("error",n,t),L("complete",n,t)})),t})).catch((e=>{})),n},P=!0}(),window.neteaseClickStat=window.neteaseClickStat||function(){},window.neteaseTracker=window.neteaseTracker||function(){};const D={km:"MA-ACDA-BCCED4A26C8A",kms:"MA-B81D-6D453EE22C87"},U=document.currentScript?document.currentScript.src:"";let F={};try{F=new URL(U)}catch(e){console.warn(e)}let W="";const z=(null===(R=F.searchParams)||void 0===R?void 0:R.get("path"))||"",V=(null===(H=F.searchParams)||void 0===H?void 0:H.get("isRestPathRecord"))||!1;if(/^\S*(test-|uat-)(km|kms)\.\S+/.test(location.host)||/^(localhost|127.0.0.1)\S+/.test(location.host))W="MA-AA23-92DA7F0D610F";else try{let e=(null===(I=F.searchParams)||void 0===I?void 0:I.get("appKey"))||"",t="km";if(!e){const n=location.host.match(/\S*(km|kms)\.netease\.com/);n&&n[1]&&(t=n[1]),e=D[t]}z?location.pathname.includes(z)?W=e:V&&(W=D[t]):W=e}catch(e){console.warn(e)}let B="";if(W&&(!function(e,t,n){let o={};function r(){let t,n,r=o.cookie.get("mp_versions_hubble_jsSDK"),i="https://hubble.netease.com/track/w/DATracker.globals.js";t=e.createElement("script"),t.type="text/javascript",t.async=!0,r&&(i="https://hubble-js-bucket.nosdn.127.net/"+r+".js"),t.src=i,n=e.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}if(o.cookie={get:function(t){let n=t+"=",o=e.cookie.split(";");for(let e=0;e<o.length;e++){let t=o[e];for(;" "==t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(n))return decodeURIComponent(t.substring(n.length,t.length))}return null},parse:function(e){let t;try{t=_.JSONDecode(_.cookie.get(e))||{}}catch(e){}return t},set:function(t,n,o,r,i){let c="",a="",l="";if(r){let t=e.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),n=t?t[0]:"";c=n?"; domain=."+n:""}if(o){let e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),a="; expires="+e.toGMTString()}i&&(l="; secure");let s=t+"="+encodeURIComponent(n)+a+"; path=/"+c+l;return e.cookie=s,s},remove:function(e,t){_.cookie.set(e,"",-1,t)}},n.getHubbleJSSDKVersions=function(e){o.cookie.set("mp_versions_hubble_jsSDK",e,!1,!0),r()},!t.__SV){let n=window;try{let t,o,r,i=n.location,c=i.hash;t=function(e,t){return o=e.match(new RegExp(t+"=([^&]*)")),o?o[1]:null},c&&t(c,"state")&&(r=JSON.parse(decodeURIComponent(t(c,"state"))),"mpeditor"===r.action&&(n.sessionStorage.setItem("_mpcehash",c),history.replaceState(r.desiredHash||"",e.title,i.pathname+i.search)))}catch(e){}let o,r,i="DATracker";window[i]=t,t._i=[],t.init=function(e,n,c){let a=t;function l(e,t){let n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(void 0!==c?a=t[c]=[]:c=i,a.people=a.people||[],a.abtest=a.abtest||[],a.toString=function(e){let t=i;return c!==i&&(t+="."+c),e||(t+=" (stub)"),t},a.people.toString=function(){return a.toString(1)+".people (stub)"},o="get_user_id track_heatmap register_attributes register_attributes_once clear_attributes unregister_attributes current_attributes single_pageview disable time_event get_appStatus track set_userId track_pageview track_links track_forms register register_once alias unregister identify login logout signup name_tag set_config reset people.set people.set_once people.set_realname people.set_country people.set_province people.set_city people.set_age people.set_gender people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.set_populationWithAccount  people.set_location people.set_birthday people.set_region people.set_account abtest.get_variation abtest.async_get_variable".split(" "),r=0;r<o.length;r++)l(a,o[r]);t._i.push([e,n,c])},t.__SV=1.6}o.cookie.get("mp_versions_hubble_jsSDK")?r():function(t){return new Promise((n=>{let r,i=e.getElementsByTagName("head")[0],c=e.createElement("script");o.cookie.get("mp_versions_hubble_jsSDK"),c.setAttribute("type","text/javascript"),c.src=t,c.onload=c.onreadystatechange=function(){r||c.readyState&&!/loaded|complete/.test(c.readyState)||(c.onload=c.onreadystatechange=null,r=!0,function(e){let t=e.parentNode;t&&t.removeChild(e)}(c)),n(window.DATracker)},i.appendChild(c)}))}("https://hubble.netease.com/track/w/version.js?random"+Math.random()).then((e=>{}))}(document,window.DATracker||[],window),null===(M=window.DATracker)||void 0===M||M.init(W,{truncateLength:255,persistence:"localStorage",cross_subdomain_cookie:!1,is_single_page:!0,single_page_config:{mode:"history"},loaded:function(e){e.get_user_id()!==B&&e.login(B)}})),window.DATracker&&Proxy){const e=function({url:t,type:n,data:o},r){var i;if(console.log("hubbleUser",t,n,o),t.includes("/get_user_info")){const t=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.info;t&&(!function(e){const t={1:"正式用户",2:"运营中心",3:"雷火盘古用户",4:"实习生",5:"外包用户",6:"外派用户"};try{if("object"==typeof e){const{raw_empno:n,empno:o,identifier:r,km_profession:i,org_name:c,user_type:a}=e;B=r,window.DATracker.login(r),window.DATracker.register_attributes({userID:r,empno:n||o,profession:i,userType:t[a]||"其它",department:c})}}catch(e){console.warn(e)}}(t),window.localStorage.setItem("user",JSON.stringify(t)),console.log("hubble初始化成功"),T.event.off("success",e))}};T.event.on("success",e)}var $,q={exports:{}};$=q,function(e,t){$.exports=e.document?t(e):function(e){if(!e.document)throw new Error("initNECaptchaWithFallback requires a window with a document");return t(e)}}("undefined"!=typeof window?window:e,(function(e){var t=0,n="QjGAuvoHrcpuxlbw7cp4WnIbbjzG4rtSlpc7EDovNHQS._ujzPZpeCInSxIT4WunuDDh8dRZYF2GbBGWyHlC6q5uEi9x-TXT9j7J705vSsBXyTar7aqFYyUltKYJ7f4Y2TXm_1Mn6HFkb4M7URQ_rWtpxQ5D6hCgNJYC0HpRE7.2sttqYKLoi7yP1KHzK-PptdHHkVwb77cwS2EJW7Mj_PsOtnPBubTmTZLpnRECJR99dWTVC11xYG0sx8dJNLUxUFxEyzTfX4nSmQz_T5sXATRKHtVAz7nmV0De5unmflfAlUwMGKlCT1khBtewlgN5nHvyxeD8Z1_fPVzi9oznl-sbegj6lKfCWezmLcwft8.4yaVh6SlzXJq-FnSK.euq9OBd5jYc82ge2_hEca1fGU--SkPRzgwkzew4O4qjdS2utdPwFONnhKAIMJRPUmCV4lPHG1OeRDvyNV8sCnuFMw7leasxIhPoycl4pm5bNy70Z1laozEGJgItVNr3",o={"zh-CN":"前方拥堵，已自动跳过验证",en:"captcha error，Verified automatically"},r=6e4,i=502,c={};function a(e,t,n){if(t=t||"",n=n||"",(e=e||"")&&(e=e.replace(/:?\/{0,2}$/,"://")),t){var o=t.match(/^([-0-9a-zA-Z.:]*)(\/.*)?/);t=o[1],n=(o[2]||"")+"/"+n}return!t&&(e=""),e+t+n}function l(e,t){if(void 0!==t){var n=e.nodeType;1!==n&&11!==n&&9!==n||("string"==typeof e.textContent?e.textContent=t:e.innerText=t)}}function s(t){var n,o=function(){if(Object.assign)return Object.assign.apply(null,arguments);for(var e={},t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}({},{protocol:"http"===e.location.protocol.replace(":","")?"http":"https",lang:"zh-CN",errorFallbackCount:3},t),r=o.errorFallbackCount;return function(e,t){if(!e)throw new Error("[NECaptcha] "+t)}(void 0===r||(n=r,(Number.isInteger?Number.isInteger(n):"number"==typeof n&&isFinite(n)&&Math.floor(n)===n)&&r>=1),"errorFallbackCount must be an integer, and it's value greater than or equal one"),o}function u(t,n){if(e.initNECaptcha)return void setTimeout((function(){n(null)}),0);const o=t.ipv6?["cstaticdun-v6.126.net","cstatic.dun.163yun.com"]:["cstaticdun.126.net","cstatic.dun.163yun.com"];var i=function(e){var n,o="load.min.js",r=[];if(n=e,Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n))for(var i=0,c=e.length;i<c;i++)r.push(a(t.protocol,e[i],o));else{var l=a(t.protocol,e,o);r=[l,l]}return r}(t.staticServer||o);!function t(o){var c,a=i[o]+"?v="+(c=(c=r)||0===c?1:c,parseInt((new Date).valueOf()/c,10));!function(e,t){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");t=t||function(){},o.type="text/javascript",o.charset="utf8",o.async=!0,o.src=e,"onload"in o||(o.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,t(null,o))}),o.onload=function(){this.onerror=this.onload=null,t(null,o)},o.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),o)},n.appendChild(o)}(a,(function(r){return r||!e.initNECaptcha?(o+=1)===i.length?n(new Error("Failed to load script("+a+")."+(r?r.message:"unreliable script"))):t(o):n(null)}))}(0)}return function(r,a,_){var f=null,p=s(r),d=!1!==p.defaultFallback,h=o["zh-CN"===p.lang?p.lang:"en"],v=e.location.pathname+"_"+p.captchaId+"_NECAPTCHA_ERROR_COUNTS";try{t=parseInt(localStorage.getItem(v)||0,10)}catch(e){}var m=d?function(e){!function e(t){if(t&&(e(t._captchaIns),t.$el)){var n=function(e,t){if((t=t||document).querySelectorAll)return t.querySelectorAll(e);if(!/^\.[^.]+$/.test(e))return[];if(t.getElementsByClassName)return t.getElementsByClassName(e);for(var n,o=t.getElementsByTagName("*"),r=[],i=e.slice(1),c=0,a=o.length;c<a;c++)~(" "+(n=o[c]).className+" ").indexOf(" "+i+" ")&&r.push(n);return r}(".yidun-fallback__tip",t.$el);n.length&&setTimeout((function(){for(var e=0,t=n.length;e<t;e++)l(n[e],h)}),0)}}(f),p.onVerify&&p.onVerify(null,{validate:e})}:p.onFallback||function(){},y=!d&&!p.onFallback,g=function(e){if(++t<p.errorFallbackCount){try{localStorage.setItem(v,t)}catch(e){}_(e)}else m(n),b(),y&&_(e)},b=function(){t=0;try{localStorage.setItem(v,0)}catch(e){}},w=function(e){k&&k.isError()?k.resetError():(k&&k.resetTimer(),y?_(e):g(e))};p.onError=function(e){k&&k.isError()&&k.resetError(),g(e)},p.onDidRefresh=function(){k&&k.isError()&&k.resetError(),b()};var k=r.initTimeoutError?r.initTimeoutError(g):null,E=function(){e.initNECaptcha(p,(function(e){k&&k.isError()||(k&&k.resetTimer(),f=e,a&&a(e))}),w)},S="load-queue";c[S]||(c[S]={rejects:[],resolves:[],status:"error"}),"error"===c[S].status?(c[S].status="pending",u(p,(function(e){if(e){var t=new Error;t.code=i,t.message=p.staticServer+"/load.min.js error";for(var n=c[S].rejects,o=0,r=n.length;o<r;o++)n.pop()(t);c[S].status="error"}else{c[S].status="done";for(var a=c[S].resolves,l=0,s=a.length;l<s;l++)a.pop()()}}))):"done"===c[S].status&&E(),"pending"===c[S].status&&(c[S].rejects.push((function(e){w(e)})),c[S].resolves.push(E))}}));var G=q.exports;const J=(()=>{const e=location.host,t=e.match(/\S*(test|staging)-?(kms|km)\.netease\.com/),n=(null==t?void 0:t[1])||"production",o=e.match(/\S*(kms|km)\.netease\.com/);return{env:n,businessType:(null==o?void 0:o[1])||"km"}})();J.defaultHost={kms:{test:"https://test-kms.netease.com",staging:"https://staging-kms.netease.com",production:"https://kms.netease.com"},km:{test:"https://test-km.netease.com",staging:"https://staging-km.netease.com",production:"https://km.netease.com"}}[J.businessType][J.env];const K={kms:{test:{captchaId:"3ebcbc27f6d84b97b1f26a875a5ed469",checkUrl:"/km_java_api/home/visitLimit/yidun_check"},staging:{captchaId:"00fbedacef6843cd9e0ebd7609aeef1a",checkUrl:"/km_java_api/home/visitLimit/yidun_check"},production:{captchaId:"00fbedacef6843cd9e0ebd7609aeef1a",checkUrl:"/km_java_api/home/visitLimit/yidun_check"}},km:{test:{captchaId:"7ee5c6dd391c472e994ca86963b0157b",checkUrl:"/km_java_api/home/visitLimit/yidun_check"},staging:{captchaId:"6237d11ce88241768f47c02f14574a56",checkUrl:"/km_java_api/home/visitLimit/yidun_check"},production:{captchaId:"6237d11ce88241768f47c02f14574a56",checkUrl:"/km_java_api/home/visitLimit/yidun_check"}}}[J.businessType][J.env];let Z=!1;T.event.on("success",((e,t)=>{600100===e.data.status&&function(){if(Z)return;let e,t=document.createElement("div");t.id="captcha",document.body.appendChild(t),Z=!0;let n=new Promise(((t,n)=>{G({element:"#captcha",captchaId:K.captchaId,width:"320px",mode:"popup",apiVersion:2,closeEnable:!0,popupStyles:{position:"fixed",top:"20%"},onVerify:function(t,n){t||fetch(K.checkUrl,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({validate:n.validate})}).then((e=>e.json())).then((t=>{console.log("完成校验",t),1===t.data?(console.log("二次验证成功"),history.go(0)):(console.log("二次验证失败"),e.refresh())}))}},(function(n){e=n,t(n)}),(function(e){console.warn(e),n(e)}))}));n.then((e=>{e.verify()}))}()}));var X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Y="object"==typeof e&&e&&e.Object===Object&&e,Q="object"==typeof self&&self&&self.Object===Object&&self,ee=Y||Q||Function("return this")(),te=ee,ne=function(){return te.Date.now()},oe=/\s/;var re=function(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t},ie=/^\s+/;var ce=function(e){return e?e.slice(0,re(e)+1).replace(ie,""):e},ae=ee.Symbol,le=ae,se=Object.prototype,ue=se.hasOwnProperty,_e=se.toString,fe=le?le.toStringTag:void 0;var pe=function(e){var t=ue.call(e,fe),n=e[fe];try{e[fe]=void 0;var o=!0}catch(e){}var r=_e.call(e);return o&&(t?e[fe]=n:delete e[fe]),r},de=Object.prototype.toString;var he=pe,ve=function(e){return de.call(e)},me="[object Null]",ye="[object Undefined]",ge=ae?ae.toStringTag:void 0;var be=function(e){return null==e?void 0===e?ye:me:ge&&ge in Object(e)?he(e):ve(e)},we=function(e){return null!=e&&"object"==typeof e},ke="[object Symbol]";var Ee=ce,Se=X,xe=function(e){return"symbol"==typeof e||we(e)&&be(e)==ke},Ce=NaN,je=/^[-+]0x[0-9a-f]+$/i,Te=/^0b[01]+$/i,Oe=/^0o[0-7]+$/i,Ne=parseInt;var Ae=X,Le=ne,Pe=function(e){if("number"==typeof e)return e;if(xe(e))return Ce;if(Se(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Se(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ee(e);var n=Te.test(e);return n||Oe.test(e)?Ne(e.slice(2),n?2:8):je.test(e)?Ce:+e},Re="Expected a function",He=Math.max,Ie=Math.min;var Me=function(e,t,n){var o,r,i,c,a,l,s=0,u=!1,_=!1,f=!0;if("function"!=typeof e)throw new TypeError(Re);function p(t){var n=o,i=r;return o=r=void 0,s=t,c=e.apply(i,n)}function d(e){var n=e-l;return void 0===l||n>=t||n<0||_&&e-s>=i}function h(){var e=Le();if(d(e))return v(e);a=setTimeout(h,function(e){var n=t-(e-l);return _?Ie(n,i-(e-s)):n}(e))}function v(e){return a=void 0,f&&o?p(e):(o=r=void 0,c)}function m(){var e=Le(),n=d(e);if(o=arguments,r=this,l=e,n){if(void 0===a)return function(e){return s=e,a=setTimeout(h,t),u?p(e):c}(l);if(_)return clearTimeout(a),a=setTimeout(h,t),p(l)}return void 0===a&&(a=setTimeout(h,t)),c}return t=Pe(t)||0,Ae(n)&&(u=!!n.leading,i=(_="maxWait"in n)?He(Pe(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==a&&clearTimeout(a),s=0,o=l=r=a=void 0},m.flush=function(){return void 0===a?c:v(Le())},m};function De(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}l((o=o.apply(e,t||[])).next())}))}var Ue,Fe,We,ze,Ve,Be,$e,qe={},Ge=[],Je=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ke=Array.isArray;function Ze(e,t){for(var n in t)e[n]=t[n];return e}function Xe(e){var t=e.parentNode;t&&t.removeChild(e)}function Ye(e,t,n){var o,r,i,c={};for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:c[i]=t[i];if(arguments.length>2&&(c.children=arguments.length>3?Ue.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===c[i]&&(c[i]=e.defaultProps[i]);return Qe(e,c,o,r,null)}function Qe(e,t,n,o,r){var i={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++We:r};return null==r&&null!=Fe.vnode&&Fe.vnode(i),i}function et(e){return e.children}function tt(e,t){this.props=e,this.context=t}function nt(e,t){if(null==t)return e.__?nt(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?nt(e):null}function ot(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return ot(e)}}function rt(e){(!e.__d&&(e.__d=!0)&&ze.push(e)&&!it.__r++||Ve!==Fe.debounceRendering)&&((Ve=Fe.debounceRendering)||Be)(it)}function it(){var e,t,n,o,r,i,c,a;for(ze.sort($e);e=ze.shift();)e.__d&&(t=ze.length,o=void 0,r=void 0,c=(i=(n=e).__v).__e,(a=n.__P)&&(o=[],(r=Ze({},i)).__v=i.__v+1,ht(a,i,r,n.__n,void 0!==a.ownerSVGElement,null!=i.__h?[c]:null,o,null==c?nt(i):c,i.__h),vt(o,i),i.__e!=c&&ot(i)),ze.length>t&&ze.sort($e));it.__r=0}function ct(e,t,n,o,r,i,c,a,l,s){var u,_,f,p,d,h,v,m=o&&o.__k||Ge,y=m.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(p=n.__k[u]=null==(p=t[u])||"boolean"==typeof p||"function"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?Qe(null,p,null,null,p):Ke(p)?Qe(et,{children:p},null,null,null):p.__b>0?Qe(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(f=m[u])||f&&p.key==f.key&&p.type===f.type)m[u]=void 0;else for(_=0;_<y;_++){if((f=m[_])&&p.key==f.key&&p.type===f.type){m[_]=void 0;break}f=null}ht(e,p,f=f||qe,r,i,c,a,l,s),d=p.__e,(_=p.ref)&&f.ref!=_&&(v||(v=[]),f.ref&&v.push(f.ref,null,p),v.push(_,p.__c||d,p)),null!=d?(null==h&&(h=d),"function"==typeof p.type&&p.__k===f.__k?p.__d=l=at(p,l,e):l=st(e,p,f,m,d,l),"function"==typeof n.type&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=nt(f))}for(n.__e=h,u=y;u--;)null!=m[u]&&("function"==typeof n.type&&null!=m[u].__e&&m[u].__e==n.__d&&(n.__d=ut(o).nextSibling),gt(m[u],m[u]));if(v)for(u=0;u<v.length;u++)yt(v[u],v[++u],v[++u])}function at(e,t,n){for(var o,r=e.__k,i=0;r&&i<r.length;i++)(o=r[i])&&(o.__=e,t="function"==typeof o.type?at(o,t,n):st(n,o,o,r,o.__e,t));return t}function lt(e,t){return t=t||[],null==e||"boolean"==typeof e||(Ke(e)?e.some((function(e){lt(e,t)})):t.push(e)),t}function st(e,t,n,o,r,i){var c,a,l;if(void 0!==t.__d)c=t.__d,t.__d=void 0;else if(null==n||r!=i||null==r.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(r),c=null;else{for(a=i,l=0;(a=a.nextSibling)&&l<o.length;l+=1)if(a==r)break e;e.insertBefore(r,i),c=i}return void 0!==c?c:r.nextSibling}function ut(e){var t,n,o;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(o=ut(n)))return o;return null}function _t(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Je.test(t)?n:n+"px"}function ft(e,t,n,o,r){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||_t(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||_t(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o||e.addEventListener(t,i?dt:pt,i):e.removeEventListener(t,i?dt:pt,i);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function pt(e){return this.l[e.type+!1](Fe.event?Fe.event(e):e)}function dt(e){return this.l[e.type+!0](Fe.event?Fe.event(e):e)}function ht(e,t,n,o,r,i,c,a,l){var s,u,_,f,p,d,h,v,m,y,g,b,w,k,E,S=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,a=t.__e=n.__e,t.__h=null,i=[a]),(s=Fe.__b)&&s(t);try{e:if("function"==typeof S){if(v=t.props,m=(s=S.contextType)&&o[s.__c],y=s?m?m.props.value:s.__:o,n.__c?h=(u=t.__c=n.__c).__=u.__E:("prototype"in S&&S.prototype.render?t.__c=u=new S(v,y):(t.__c=u=new tt(v,y),u.constructor=S,u.render=bt),m&&m.sub(u),u.props=v,u.state||(u.state={}),u.context=y,u.__n=o,_=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=S.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=Ze({},u.__s)),Ze(u.__s,S.getDerivedStateFromProps(v,u.__s))),f=u.props,p=u.state,u.__v=t,_)null==S.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==S.getDerivedStateFromProps&&v!==f&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,y)||t.__v===n.__v){for(t.__v!==n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),u.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),g=0;g<u._sb.length;g++)u.__h.push(u._sb[g]);u._sb=[],u.__h.length&&c.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,y),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(f,p,d)}))}if(u.context=y,u.props=v,u.__P=e,b=Fe.__r,w=0,"prototype"in S&&S.prototype.render){for(u.state=u.__s,u.__d=!1,b&&b(t),s=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do{u.__d=!1,b&&b(t),s=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++w<25);u.state=u.__s,null!=u.getChildContext&&(o=Ze(Ze({},o),u.getChildContext())),_||null==u.getSnapshotBeforeUpdate||(d=u.getSnapshotBeforeUpdate(f,p)),ct(e,Ke(E=null!=s&&s.type===et&&null==s.key?s.props.children:s)?E:[E],t,n,o,r,i,c,a,l),u.base=t.__e,t.__h=null,u.__h.length&&c.push(u),h&&(u.__E=u.__=null),u.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=mt(n.__e,t,n,o,r,i,c,l);(s=Fe.diffed)&&s(t)}catch(e){t.__v=null,(l||null!=i)&&(t.__e=a,t.__h=!!l,i[i.indexOf(a)]=null),Fe.__e(e,t,n)}}function vt(e,t){Fe.__c&&Fe.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Fe.__e(e,t.__v)}}))}function mt(e,t,n,o,r,i,c,a){var l,s,u,_=n.props,f=t.props,p=t.type,d=0;if("svg"===p&&(r=!0),null!=i)for(;d<i.length;d++)if((l=i[d])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){e=l,i[d]=null;break}if(null==e){if(null===p)return document.createTextNode(f);e=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),i=null,a=!1}if(null===p)_===f||a&&e.data===f||(e.data=f);else{if(i=i&&Ue.call(e.childNodes),s=(_=n.props||qe).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(null!=i)for(_={},d=0;d<e.attributes.length;d++)_[e.attributes[d].name]=e.attributes[d].value;(u||s)&&(u&&(s&&u.__html==s.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||ft(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||ft(e,i,t[i],n[i],o)}(e,f,_,r,a),u)t.__k=[];else if(ct(e,Ke(d=t.props.children)?d:[d],t,n,o,r&&"foreignObject"!==p,i,c,i?i[0]:n.__k&&nt(n,0),a),null!=i)for(d=i.length;d--;)null!=i[d]&&Xe(i[d]);a||("value"in f&&void 0!==(d=f.value)&&(d!==e.value||"progress"===p&&!d||"option"===p&&d!==_.value)&&ft(e,"value",d,_.value,!1),"checked"in f&&void 0!==(d=f.checked)&&d!==e.checked&&ft(e,"checked",d,_.checked,!1))}return e}function yt(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Fe.__e(e,n)}}function gt(e,t,n){var o,r;if(Fe.unmount&&Fe.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||yt(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){Fe.__e(e,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&gt(o[r],t,n||"function"!=typeof e.type);n||null==e.__e||Xe(e.__e),e.__=e.__e=e.__d=void 0}function bt(e,t,n){return this.constructor(e,n)}Ue=Ge.slice,Fe={__e:function(e,t,n,o){for(var r,i,c;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),c=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),c=r.__d),c)return r.__E=r}catch(t){e=t}throw e}},We=0,tt.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ze({},this.state),"function"==typeof e&&(e=e(Ze({},n),this.props)),e&&Ze(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),rt(this))},tt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rt(this))},tt.prototype.render=et,ze=[],Be="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$e=function(e,t){return e.__v.__b-t.__v.__b},it.__r=0;var wt=0;function kt(e,t,n,o,r,i){var c,a,l={};for(a in t)"ref"==a?c=t[a]:l[a]=t[a];var s={type:e,props:l,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--wt,__source:r,__self:i};if("function"==typeof e&&(c=e.defaultProps))for(a in c)void 0===l[a]&&(l[a]=c[a]);return Fe.vnode&&Fe.vnode(s),s}var Et,St,xt,Ct,jt=0,Tt=[],Ot=[],Nt=Fe.__b,At=Fe.__r,Lt=Fe.diffed,Pt=Fe.__c,Rt=Fe.unmount;function Ht(e,t){Fe.__h&&Fe.__h(St,e,jt||t),jt=0;var n=St.__H||(St.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Ot}),n.__[e]}function It(e){return jt=1,function(e,t,n){var o=Ht(Et++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):$t(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=St,!St.u)){var r=function(e,t,n){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var c=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(c=!0)}})),!(!c&&o.__c.props===e)&&(!i||i.call(this,e,t,n))};St.u=!0;var i=St.shouldComponentUpdate,c=St.componentWillUpdate;St.componentWillUpdate=function(e,t,n){if(this.__e){var o=i;i=void 0,r(e,t,n),i=o}c&&c.call(this,e,t,n)},St.shouldComponentUpdate=r}return o.__N||o.__}($t,e)}function Mt(e,t){var n=Ht(Et++,3);!Fe.__s&&Bt(n.__H,t)&&(n.__=e,n.i=t,St.__H.__h.push(n))}function Dt(e){return jt=5,function(e,t){var n=Ht(Et++,7);return Bt(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}((function(){return{current:e}}),[])}function Ut(){for(var e;e=Tt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(zt),e.__H.__h.forEach(Vt),e.__H.__h=[]}catch(t){e.__H.__h=[],Fe.__e(t,e.__v)}}Fe.__b=function(e){St=null,Nt&&Nt(e)},Fe.__r=function(e){At&&At(e),Et=0;var t=(St=e.__c).__H;t&&(xt===St?(t.__h=[],St.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Ot,e.__N=e.i=void 0}))):(t.__h.forEach(zt),t.__h.forEach(Vt),t.__h=[],Et=0)),xt=St},Fe.diffed=function(e){Lt&&Lt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Tt.push(t)&&Ct===Fe.requestAnimationFrame||((Ct=Fe.requestAnimationFrame)||Wt)(Ut)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Ot&&(e.__=e.__V),e.i=void 0,e.__V=Ot}))),xt=St=null},Fe.__c=function(e,t){t.some((function(e){try{e.__h.forEach(zt),e.__h=e.__h.filter((function(e){return!e.__||Vt(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Fe.__e(n,e.__v)}})),Pt&&Pt(e,t)},Fe.unmount=function(e){Rt&&Rt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{zt(e)}catch(e){t=e}})),n.__H=void 0,t&&Fe.__e(t,n.__v))};var Ft="function"==typeof requestAnimationFrame;function Wt(e){var t,n=function(){clearTimeout(o),Ft&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Ft&&(t=requestAnimationFrame(n))}function zt(e){var t=St,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),St=t}function Vt(e){var t=St;e.__c=e.__(),St=t}function Bt(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function $t(e,t){return"function"==typeof t?t(e):t}function qt(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function Gt(e){this.props=e}(Gt.prototype=new tt).isPureReactComponent=!0,Gt.prototype.shouldComponentUpdate=function(e,t){return qt(this.props,e)||qt(this.state,t)};var Jt=Fe.__b;Fe.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Jt&&Jt(e)};var Kt=Fe.__e;Fe.__e=function(e,t,n,o){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);Kt(e,t,n,o)};var Zt=Fe.unmount;function Xt(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=function(e,t){for(var n in t)e[n]=t[n];return e}({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Xt(e,t,n)}))),e}function Yt(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Yt(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function Qt(){this.__u=0,this.t=null,this.__b=null}function en(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function tn(){this.u=null,this.o=null}Fe.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Zt&&Zt(e)},(Qt.prototype=new tt).__c=function(e,t){var n=t.__c,o=this;null==o.t&&(o.t=[]),o.t.push(n);var r=en(o.__v),i=!1,c=function(){i||(i=!0,n.__R=null,r?r(a):a())};n.__R=c;var a=function(){if(!--o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=Yt(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__a:o.__b=null});t=o.t.pop();)t.forceUpdate()}},l=!0===t.__h;o.__u++||l||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(c,c)},Qt.prototype.componentWillUnmount=function(){this.t=[]},Qt.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=Xt(this.__b,n,o.__O=o.__P)}this.__b=null}var r=t.__a&&Ye(et,null,e.fallback);return r&&(r.__h=null),[Ye(et,null,t.__a?null:e.children),r]};var nn=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(tn.prototype=new tt).__a=function(e){var t=this,n=en(t.__v),o=t.o.get(e);return o[0]++,function(r){var i=function(){t.props.revealOrder?(o.push(r),nn(t,e,o)):r()};n?n(i):i()}},tn.prototype.render=function(e){this.u=null,this.o=new Map;var t=lt(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},tn.prototype.componentDidUpdate=tn.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){nn(e,n,t)}))};var on="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,rn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,cn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,an=/[A-Z0-9]/g,ln="undefined"!=typeof document,sn=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};tt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(tt.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var un=Fe.event;function _n(){}function fn(){return this.cancelBubble}function pn(){return this.defaultPrevented}Fe.event=function(e){return un&&(e=un(e)),e.persist=_n,e.isPropagationStopped=fn,e.isDefaultPrevented=pn,e.nativeEvent=e};var dn={enumerable:!1,configurable:!0,get:function(){return this.class}},hn=Fe.vnode;Fe.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,o={};for(var r in t){var i=t[r];if(!("value"===r&&"defaultValue"in t&&null==i||ln&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var c=r.toLowerCase();"defaultValue"===r&&"value"in t&&null==t.value?r="value":"download"===r&&!0===i?i="":"ondoubleclick"===c?r="ondblclick":"onchange"!==c||"input"!==n&&"textarea"!==n||sn(t.type)?"onfocus"===c?r="onfocusin":"onblur"===c?r="onfocusout":cn.test(r)?r=c:-1===n.indexOf("-")&&rn.test(r)?r=r.replace(an,"-$&").toLowerCase():null===i&&(i=void 0):c=r="oninput","oninput"===c&&o[r=c]&&(r="oninputCapture"),o[r]=i}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=lt(t.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=lt(t.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),t.class&&!t.className?(o.class=t.class,Object.defineProperty(o,"className",dn)):(t.className&&!t.class||t.class&&t.className)&&(o.class=o.className=t.className),e.props=o}(e),e.$$typeof=on,hn&&hn(e)};var vn=Fe.__r;Fe.__r=function(e){vn&&vn(e),e.__c};var mn=Fe.diffed;Fe.diffed=function(e){mn&&mn(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)};var yn=function(e){return"function"==typeof e};function gn(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function bn(e){var t=Dt(e);return t.current=e,t}var wn=function(e){var t=bn(e);Mt((function(){return function(){t.current()}}),[])},kn=!("undefined"==typeof window||!window.document||!window.document.createElement),En=Me,Sn=X,xn="Expected a function";var Cn=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(xn);return Sn(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),En(e,t,{leading:o,maxWait:t,trailing:r})};function jn(e,t){if(kn)return e?yn(e)?e():"current"in e?e.current:e:t}var Tn=function(e){if(!e||!document.getRootNode)return document;var t,n=Array.isArray(e)?e:[e];return function(e){return e.every((function(e){var t=jn(e);return!!t&&(t.getRootNode()instanceof ShadowRoot||void 0)}))}(n)&&(t=jn(n[0]))?t.getRootNode():document},On=function(e){return function(t,n,o){var r=Dt(!1),i=Dt([]),c=Dt([]),a=Dt();e((function(){var e,l=(Array.isArray(o)?o:[o]).map((function(e){return jn(e)}));if(!r.current)return r.current=!0,i.current=l,c.current=n,void(a.current=t());l.length===i.current.length&&gn(l,i.current)&&gn(n,c.current)||(null===(e=a.current)||void 0===e||e.call(a),i.current=l,c.current=n,a.current=t())})),wn((function(){var e;null===(e=a.current)||void 0===e||e.call(a),r.current=!1}))}},Nn=On(Mt);var An="style_menu-test__NGtSL";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".style_menu-test__NGtSL {\n  position: fixed;\n  top: 0;\n  left: 0;\n  padding: 4px;\n  border: 1px solid #E8E8E8;\n  border-radius: 4px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  background-color: #fff;\n}\n.style_menu-test__NGtSL > div {\n  height: 36px;\n  width: 88px;\n  margin: 0 auto;\n  font-size: 14px;\n  line-height: 36px;\n  color: #222222;\n  text-align: center;\n}\n.style_menu-test__NGtSL > div:hover {\n  background-color: #F2F2F2;\n  cursor: pointer;\n  border-radius: 4px;\n}\n");const Ln=function(e){const{x:t,y:n,src:o,visible:r=!1}=e,[i,c]=It(!1),a=Dt(null),l=window.localStorage.getItem("user")||"{}";Mt((()=>{const e=document.getElementById("menu-666");r&&e&&s(e),c(r)}),[r]);const s=e=>{const t=e&&e.cloneNode(!0);t&&(null==e?void 0:e.parentNode)&&e.parentNode.replaceChild(t,e),(null==t?void 0:t.parentNode)&&t.parentNode.removeChild(t)};!function(e,t,n){void 0===n&&(n="click");var o=bn(e);Nn((function(){var e=function(e){(Array.isArray(t)?t:[t]).some((function(t){var n=jn(t);return!n||n.contains(e.target)}))||o.current(e)},r=Tn(t),i=Array.isArray(n)?n:[n];return i.forEach((function(t){return r.addEventListener(t,e)})),function(){i.forEach((function(t){return r.removeEventListener(t,e)}))}}),Array.isArray(n)?n:[n],t)}((()=>{c(!1),s(document.getElementById("down-menu-box"))}),a);const u=["163","netease","126","16163","easebar","tx163","163img","easefoo","topupease"],_=["com","net"],f=()=>De(this,void 0,void 0,(function*(){const e=(yield p()).toDataURL();let t=document.createElement("a");t.href=e,t.download=`${(new Date).getTime()}.png`,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t);const n=document.getElementById("menu-666");r&&n&&s(n)})),p=()=>De(this,void 0,void 0,(function*(){let{blob:e,width:t=600,height:n=400}=yield new Promise((function(e){var t;let n=new Image;const r=(null===(t=(/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/.exec(o)||[])[0])||void 0===t?void 0:t.split("."))||[];u.includes(r[(null==r?void 0:r.length)-2])&&_.includes(r[(null==r?void 0:r.length)-1])&&!o.includes("fp")?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.onload=function(){console.log("onload");let t=document.createElement("canvas");t.width=n.width,t.height=n.height;let o=t.getContext("2d");o&&o.drawImage(n,0,0),t.toBlob((function(t){e({blob:t,width:n.width,height:n.height})}))},n.src=o}));const r=document.createElement("canvas"),i=t,c=n,a=yield window.createImageBitmap(e,0,0,t,n);r.width=i,r.height=c;const s=r.getContext("2d");null==s||s.drawImage(a,0,0);const{raw_empno:f,name:p}=JSON.parse(l),d=`${f}_${p} 网易资产请勿外泄`,h=document.createElement("canvas");h.width=360,h.height=200;const v=h.getContext("2d");return v.textAlign="left",v.textBaseline="top",v.font="10px",v.fillStyle="rgba(143, 143, 143, 0.3)",v.rotate(-14*Math.PI/180),v.fillText(d,60,60),s.fillStyle=s.createPattern(h,"repeat"),s.fillRect(0,0,r.width,r.height),r})),d=()=>De(this,void 0,void 0,(function*(){(yield p()).toBlob((function(e){let t=[];t.push(new ClipboardItem({"image/png":e})),navigator.clipboard.write(t).then((function(){console.log("图片已成功复制到剪贴板！");const e=document.getElementById("menu-666");r&&e&&s(e)})).catch((function(e){console.error("复制图片到剪贴板时发生错误：",e)}))}))}));return kt("div",Object.assign({id:"menu-666",className:An,style:{position:"fixed",top:`${n}px`,left:`${t}px`,zIndex:1e3,display:i?"block":"none"},ref:a},{children:[kt("div",Object.assign({onClick:()=>{d()}},{children:"复制图片"})),kt("div",Object.assign({onClick:()=>{f()}},{children:"下载图片"}))]}))};function Pn(e){let t=document.createElement("div");t.setAttribute("id","down-menu-box"),document.body.appendChild(t);let n=Object.assign({},e);var o;o=n,function(e,t,n){var o,r,i;Fe.__&&Fe.__(e,t),r=(o="function"==typeof n)?null:n&&n.__k||t.__k,i=[],ht(t,e=(!o&&n||t).__k=Ye(et,null,[e]),r||qe,qe,void 0!==t.ownerSVGElement,!o&&n?[n]:r?null:t.firstChild?Ue.call(t.childNodes):null,i,!o&&n?n:r?r.__e:t.firstChild,o),vt(i,e)}(kt(Ln,Object.assign({},o)),t)}function Rn({op:e}){fetch(J.defaultHost+"/km_java_api/statistics/operator/record",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({op:e,url:location.href,path:location.pathname})}).then((e=>{console.log("用户上报成功",e)})).catch((e=>{console.warn("用户行为上报失败",e)}))}const Hn=new Map;function In(e,t){if(Hn.has(e)){const n=Hn.get(e);if(null==n?void 0:n.has(t))return;null==n||n.add(t)}else Hn.set(e,new Set([t]))}const Mn=new WeakSet,Dn=Cn((function(){Hn.forEach(((e,t)=>{document.querySelectorAll(t).forEach((t=>{Mn.has(t)||e.forEach((e=>{e(t),Mn.add(t)}))}))}))}),800,{leading:!0,trailing:!0});let Un=!1;function Fn(e){if("IMG"===(null==e?void 0:e.tagName)&&!(null==e?void 0:e.complete)&&0===e.naturalWidth&&e.src){if(window.location.pathname.match(/^\/(editor|rms)/))return;function t(){setTimeout((()=>{if(!e.complete&&0===e.naturalWidth){const t=e.src.split("?")[0];e.src!==t&&(e.src=e.src.split("?")[0])}}),1e3)}(function(e){const t=new URL(e).pathname;return/\/file\/[0-9a-z]{24}[A-Za-z0-9]{10}/.test(t)})(e.src)&&e.src.includes("watermark")&&function(e){const t=e.split("?")[0];return fetch(t+"/info?imginfo").then((e=>200===e.status?e.json():Promise.reject(e)))}(e.src).then((e=>{"GIF"===(null==e?void 0:e.format)&&t(),(null==e?void 0:e.fsize)>5242880&&t()})).catch((()=>{t()}))}}!function(){if(Un)return;new MutationObserver((e=>{e.forEach((e=>{const t=e.addedNodes,n=e.target.childNodes;(t.length||n.length)&&Dn()}))})).observe(document,{childList:!0,subtree:!0}),Dn(),Un=!0}();const Wn=function(){},zn=function(){Rn({op:"print_page"})};const Vn=Me(Rn,10);function Bn(e){e.addEventListener("copy",(e=>{const t=window.getSelection();if(t){t.toString()&&Vn({op:"text_copy"})}}))}function $n(e){e.style.userSelect="none"}!function(){try{window.matchMedia?window.matchMedia("print").addListener((function(e){console.log(e),e.matches||zn()})):(window.onbeforeprint=Wn,window.onafterprint=zn),[".article-main",".wiki-detail",".tech-wiki-detail",".messiah-wiki-detail",".topic-content",".resource-main","#details",".tc-detail-article",".rock-card-content",".articleArea","#question","#kp_blog_main_content"].forEach((e=>{In(e,Bn)})),function(){if([".pdf2html-viewer-container"].forEach((e=>{In(e,$n)})),location.pathname.includes("/km_java_api/doc/preview/excel")){function e(t){setTimeout((()=>{t.querySelectorAll("frame").forEach((t=>{var n;const o=null===(n=t.contentWindow)||void 0===n?void 0:n.document;(null==o?void 0:o.body)&&(o.body.style.userSelect="none"),t.contentWindow&&t.contentWindow.addEventListener("beforeunload",(()=>{e(window.document)}))}))}),1e3)}In("frameset",e)}}(),In("img",(e=>{e.addEventListener("contextmenu",(e=>{var t;e.preventDefault(),e.stopPropagation();const n=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,r=e.clientX,i=e.clientY;Pn({visible:!0,x:n-r>110?r:r-110,y:o-i>66?i:i-66,src:(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.src)||"",imgDom:e.target}),console.log(e.target)})),Fn(e)}))}catch(e){console.warn("全局事件初始化失败",e)}}()}));
//# sourceMappingURL=KM-front-gateway.js.map
