(this["webpackJsonpkm-wiki"]=this["webpackJsonpkm-wiki"]||[]).push([[1],{100:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return f}));var a,r=n(33),i=n(55),c=n.n(i),o=n(411),s=n(775),l=(n(1394),n(47)),u=n.n(l),E=(a={},Object(r.a)(a,"en",{en:"\u82f1\u8bed",title:{TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4"},home:{MODEL_AUTH:{CHOOSE_TEAM_SPACE:"Choose TeamSpace",CURRENT_TEAM_SPACE:"(Current TeamSpace)",MUTUAL_STAFF:"Interactive entertainment employee",FULL_TIME_EMPLOYEES:"Full-time employees",MUTUAL_INTERN:"Interactive entertainment intern",INTERN:"Intern",MUTUAL_ENTERTAINMENT:"Interactive entertainment contractor",OUTSOURCED_EMPLOYEE:"Contractor",NON_INTERACTIVE:"Group (non-mutual entertainment) staff",DISPATCH_STAFF:"Expatriate employee",OPERATIONS_CENTER_STAFF:"Operations center staff (OG)",OPEN_TO_ALL:"Open to all",DESIGNATED_OCCUPATION:"Specific occupations",NOT_SET:"Not set",CUSTOM_VISIBILITY_GROUP:"Customize view permission groups",SET_ROLES_OCC:"Set role and occupation",ROLE_OCCUPATION:"Job roles",TEAM_SPACE:"Team space",SPECIFIC_USER:"Specific user",SELECT_USER:"Select user",SEARCH_USER:"Search all usernames/email prefixes, press return to search",NO_RELATED_USERS:"No relavant users were found",PERMISSION_SETTINGS:"Permission settings",EVERYONE:"Everyone",ONLY_YOURSELF:"Myself",DESIGNATED_O_T_U:"Occupation / Teamspace / User",ADJUST_RESOURCES_AUTH:"Sychronously adjust permissions to the resources under current category?",NOT_ADJUSTED:"Don't adjust",ALL_ADJUSTMENTS:"Adjust all (including all categories and resource permissions under current category) ",THIS_OPERATION_LARGE:"This operation has wide-ranging effects, please be cautious",PARTIAL_ADJUSTMENT:"Partial adjustment",LOCK_ONLY_PERMISSIONS:"Lock only permissions",MODIFY_AND_LOCK:"Modify and lock permissions",MODIFY_PERMISSIONS:"Modify permissions",NO_MADE_CHOICE:"You have not made a choice yet",PUBLIC:"Public",CONTACT:"If you have any question when editing, please feel free to contact "},MENU:{LOAD_MORE:"Load More",REMAINING:"Remaining",NEW_ENTRY:"New Wiki Entry",NEW_CATEGORY:"New Category",NEW_SUBENTRY:"New Wiki Subentry",NEW_SUBCATEGORY:"New Subcategory",STARRED:"Starred",RENAME:"Rename",DELETE:"Delete",RECYCLE_BIN:"Recycle Bin",PUT_AWAY:"Collapse all",SITE_HOME:"Site Home"},OUTLINE:{SITE_HOME:"Site Home",SHARE:"Share",SHARE_TOAST:"Resource link is copied and ready for sharing!"},GLOBAL:{SEARCH_KEYWORD:"search for the keyword",MANAGE_WIKI:"Wiki sites I manage",VIEWED_WIKI:"Wiki sites I visited",PSITE_TIPS:"The new version of the wiki no longer provides an aggregated homepage for all sites, please select the wiki site you want to visit below",NO_AUTH_ACCESS:"You do not have access rights, please contact the site administrator if you have any questions",NO_ACCESS:"No Access"},RECYCLE:{SEARCH:"Search",SEARCH_TITLE:"Search title...",CREATOR:"Creator",DELETOR:"Deleted by",RECOVERED_PATH:"Entry has been restored to",ENTRY:"Entry",RESTORED_TO:"has been restored to",ORIGIN_NOT:"Original parent entry no longer exists. Please select a restore location.",SELECT_LOCATION:"Please select a restore location.",DELETE_TIME:"Deleted on",TITLE:"Title",ACTIONS:"Actions",RESTORE:"Restore",RECYCLE_BIN:"Recycle Bin",RESTORE_SUCCESSFUL:"Restore Successful",CHOOSE_LOCATION:"Choose Restore Location",CANCEL:"Cancel",VIEW:"View",CONFIRM:"Confirm"},SEARCH:{SEARCH_RESULTS:"Found {num} results related to \u201c{keyword}\u201d",ONLY_TITLE:"Search title only",CLEAR_HISTORY:"Clear History",AUTHOR:"Author",BY_RELEVANCE:"By relevance",LAST_UPDATED_DESCENDING:"Last updated, descending",LAST_UPDATED_ASCENDING:"Last updated, ascending",DATE_CREATED_DESCENDING:"Date created, descending",DATE_CREATED_ASCENDING:"Date created, ascending",NO_RESULTS:"No Results",CREATOR:"Creator",UPDATOR:"Updator"}},member:{MANAGE_GROUPS:"Manage groups",CHANGE_RECORD:"Change record",DEPARTMENT_INFO:"Department info",CHANGE:"change",CHANGE_REASON:"Change reason",CHANGE_TIME:"Change time",OPERATOR:"Operator",MEMBER_CHANGE_RECORD:"Member change record",ADD_MEMBER:"Add member",SEARCH_NAME_EMAIL:"Search name/email",MEMBER:"Member",DEPARTMENT:"Department",ROLE:"Role",ALL:"All",TEAM_MEMBER:"Team member",CONTENT_MANAGER:"Content manager",OFFICIAL_PUBLISHER:"Official Publisher",TEAM_MANAGER:"Team manager",GROUP:"Group",ACTIONS:"Actions",MODIFY:"Modify",QUIT:"Quit",MORE:"More",ADD_TO_RESTRICTION_LIST:"Add to restriction list",REMOVE:"Remove",GROUP_AND_GROUP_TYPES:"Group and group types",EXPAND_ALL_GROUPS:"Expand all groups",ADD_NEW_GROUP:"Add new group",EDIT:"Edit",DELETE:"Delete",CREATE_NEW_GROUP_TYPE:"Create new group type",INVITE_BY_LINK:"Invite by link",INVITE_MEMBERS_BY_LINK:"Invite members by link",SEND_A_LINK_INVITATION:"Send a link invitation",COPY_LINK:"Copy Link",DIRECT_INVITATION:"Direct invitation",INVITE_MEMBERS_DIRECTLY:"Invite members directly",CANCEL:"Cancel",CONFIRM:"Confirm",BATCH_IMPORT:"Batch Import",BATCH_IMPORT_MENBER:"Batch import menber",UPLOAD_FILE:"Upload file",SEPARATE:"Separate multiple groups or roles with spaces",HEADER_CONTAIN:"The header must contain three items: name, corp email, and user role.",IMPORT:"Import",CLICK_TO_COPY:"Click to copy invitation link and send it to the relevant users. Link is valid for 48 hours after created. Supports adding up to 20 people to the team per link, for more than 20 people please copy a new link.",SURE_TO_REMOVE:"Are you sure to remove this member? Upon remove they will lose access to this TeamSpace.",ADD_TO_RESTRICTED:"Are you sure  to add this member to the restricted list? Upon add to restricted list, they will lose access to this TeamSpace.",SUCCESSFUL_OPERATION:"Operation successful",SUCCESSFULLY_REMOVED:"Removed",SUCCESSFULLY_MODIFIED:"Modified",ADD:"Add",RESULT_OF_EXCEPTION:"Exception cause",NAME:"Name",EMAIL:"Email",CLOSE:"Close",IMPORT_EXCEPTION:"Import exception",PLEASE_UPLOAD:"Please upload a csv format file",UNCLASSIFIED:"Unsorted",SUCCESSFULLY_IMPORTED:"Imported",OK:"OK",CLICK_THE_CHECKBOX:"Use the checkbox to manage multiple members (remove, add to restricted lists, etc.)",TIPS:"Tips",NO_MEMBERS:"No members yet",CLICK_ON:"Click on ''Invite members'' in the top right corner to add",DID_NOT_FIND_THIS_MEMBER:"Did not find this member",USER_EHR__CANNOT__REMOVED:"Users synced from EHR cannot be removed and can only be added to the restricted list.",USERS_JOIN_THE_RESTRICTED:"Users added to the restricted list cannot access team space",TIME_OF_JOININGL:"Joined",RESTRICTED_LIST:"The restricted list",RESTRICTED_LIST_NUM:"{num, plural, =0 {(no member.)} =1 {(one member.)} other {(# members.)}}",MEMBERS_IN_TOTAL:"Total member(s) {num}",REMOVE_MEMBER:"Remove member",MEMBER_SELECTED:"selected {num, plural, =0 {(no member)} =1 {(one member)} other {(# members)}}",RESTRICTED_LIST_SHEET:"Restricted list",SURE_ADD_SELECTED__RESTRICTED:"Are you sure add  the selected member to the restricted list?",USERS_JOIN_RESTRICTED:"Users who join the restricted list will continue to appear in the list, and the restrictions can be removed from the list.",TEAM_ACCESSIBLE_AFTER_REMOVAL:"TeamSpace will be inaccessible after removal",CONFIRM_REMOVE_MEMBERS:"Confirm removal of selected members?",EXIT_SUCCESSFULLY:"Exit successfully",INVITATION_URL_COPIED:"Invite link has been copied",PLEASE_SELECT_A_ROLE:"Please select a role",ALREADY_TEAMSPACE:"Already added",ADDED_SUCCESSFULLY:"Added",ADDED_FAILED:"Add failed",IN_THE_RESTRICTED_LIST:"Blacklisted",INVITE_SETTINGS:"Invite member-member settings",ROLE_SETTING:"Role setting",GROUPING_SETTINGS:"Grouping settings",NOTE:"Note: The settings above are batch operations. If you want to set them individually, please go to the member list.",TIPS_SHORT:"Tips",EMPTY:"Clear",SURE_TO_LEAVE:"Are you sure you want to leave this TeamSpace?",REMOVE_RESTRICTION:"Remove from restricted list",ADD_FAILED:"Add failed, you can choose to submit again",SUB_AGAIN:"Submit again",ALL_ADD_SUCCESS:"All added successfully",ADD_MEMBERS:"{num, plural, =0 {(no member.)} =1 {(one member.)} other {(# members.)}} have been successfully added. The other members have the following status:",DID_NOT_FIND_THIS_RECORD:"No change records found"},create:{DEFAULT_INFO:{CREATE_WIKI:"New Wiki Site",TITLE:"Title",ENTER_TITLE:"Site title in {language, plural ,=0 {Chinese} =1 {English}}",LAST_ONE_CTITLE:"Fill-in site title for at least Chinese",PATH:"Path",PATH_TIP_ONE:" Do not use empty or already existing paths.",PATH_TIP_TWO:"Path must be 2-15 characters long consisting only lowercase letters, numbers, dash and underscore.",PATH_TIPS:"Path must be 2-15 characters long consisting only lowercase letters, numbers, dash and underscore. Do not use empty or already existing paths.",PATH_EXISTS:"This path already exists.",INTRO:"Intro",ENTER_INTRO:"Site introduction in {language, plural ,=0 {Chinese} =1 {English}}",TAGS:"Tags",ADD_TAG:"add tag",CREATE_TAG:"Add",TAG_FONT_NUM:"At most 20 characters",UPLOAD:"Upload",UPLOAD_MAX:"Max size {num}MB, supports png, jpg, jpeg or gif.",VIEW_PERMISSION:"Viewing Permission",SELECTED:"Select Users",AUTH_VIEW_EXPLANTATION:"Determines whether users can view the Wiki site homepage and table of contents. Selected user groups will also be given default viewing permissions to Wiki site tier-1 nodes.",AUTH_VIEW_TIPS:"Removing a user\u2019s viewing permissions will also remove their publishing permissions.",PUBLISH_PERMISSION:"Publishing Permission",AUTH_PUBLISH_EXPLANTATION:"Determines whether users can create new categories or publish resources. Selected user groups will also be given default editing permissions to Wiki site tier-1 nodes.",AUTH_PUBLISH_TIPS:"Giving a user publishing permission will also give them viewing permission.",MANAGER:"Administrators",VALIDATE_ERROR:"Site information is incorrect",SAVE:"Save",CANCEL:"Cancel",SAME_TAG:"Same label",INVALID_SYMBOL:"Invalid symbol!",INVALID_TIPS:"Only English, numbers, underscores, etc."},LOGO_MODAL:{EDIT_LOGO:"Edit Logo",PREVIEW:"Preview",RE_UPLOAD:"Re-Upload"},MANAGER_MODAL:{CHANGE_MANAGER:"Change Site Administrators",CLEAR_ALL:"Clear all"}},setting:{DEFAULT_INFO:{BASIC_INFO:"Wiki Site Basic Settings",APPLY_DELETE:"Delete Wiki Site",DELETE_TIPS:"You can request to delete this wiki site",REQUEST_DELETE:"Request Delete",REQUEST_DELETE_ING:"Deleting",SAVE_SUCCESS:"Successfully modified"},SYNC_MODAL:{CONFIRM_PERMISSION:"Confirm Permissions Sync",PERMISSION_INPUT_TIPS:"Set permission groups. Newly added permission groups are shown in red.",ASK_SYNC:"You are changing permission groups for Wiki site {name}. Do you want to sync changes across site resources?",RADIO_ONE:"Do not sync changes",RADIO_TWO:"Add new permission groups to all site resources",RADIO_THREE:"Add new permission groups to certain site resources",RADIO_FOUR:"Apply current permission groups to all site resources",RADIO_FIVE:"Apply current permission groups to certain site resources"},DELETE_MODAL:{DELETE_CONFIRM:"Delete Request Confirmation",DELETE_CONFIRM_TIPS:"Request to delete this site?",DELETE_SUCCESS:"Deleted"}},history:{VERSION_HISTORY:"Version History",ADDED_CONTENT:"Added Content",DELETED_CONTENT:"Deleted Content",CHANGE_FORMATTING:"Change Formatting",EXIT_COMPARISON:"Comparing Versions",RESTORE:"Restore",RESTORE_SUCCESSFUL:"Restore Successful",COMPARING_VERSIONS:"Comparing Versions...",CURRENT_VERSION:"Current Version",EDIT_REASON:"Reason for Edit",NONE:"None",COMPARE_VERSIONS:"Compare Versions",EDITION:"{num} Edition",RESTORE_CONFIRMATION:"Restore Confirmation",RESTORE_TEXT:"Restore this as the latest version?",UPDATED_BY:"Updated by"}}),Object(r.a)(a,"zh-CN",{en:"",home:{MODEL_AUTH:{CHOOSE_TEAM_SPACE:"\u9009\u62e9\u56e2\u961f\u7a7a\u95f4",CURRENT_TEAM_SPACE:"\uff08\u5f53\u524d\u56e2\u961f\u7a7a\u95f4\uff09",MUTUAL_STAFF:"\u4e92\u5a31\u6b63\u5f0f\u5458\u5de5",FULL_TIME_EMPLOYEES:"\u6b63\u5f0f\u5458\u5de5",MUTUAL_INTERN:"\u4e92\u5a31\u5b9e\u4e60\u751f",INTERN:"\u5b9e\u4e60\u5458\u5de5",MUTUAL_ENTERTAINMENT:"\u4e92\u5a31\u5916\u5305(\u5916\u5305+\u5916\u6d3e)",OUTSOURCED_EMPLOYEE:"\u5916\u5305\u5458\u5de5",NON_INTERACTIVE:"\u96c6\u56e2(\u975e\u4e92\u5a31)\u5458\u5de5",DISPATCH_STAFF:"\u6d3e\u9063\u5458\u5de5",OPERATIONS_CENTER_STAFF:"\u8fd0\u8425\u4e2d\u5fc3\u5458\u5de5(OG)",OPEN_TO_ALL:"\u5b8c\u5168\u516c\u5f00",DESIGNATED_OCCUPATION:"\u6307\u5b9a\u804c\u4e1a",NOT_SET:"\u672a\u8bbe\u7f6e",CUSTOM_VISIBILITY_GROUP:"\u81ea\u5b9a\u4e49\u53ef\u89c1\u7fa4\u4f53",SET_ROLES_OCC:"\u8bbe\u7f6e\u89d2\u8272\u4e0e\u804c\u4e1a",ROLE_OCCUPATION:"\u89d2\u8272\u804c\u4e1a",TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4",SPECIFIC_USER:"\u5177\u4f53\u7528\u6237",SELECT_USER:"\u9009\u62e9\u7528\u6237",SEARCH_USER:"\u641c\u7d22\u6240\u6709\u7528\u6237\u540d\u79f0/\u90ae\u7bb1\u524d\u7f00\uff0c\u56de\u8f66\u641c\u7d22",NO_RELATED_USERS:"\u672a\u641c\u7d22\u5230\u76f8\u5173\u7528\u6237",PERMISSION_SETTINGS:"\u6743\u9650\u8bbe\u7f6e",EVERYONE:"\u6240\u6709\u4eba",ONLY_YOURSELF:"\u4ec5\u81ea\u5df1",DESIGNATED_O_T_U:"\u6307\u5b9a\u804c\u4e1a/\u56e2\u961f\u7a7a\u95f4/\u7528\u6237",ADJUST_RESOURCES_AUTH:"\u662f\u5426\u540c\u6b65\u8c03\u6574\u5f53\u524d\u5206\u7c7b\u4e0b\u7684\u8d44\u6e90\u7684\u6743\u9650",NOT_ADJUSTED:"\u4e0d\u8c03\u6574",ALL_ADJUSTMENTS:"\u5168\u90e8\u8c03\u6574(\u5305\u542b\u5f53\u524d\u5206\u7c7b\u4e0b\u5168\u90e8\u5206\u7c7b\u53ca\u8d44\u6e90\u6743\u9650)",THIS_OPERATION_LARGE:"\u6b64\u64cd\u4f5c\u5f71\u54cd\u8303\u56f4\u8f83\u5927\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",PARTIAL_ADJUSTMENT:"\u90e8\u5206\u8c03\u6574",LOCK_ONLY_PERMISSIONS:"\u4ec5\u9501\u5b9a\u6743\u9650",MODIFY_AND_LOCK:"\u4fee\u6539\u5e76\u9501\u5b9a\u6743\u9650",MODIFY_PERMISSIONS:"\u4fee\u6539\u6743\u9650",NO_MADE_CHOICE:"\u60a8\u8fd8\u672a\u505a\u51fa\u9009\u62e9",PUBLIC:"\u516c\u5f00",CONTACT:"\u7f16\u8f91\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u968f\u65f6\u8054\u7cfb"},MENU:{LOAD_MORE:"\u52a0\u8f7d\u66f4\u591a",REMAINING:"\u5269\u4f59",NEW_ENTRY:"\u65b0\u5efa\u8bcd\u6761",NEW_CATEGORY:"\u65b0\u5efa\u5206\u7c7b",NEW_SUBENTRY:"\u65b0\u5efa\u5b50\u8bcd\u6761",NEW_SUBCATEGORY:"\u65b0\u5efa\u5b50\u5206\u7c7b",STARRED:"\u6807\u661f",RENAME:"\u91cd\u547d\u540d",DELETE:"\u5220\u9664",RECYCLE_BIN:"\u56de\u6536\u7ad9",PUT_AWAY:"\u4e00\u952e\u6536\u8d77",SITE_HOME:"\u7ad9\u70b9\u9996\u9875"},OUTLINE:{SITE_HOME:"\u7ad9\u70b9\u9996\u9875",SHARE:"\u5206\u4eab",SHARE_TOAST:"\u5df2\u590d\u5236\u8bbf\u95ee\u5730\u5740\uff0c\u5feb\u53bb\u5206\u4eab\u7ed9\u670b\u53cb\u5427\uff01"},GLOBAL:{SEARCH_KEYWORD:"\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22",MANAGE_WIKI:"\u6211\u7ba1\u7406\u7684Wiki\u7ad9\u70b9",VIEWED_WIKI:"\u6211\u6d4f\u89c8\u8fc7\u7684Wiki\u7ad9\u70b9",PSITE_TIPS:"\u65b0\u7248Wiki\u4e0d\u518d\u63d0\u4f9b\u5168\u90e8\u7ad9\u70b9\u7684\u805a\u5408\u9996\u9875\uff0c\u8bf7\u5728\u4e0b\u65b9\u9009\u62e9\u9700\u8981\u8bbf\u95ee\u7684Wiki\u7ad9\u70b9",NO_AUTH_ACCESS:"\u4f60\u6ca1\u6709\u8bbf\u95ee\u6743\u9650 \u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u7ad9\u70b9\u7ba1\u7406\u5458",NO_ACCESS:"\u65e0\u6743\u8bbf\u95ee"},RECYCLE:{SEARCH:"\u641c\u7d22",SEARCH_TITLE:"\u641c\u7d22\u6807\u9898\u5185\u5bb9",CREATOR:"\u521b\u5efa\u4eba",DELETOR:"\u64cd\u4f5c\u8005",RECOVERED_PATH:"\u8bcd\u6761\u5df2\u6062\u590d\u81f3",ENTRY:"\u8bcd\u6761",RESTORED_TO:"\u5df2\u6062\u590d\u81f3",ORIGIN_NOT:"\u539f\u7236\u7ea7\u8bcd\u6761\u4e0d\u5b58\u5728\uff0c\u8bf7\u9009\u62e9\u6062\u590d\u4f4d\u7f6e",SELECT_LOCATION:"\u8bf7\u9009\u62e9\u6062\u590d\u4f4d\u7f6e",DELETE_TIME:"\u5220\u9664\u65f6\u95f4",TITLE:"\u6807\u9898",ACTIONS:"\u64cd\u4f5c",RESTORE:"\u6062\u590d",RECYCLE_BIN:"\u56de\u6536\u7ad9",RESTORE_SUCCESSFUL:"\u6062\u590d\u6210\u529f",CHOOSE_LOCATION:"\u9009\u62e9\u6062\u590d\u4f4d\u7f6e",CANCEL:"\u53d6\u6d88",VIEW:"\u67e5\u770b",CONFIRM:"\u786e\u8ba4"},SEARCH:{SEARCH_RESULTS:"\u5171 {num} \u4e2a\u201c{keyword}\u201d\u76f8\u5173\u7ed3\u679c",ONLY_TITLE:"\u4ec5\u641c\u7d22\u6807\u9898",CLEAR_HISTORY:"\u6e05\u7a7a\u641c\u7d22\u5386\u53f2",AUTHOR:"\u4f5c\u8005",BY_RELEVANCE:"\u76f8\u5173\u5ea6\u964d\u5e8f",LAST_UPDATED_DESCENDING:"\u66f4\u65b0\u65f6\u95f4\u5012\u5e8f",LAST_UPDATED_ASCENDING:"\u66f4\u65b0\u65f6\u95f4\u6b63\u5e8f",DATE_CREATED_DESCENDING:"\u521b\u5efa\u65f6\u95f4\u5012\u5e8f",DATE_CREATED_ASCENDING:"\u521b\u5efa\u65f6\u95f4\u6b63\u5e8f",NO_RESULTS:"\u6682\u65e0\u641c\u7d22\u7ed3\u679c\u54e6~",CREATOR:"\u521b\u5efa\u8005",UPDATOR:"\u6700\u8fd1\u7f16\u8f91"}},member:{MANAGE_GROUPS:"\u7ba1\u7406\u5206\u7ec4",CHANGE_RECORD:"\u53d8\u52a8\u8bb0\u5f55",DEPARTMENT_INFO:"\u90e8\u95e8\u4fe1\u606f",CHANGE:"\u53d8\u52a8",CHANGE_REASON:"\u53d8\u52a8\u539f\u56e0",CHANGE_TIME:"\u53d8\u52a8\u65f6\u95f4",OPERATOR:"\u64cd\u4f5c\u4eba",MEMBER_CHANGE_RECORD:"\u6210\u5458\u53d8\u52a8\u8bb0\u5f55",ADD_MEMBER:"\u6dfb\u52a0\u6210\u5458",SEARCH_NAME_EMAIL:"\u641c\u7d22\u59d3\u540d/\u90ae\u7bb1",MEMBER:"\u6210\u5458",DEPARTMENT:"\u90e8\u95e8",ROLE:"\u89d2\u8272",ALL:"\u5168\u90e8",TEAM_MEMBER:"\u56e2\u961f\u6210\u5458",CONTENT_MANAGER:"\u5185\u5bb9\u7ba1\u7406\u5458",OFFICIAL_PUBLISHER:"\u5b98\u65b9\u53d1\u5e03\u4eba",TEAM_MANAGER:"\u56e2\u961f\u7ba1\u7406\u5458",GROUP:"\u5206\u7ec4",ACTIONS:"\u64cd\u4f5c",MODIFY:"\u4fee\u6539",QUIT:"\u9000\u51fa",MORE:"\u66f4\u591a",ADD_TO_RESTRICTION_LIST:"\u52a0\u5165\u9650\u5236\u540d\u5355",REMOVE:"\u79fb\u9664",GROUP_AND_GROUP_TYPES:"\u5206\u7ec4\u548c\u5206\u7ec4\u7c7b\u578b",EXPAND_ALL_GROUPS:"\u5c55\u5f00\u6240\u6709\u5206\u7ec4",ADD_NEW_GROUP:"\u6dfb\u52a0\u5206\u7ec4",EDIT:"\u7f16\u8f91",DELETE:"\u5220\u9664",CREATE_NEW_GROUP_TYPE:"\u65b0\u5efa\u5206\u7ec4\u7c7b\u578b",INVITE_BY_LINK:"\u94fe\u63a5\u9080\u8bf7",INVITE_MEMBERS_BY_LINK:"\u94fe\u63a5\u9080\u8bf7\u6210\u5458",SEND_A_LINK_INVITATION:"\u53d1\u9001\u94fe\u63a5\u9080\u8bf7",COPY_LINK:"\u590d\u5236\u94fe\u63a5",DIRECT_INVITATION:"\u76f4\u63a5\u9080\u8bf7",INVITE_MEMBERS_DIRECTLY:"\u76f4\u63a5\u9080\u8bf7\u6210\u5458",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u5b9a",BATCH_IMPORT:"\u6279\u91cf\u5bfc\u5165",BATCH_IMPORT_MENBER:"\u6279\u91cf\u5bfc\u5165\u6210\u5458",UPLOAD_FILE:"\u4e0a\u4f20\u6587\u4ef6",SEPARATE:"\u591a\u4e2a\u5206\u7ec4\u6216\u89d2\u8272\u95f4\u7528\u7a7a\u683c\u5206\u5f00",HEADER_CONTAIN:"\u62ac\u5934\u5fc5\u987b\u5305\u542b\u59d3\u540d\u3001corp\u90ae\u7bb1\u3001\u7528\u6237\u89d2\u8272\u4e09\u9879",IMPORT:"\u5f00\u59cb\u5bfc\u5165",CLICK_TO_COPY:"\u70b9\u51fb\u590d\u5236\u9080\u8bf7\u94fe\u63a5\u53d1\u9001\u7ed9\u76f8\u5173\u6210\u5458\uff0c\u9080\u8bf7\u94fe\u63a5\u6709\u6548\u671f\u4e3a\u70b9\u51fb\u590d\u5236\u540e\u768448\u5c0f\u65f6\uff0c\u652f\u630120\u4eba\u81ea\u52a8\u52a0\u5165\u56e2\u961f\uff0c\u8d85\u8fc720\u4eba\u9700\u8981\u91cd\u65b0\u590d\u5236\u94fe\u63a5",SURE_TO_REMOVE:"\u786e\u5b9a\u79fb\u9664\u8be5\u6210\u5458\uff1f\u79fb\u9664\u540eTa\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4\u3002",ADD_TO_RESTRICTED:"\u786e\u5b9a\u5c06\u8be5\u6210\u5458\u52a0\u5165\u9650\u5236\u540d\u5355\uff1f\u52a0\u5165\u9650\u5236\u540d\u5355\u540e\uff0cTa\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4\u3002",SUCCESSFUL_OPERATION:"\u64cd\u4f5c\u6210\u529f",SUCCESSFULLY_REMOVED:"\u79fb\u9664\u6210\u529f",SUCCESSFULLY_MODIFIED:"\u4fee\u6539\u6210\u529f",ADD:"\u6dfb\u52a0",RESULT_OF_EXCEPTION:"\u5f02\u5e38\u539f\u56e0",NAME:"\u59d3\u540d",EMAIL:"\u90ae\u7bb1",CLOSE:"\u5173\u95ed",IMPORT_EXCEPTION:"\u5bfc\u5165\u5f02\u5e38",PLEASE_UPLOAD:"\u8bf7\u9009\u62e9csv\u683c\u5f0f\u6587\u4ef6\u4e0a\u4f20",UNCLASSIFIED:"\u672a\u5206\u7ec4",SUCCESSFULLY_IMPORTED:"\u5bfc\u5165\u6210\u529f",OK:"\u6211\u77e5\u9053\u4e86",CLICK_THE_CHECKBOX:"\u70b9\u51fb\u591a\u9009\u6846\uff0c\u5373\u53ef\u5bf9\u6210\u5458\u8fdb\u884c\u6279\u91cf\u7ba1\u7406\uff08\u79fb\u9664\uff0c\u52a0\u5165\u9650\u5236\u540d\u5355\u7b49\u64cd\u4f5c\uff09",TIPS:"\u6e29\u99a8\u63d0\u793a",NO_MEMBERS:"\u8fd8\u6ca1\u6709\u6210\u5458\u5466",CLICK_ON:"\u8d76\u7d27\u70b9\u51fb\u53f3\u4e0a\u89d2\u9080\u8bf7\u6210\u5458\u52a0\u5165\u5427",DID_NOT_FIND_THIS_MEMBER:"\u6ca1\u6709\u627e\u5230\u76f8\u5e94\u6210\u5458",USER_EHR__CANNOT__REMOVED:"EHR\u6570\u636e\u540c\u6b65\u7684\u7528\u6237\u65e0\u6cd5\u79fb\u9664\uff0c\u53ea\u80fd\u52a0\u5165\u9650\u5236\u540d\u5355",USERS_JOIN_THE_RESTRICTED:"\u52a0\u5165\u9650\u5236\u540d\u5355\u7684\u7528\u6237\u65e0\u6cd5\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4",TIME_OF_JOININGL:"\u52a0\u5165\u65f6\u95f4",RESTRICTED_LIST:"\u9650\u5236\u540d\u5355",RESTRICTED_LIST_NUM:"{num}\u540d",MEMBERS_IN_TOTAL:"\u5171{num}\u540d\u6210\u5458",REMOVE_MEMBER:"\u79fb\u9664\u6210\u5458",MEMBER_SELECTED:"\u5df2\u9009\u62e9{num}\u540d\u6210\u5458",RESTRICTED_LIST_SHEET:"\u9650\u5236\u540d\u5355\u5217\u8868",SURE_ADD_SELECTED__RESTRICTED:"\u786e\u8ba4\u5c06\u9009\u4e2d\u6210\u5458\u52a0\u5165\u9650\u5236\u540d\u5355\uff1f",USERS_JOIN_RESTRICTED:"\u52a0\u5165\u9650\u5236\u540d\u5355\u7684\u7528\u6237\u4f1a\u7ee7\u7eed\u5c55\u793a\u5728\u5217\u8868\u4e2d\uff0c\u53ef\u4ee5\u5728\u5217\u8868\u4e2d\u89e3\u9664\u76f8\u5e94\u7684\u9650\u5236\u3002",CONFIRM_REMOVE_MEMBERS:"\u786e\u8ba4\u79fb\u9664\u9009\u4e2d\u7684\u6210\u5458?",TEAM_ACCESSIBLE_AFTER_REMOVAL:"\u79fb\u9664\u540e\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4",EXIT_SUCCESSFULLY:"\u9000\u51fa\u6210\u529f",INVITATION_URL_COPIED:"\u9080\u8bf7\u94fe\u63a5\u5df2\u590d\u5236",PLEASE_SELECT_A_ROLE:"\u8bf7\u9009\u62e9\u89d2\u8272",ALREADY_TEAMSPACE:"\u5df2\u5728\u56e2\u961f",ADDED_SUCCESSFULLY:"\u6dfb\u52a0\u6210\u529f",ADDED_FAILED:"\u6dfb\u52a0\u5931\u8d25",IN_THE_RESTRICTED_LIST:"\u9ed1\u540d\u5355\u4e2d",INVITE_SETTINGS:"\u9080\u8bf7\u6210\u5458-\u6210\u5458\u8bbe\u7f6e",ROLE_SETTING:"\u89d2\u8272\u8bbe\u7f6e",GROUPING_SETTINGS:"\u5206\u7ec4\u8bbe\u7f6e",NOTE:"\u5907\u6ce8\uff1a\u4ee5\u4e0a\u64cd\u4f5c\u90fd\u662f\u6279\u91cf\u8bbe\u7f6e\uff0c\u5982\u6b32\u5206\u522b\u8bbe\u7f6e\u8bf7\u524d\u5f80\u6210\u5458\u5217\u8868\u4e2d\u5206\u522b\u8bbe\u7f6e",TIPS_SHORT:"\u63d0\u793a",EMPTY:"\u6e05\u7a7a",SURE_TO_LEAVE:"\u786e\u5b9a\u9000\u51fa\u8be5\u56e2\u961f\u7a7a\u95f4\uff1f",REMOVE_RESTRICTION:"\u79fb\u51fa\u9650\u5236\u540d\u5355",ADD_FAILED:"\u6dfb\u52a0\u5931\u8d25\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u518d\u6b21\u63d0\u4ea4\u91cd\u65b0\u6dfb\u52a0",SUB_AGAIN:"\u518d\u6b21\u63d0\u4ea4",ALL_ADD_SUCCESS:"\u5168\u90e8\u6dfb\u52a0\u6210\u529f",ADD_MEMBERS:"\u5df2\u6210\u529f\u6dfb\u52a0{num}\u4e2a\u6210\u5458\uff0c\u5176\u4ed6\u6210\u5458\u72b6\u6001\u5982\u4e0b:",DID_NOT_FIND_THIS_RECORD:"\u6ca1\u6709\u627e\u5230\u53d8\u52a8\u8bb0\u5f55"},create:{DEFAULT_INFO:{CREATE_WIKI:"\u65b0\u5efaWiki\u7ad9\u70b9",TITLE:"\u6807\u9898",ENTER_TITLE:"\u8bf7\u8f93\u5165\u7ad9\u70b9{language, plural ,=0 {\u4e2d\u6587} =1 {\u82f1\u6587}}\u6807\u9898",LAST_ONE_CTITLE:"\u81f3\u5c11\u9700\u586b\u5199\u4e2d\u6587\u6807\u9898",PATH:"\u8def\u5f84",PATH_TIP_ONE:"\u8bbf\u95ee\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e0d\u80fd\u91cd\u590d",PATH_TIP_TWO:"\u53ea\u652f\u6301\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u77ed\u6a2a\u7ebf\u548c\u4e0b\u5212\u7ebf\uff0c2-15\u4e2a\u5b57\u7b26",PATH_TIPS:"\u8bbf\u95ee\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e0d\u80fd\u91cd\u590d\uff0c\u53ea\u652f\u6301\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u77ed\u6a2a\u7ebf\u548c\u4e0b\u5212\u7ebf\uff0c2-15\u4e2a\u5b57\u7b26",PATH_EXISTS:"\u6b64\u8def\u5f84\u5df2\u88ab\u4f7f\u7528",INTRO:"\u7b80\u4ecb",ENTER_INTRO:"\u8bf7\u8f93\u5165{language, plural ,=0 {\u4e2d\u6587} =1 {\u82f1\u6587}}\u7b80\u4ecb",TAGS:"\u6807\u7b7e",ADD_TAG:"\u6dfb\u52a0\u6807\u7b7e",CREATE_TAG:"\u521b\u5efa",TAG_FONT_NUM:"\u6700\u591a20\u4e2a\u5b57",UPLOAD:"\u4e0a\u4f20",UPLOAD_MAX:"{num}M\u4ee5\u5185\uff0c\u652f\u6301png, jpg, jpeg,gif",VIEW_PERMISSION:"\u8bbf\u95ee\u6743\u9650",SELECTED:"\u8bf7\u9009\u62e9",AUTH_VIEW_EXPLANTATION:"\u51b3\u5b9a\u7528\u6237\u662f\u5426\u53ef\u4ee5\u67e5\u770b\u7ad9\u70b9\u9996\u9875\u53ca\u76ee\u5f55\u6811\uff0c\u4e14\u4f1a\u4f5c\u4e3a\u7ad9\u70b9\u4e00\u7ea7\u8282\u70b9\u7684\u9ed8\u8ba4\u67e5\u770b\u6743\u9650",AUTH_VIEW_TIPS:"\u79fb\u9664\u7528\u6237\u8bbf\u95ee\u6743\u9650\u5c06\u540c\u6b65\u79fb\u9664\u5176\u53d1\u5e03\u6743\u9650",PUBLISH_PERMISSION:"\u53d1\u5e03\u6743\u9650",AUTH_PUBLISH_EXPLANTATION:"\u51b3\u5b9a\u7528\u6237\u662f\u5426\u53ef\u4ee5\u5728\u7ad9\u70b9\u4e2d\u65b0\u5efa\u5206\u7c7b\u6216\u8d44\u6e90\uff0c\u4e14\u4f1a\u4f5c\u4e3a\u7ad9\u70b9\u4e00\u7ea7\u8282\u70b9\u7684\u9ed8\u8ba4\u7f16\u8f91\u6743\u9650",AUTH_PUBLISH_TIPS:"\u62e5\u6709\u53d1\u5e03\u6743\u9650\u7684\u7528\u6237\u5c06\u540c\u6b65\u62e5\u6709\u8bbf\u95ee\u6743\u9650",MANAGER:"\u7ba1\u7406\u5458",VALIDATE_ERROR:"\u7ad9\u70b9\u4fe1\u606f\u586b\u5199\u6709\u8bef",SAVE:"\u4fdd\u5b58",CANCEL:"\u53d6\u6d88",SAME_TAG:"\u6807\u7b7e\u91cd\u590d",INVALID_SYMBOL:"\u975e\u6cd5\u5b57\u7b26\uff01",INVALID_TIPS:"\u4ec5\u82f1\u6587\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7b49"},LOGO_MODAL:{EDIT_LOGO:"\u7f16\u8f91logo",PREVIEW:"\u9884\u89c8",RE_UPLOAD:"\u91cd\u65b0\u4e0a\u4f20"},MANAGER_MODAL:{CHANGE_MANAGER:"\u4fee\u6539\u7ad9\u70b9\u7ba1\u7406\u5458",CLEAR_ALL:"\u6e05\u7a7a"}},setting:{DEFAULT_INFO:{BASIC_INFO:"\u7ad9\u70b9\u57fa\u672c\u4fe1\u606f\u8bbe\u7f6e",APPLY_DELETE:"\u7533\u8bf7\u5220\u9664wiki\u7ad9\u70b9",DELETE_TIPS:"\u82e5\u60a8\u60f3\u5220\u9664\u6b64wiki\u7ad9\u70b9\uff0c\u9700\u7533\u8bf7\u5220\u9664",REQUEST_DELETE:"\u7533\u8bf7\u5220\u9664",REQUEST_DELETE_ING:"\u7533\u8bf7\u5220\u9664\u4e2d",SAVE_SUCCESS:"\u4fee\u6539\u6210\u529f"},SYNC_MODAL:{CONFIRM_PERMISSION:"\u540c\u6b65\u6743\u9650\u786e\u8ba4",PERMISSION_INPUT_TIPS:"\u5f53\u524d\u6743\u9650\u5305\uff0c\u7ea2\u8272\u4ee3\u8868\u6b64\u6b21\u65b0\u589e\u6743\u9650\u7ec4",ASK_SYNC:"\u4f60\u5c06\u4fee\u6539\u5728\u7ad9\u70b9{name}\u6743\u9650\uff0c\u662f\u5426\u9700\u8981\u540c\u6b65\u4fee\u6539\u7ad9\u70b9\u4e0b\u8d44\u6e90\u7684\u6743\u9650\uff1f",RADIO_ONE:"\u4e0d\u9700\u8981\u540c\u6b65\u4fee\u6539",RADIO_TWO:"\u4e3a\u7ad9\u70b9\u4e0b\u6240\u6709\u8d44\u6e90\u6dfb\u52a0\u65b0\u589e\u6743\u9650\u7ec4",RADIO_THREE:"\u4e3a\u7ad9\u70b9\u4e0b\u90e8\u5206\u8d44\u6e90\u6dfb\u52a0\u65b0\u589e\u6743\u9650\u7ec4",RADIO_FOUR:"\u5c06\u5f53\u524d\u6743\u9650\u5305\u5e94\u7528\u5230\u7ad9\u70b9\u6240\u6709\u8d44\u6e90",RADIO_FIVE:"\u5c06\u5f53\u524d\u6743\u9650\u5305\u5e94\u7528\u5230\u7ad9\u70b9\u90e8\u5206\u8d44\u6e90"},DELETE_MODAL:{DELETE_CONFIRM:"\u7533\u8bf7\u5220\u9664\u786e\u8ba4",DELETE_CONFIRM_TIPS:"\u786e\u8ba4\u7533\u8bf7\u5220\u9664wiki\u7ad9\u70b9\uff1f",DELETE_SUCCESS:"\u5df2\u7533\u8bf7\u5220\u9664"}},history:{VERSION_HISTORY:"\u5386\u53f2\u7248\u672c",ADDED_CONTENT:"\u65b0\u589e\u5185\u5bb9",DELETED_CONTENT:"\u5220\u9664\u5185\u5bb9",CHANGE_FORMATTING:"\u6837\u5f0f\u53d8\u66f4",EXIT_COMPARISON:"\u9000\u51fa\u7248\u672c\u5bf9\u6bd4",RESTORE:"\u6062\u590d",RESTORE_SUCCESSFUL:"\u6062\u590d\u6210\u529f",COMPARING_VERSIONS:"\u6b63\u5728\u5bf9\u6bd4\u4e2d...",CURRENT_VERSION:"\u5f53\u524d\u7248\u672c",EDIT_REASON:"\u7f16\u8f91\u539f\u56e0",NONE:"\u65e0",COMPARE_VERSIONS:"\u7248\u672c\u6bd4\u8f83",EDITION:"\u7b2c{num}\u7248",RESTORE_CONFIRMATION:"\u6062\u590d\u786e\u8ba4",RESTORE_TEXT:"\u786e\u8ba4\u6062\u590d\u6b64\u7248\u672c\u4e3a\u6700\u65b0\u7248\u672c\u5417\uff1f",UPDATED_BY:"\u66f4\u65b0\u4eba"}}),a),m="zh-CN",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-CN";return m=e,"zh-CN"===e?c.a.locale("zh-cn"):c.a.locale("en"),u.a.init({currentLocale:e,locales:E})},_=function(){return"en"===m?o.a:s.a};u.a.get.bind(u.a);Object.defineProperty(u.a,"EN",{get:function(){return"en"===m}});var f=function(){return u.a}},1048:function(e,t,n){var a={"./app-layout":381,"./app-layout/":381,"./app-layout/index":381,"./app-layout/index.js":381,"./app-layout/style.less":650,"./app-site":361,"./app-site/":361,"./app-site/index":361,"./app-site/index.js":361,"./category":383,"./category/":383,"./category/index":383,"./category/index.js":383,"./category/style.less":652,"./create-setting":379,"./create-setting/":379,"./create-setting/index":379,"./create-setting/index.js":379,"./detail":378,"./detail/":378,"./detail/index":378,"./detail/index.js":378,"./detail/style.less":707,"./history":380,"./history-diff":384,"./history-diff/":384,"./history-diff/index":384,"./history-diff/index.js":384,"./history-diff/style.less":711,"./history/":380,"./history/index":380,"./history/index.js":380,"./history/style.less":709,"./home":382,"./home/":382,"./home/index":382,"./home/index.js":382,"./home/style.less":713,"./list-mine":385,"./list-mine/":385,"./list-mine/index":385,"./list-mine/index.js":385,"./list-mine/style.less":714,"./list-top":386,"./list-top/":386,"./list-top/index":386,"./list-top/index.js":386,"./list-top/style.less":715,"./outline":373,"./outline/":373,"./outline/index":373,"./outline/index.js":373,"./outline/site-trees":255,"./outline/site-trees/":255,"./outline/site-trees/index":255,"./outline/site-trees/index.js":255,"./outline/site-trees/style.less":716,"./outline/style.less":717,"./page-error":374,"./page-error/":374,"./page-error/index":374,"./page-error/index.js":374,"./page-error/style.less":718,"./page-not-found":375,"./page-not-found/":375,"./page-not-found/index":375,"./page-not-found/index.js":375,"./page-not-found/style.less":719,"./recycle":376,"./recycle/":376,"./recycle/index":376,"./recycle/index.js":376,"./recycle/style.less":720,"./search":387,"./search/":387,"./search/index":387,"./search/index.js":387,"./search/style.less":721,"./sites":377,"./sites/":377,"./sites/index":377,"./sites/index.js":377,"./sites/style.less":723};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1048},1163:function(e,t,n){e.exports=n.p+"static/media/ii-empty-editing.4468655c.svg"},1164:function(e,t,n){e.exports=n.p+"static/media/ii-empty-history.a273d5bd.svg"},1165:function(e,t,n){e.exports=n.p+"static/media/ii-empty-search.4c8f3e20.svg"},1381:function(e,t){},1383:function(e,t,n){},1393:function(e,t,n){},1397:function(e,t){},1407:function(e,t,n){},1434:function(e,t,n){},1435:function(e,t,n){},1436:function(e,t,n){e.exports=n.p+"static/media/403.f0d723ec.png"},1451:function(e,t,n){},1452:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABUCAYAAAAPvFA1AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAXKADAAQAAAABAAAAVAAAAABReILeAAASUUlEQVR4Ae1cTY8cyXGNquqeGc6Qy+VySa4lElpbsizs2ifJsC9rDOC7AQOiLoYBH3zyD9BBF2IuFvQzfJQWsAH74OvAgA/6WBkwlgtIaxvUh7274vJjluSQM91dpfei8mVnVVfPdE23l3PoHHRHVGRkZMTLqKyP6UyzdVkjsEZgjcAagTUCawTWCKwRWCOwRmCNwBqBNQJrBNYIrBFYI7BGYI0AEciWhaGqqn429vYW079zp+rjW5ZlvfT72F6l7mLBd/TYCTTBvBOU3707tX27w0Af0buJ8u23a2D3IOsYlPMO/BSUJKaT2BmgBTIBJrD792Fz1+zS/01tX3g05U8yPq/u+ZVp9j75Avh9dHGtMg4EB2APNAH/PIPeG4gm4MhoAn0NIO/umr0HkAnuxtPMfn0jszcBxEfPpn1svJjyqDqxHG9NQabi0U5lNz+pZccXK+MgCPz7AN8zfzoNnVfQFwcAMXeD/Xbm2fybX+V26+BmmT/5e7Pyz3B5eAP6jimCZ1sjXbbAxKe4bPxLPnjz2/bf4yd2/VbpwN+/W4O+hx5Ctp9H0HshMAV8L2Q2wL5+N/eM/uzxrXJ48CPoXMlwLa7wR+qFhNjP6U2DQdpV2vZoO8+Kn2blpb+wR3/wwK4/K+2tt0szgG6c489vps+BYDbsCDbn7Lc4jQSwf7OT26UHeWUf/kOV2zfZUmCTeiER6LWk8d0+A9rqatp2Nsuzf8qyb/y1PXtR2uOnpWf71x8B+PMLet6IfJGDO1DinM2LIudqgG0Xs6IqJ+9U49L4sQmgDpS8TWpZTVOeddSdROo8jkXNebQJtO6D9aWVx+O/nIx++k07ssJevZgbpzVDIvgdEhLjHJaFnYoZ/u63clygMvvXHxZ2fVDYi6ywajKYDH72UFMC5lnM2UjqaJ0MBGFOoZ6ympiIJ+0uakvaLJhuHuQb1/7Utm5+bAc2sWvI9APO6z+vTBfTvWabxlFyd9OQzzmAj7NOzNHtEs+LcEbXAfdbQEwn713J7clxYa9NCnv4ZGiXJoPx8/fvC7AZQGFNkLnh1ojM6KNeMuqLJ2WZGaAy++ci+9rfWFaMbaua2GWcDvFOBsCz8DbytPI53O/3A9z2Mtvfz+36tRzZBMCPBvZwE4AfDScP/vNjzdldFznJumJWHSkL7UjGY/Hz6l0n2/rb4spX/tEOy4ldeH3i8zqz/UPUfgm3kYuUnvf7db/9Mv4MgFtuNzGdHGA6sa2h2Yshbhk2xg//438Xicl12CshiL23BJqPQka7XqovXjDijICFB8X2F96xV259Ys8xtVw8Ku3ocmmjx9Ka7156z/87uN+/B1Xe8+ss+Toetvb3LU5RS9wFxZDne1PX4HTGxQjz9++F6cSeDWxwOLRhseGAP/rJL224bfmNP7Js+5plwwucC+rGrSnktL6Wrp8ZMIQpWZdx1TX9/Rhz179ZOfyOvf/+r2fu988Iev+7FDr8Jj7Do8yK7czycWaDUV5lW1b87p9b/spNywabCBB3Fp7GAN0DCZT8zAe6LiNd4FMGHdKUV1v0XPdPBsV9CVQ6KU11pvwbaPcty45+bF/92i27jDsgPnPwdniJu6CzAc7H9dfhWQGw863MRkVevPGHuGZhhpkBkwATINEuQFXXNRiQceDYXgPYpqqLfbf68/aQqV1b3+sT+836KzY8/q5PoXzmSEHnTQSt9nhjOmCDhYo/8ECT70qOQR+PkNmYZnLMF1WZZds3IKTTHYViuqZq8e5ukEvmzTsaOAihgXintA05eVKWdvMu/TLR51nCtqReaI98sGfZO3zWwGXCbGNc1S/m7uOBNkYU2p1O+mV412vWF6V7lQ0xjcw9xRGcB0Ak8PHAAk159586LKJkAxB+poAngM6TdnzY1kEGjTYTXnVq29aXr7G/8obdnwz8mYM3C3zA2t21empBFz1KP8BlmG/9roaDbdAMoLuTQcbsYSHlh3Wi0hOlnnhS/4Q2AsTbBlvkWUTJt9tzECmLCcC2lNEuP+KlF2S0KbuitM8BuZAXNsJn+CreiOJNKN+MMgHDtOJqC3wtPqWcZoyBeDYFRT8W36JRj21UuvhE1rAX5Kks2gz2kqaxSjKek+Q1Y8gFUdkVpXwTU8rxsLTNg9w2N0u7gOsY3/33nFZWCDiyJZZ2RIpuTsQz6tDTvOw2ZxQglYwseIIT5/BT2juQoY18lms8nrEH2QgPehsvJvZ0C29HcYZv4IbBdqndq6wQ8CTgmZSiT0lEPKU9qDBIqhIlljylSWNRJQQObqCsVyaK0jankDgArf5oVzbYPg5e6FBtSb0a8jEyvAToo8OJjbfxamOn9Ivnu7iJuJ0GVzeZ971awNUvsfGg5nTLugagUiZVHXjNo3x6dpsBdCdBRv1W82hb7amjwSDPEkzVPA7cRhCST/1jWzxr2BhaxQ4ea/EM8sUdv2nx9j2+Vgc4Iwj+1kGc4IX0RGPDKGgCJLEoTXfxXbIuN6Qneqo9KOJZw4ohAMdU8hoa8FlkY6PL+omy1QHuGRQimJkDIZfM3WmnJNtJdqK/daVsxSljWfvqm5Sl7Q/kOe7E+FRtePZ4TIrbYP1zvL5TYaNTy9luCzvNYr4j6PzoFow05VXPgOIAJXysRwder46g44UUH59bA13EfmxbW4m2Y3/Bd0zSMB76DjT6iarwzBGs1KTr2aSh0DxYXYYzcGVcs4/ZI82PcY4FeP57IgLKwkQiD8riLHXqQxcTm1AdpFOiwYo06Dba40DtZYuUhXLJeOz+IsO38bA5xjGfQQ74C4Qt1vYqqwPcszb0zUB12lPEABisAiSTAkqdiCbZgIxoqzqqBrWpcQlmOmyYn23f7L6znj6soKwOcAcnCdif/gLCAjcFMEbFKNhOIJ0lKrZtpGSwp5Q9zab6Dv4u7c/8/lYHuPcRACewHoMGgJVdfJBJd168Ols0Zbl9KMcBlG3Rdn/u3PTL+8Nh7A/tXDanvfSmFs7MrQ5wfz8R/KCDacKd5p50Y0Ii8BPndAKDTiLgjlYtY1+tw5mE9XZJew6kz9NsiBLMxxxJx6HWOPP36gBPL5rtgNoBtN1tB9yO1APGVxp4BJsAYaT8LNCICcwAIPtL28aDIHSCr1SnwacHbef7Ha8OcHobQWCgSls6xDrK5jiudqJs0tBVO1FXaH6lbcWLNjXDUWpLvGi7QTJw7aqex6sDvBGcHBelVyl/ipcaG8XJppKd0tSrpTuv/Wn1M3308H2mbVOwQsDDaU37BN9PcTnairB12KnvAxgQE69BlW1S7w9fsunHYYSkLx1SL1CWTR6Ll37bft1oJd+rAzw6HvyS8y5vzbEaB1EG2LgGhOnIby1pgAAlU5R0Sb2a7WFMA+BCGccBfRGIXhdk4n3K40Fo4wRf4bAekKi8FLM6wB2EOb60AwA+HgwpS7t+GmldP3PMNkIj4VNZaBlJWueDgxpSFvcHvPxxYWI/9u8VS32tDnA6lfrYdiutEy8aL7AhYz3yJKNnBggNGxnbVmh33nEc+0adeNFZQYeBs4lWB3h6yrvDAqHDMYE1dwoA2K4TBkB3OE5pD8g4OBGhWha7orxH/zNTjtqSrrasEHAEKf88ADiq07jtf+cpDX21J5MOIPl0AMTHAdPZoAGiLfij8XB9+hc6kG2n9BOfOIhsy0PqU46iOOqjpb5XBzgdTudEgUr3Wnh4IJJ11sMWQUh/J5kGLT7SoMs2LAQqtR/1goJsL6rvRlfztTrAFRT9ch5RR5n4kDIKVNTbJAFJLppU1SwraCtRSNj4kBWnoBkDjabRTLTRth/87jDTV7RCwNOUohvR+4SXrB1QX7cJQNKfsBcu7SloxvxMA2hIRha8bLCtph7yS5YVAg4QY8Dk6bQAbnnpsaX6qHdZ0BNP6qUtENikKK1Dt5VOaXRDJqjvfNp/4KO/OGYbJY3zPF6+nB1w/MzOGq3h1bw5nA6nAdPvNAjx82hUlkLLAG0LdFY52BBGfwKvi6YGI9arDRujyFYYT3c2S/4bORN73WyR78TKIupBJ/0B+yFkFRaxmYEjwcefAANNedV7JqGeNOVV35emNlJedlJZyqs+9THlVZ9lhx4jY1VJMZBsAdrI0VP1uQbm7ZbWFsCeYBVaVX4E8L4caz2weAQG4KqQbWT8jECaZ6QzKR86jCnbsgt9n6fZDkV8nLuzj/DbbPwLE7HqrKg18YNOMYvRxTNcq720DubVIYAe1CiWdMT+vQYVojSLyDNrRJ3HsagHxTYEg+Y62qcy6aS03R9tUeY02F3GPmNjjCyMmbGzCAth48KTvxYHPLXDdTCfQnARnZdHlW0UlQ0GHGss1KQvDDbQlHcQOuo9ayAn5YfgiDbAYx11AqCk/LAP0a7+TtPHOqzaBih57yNQSDw2xshYGTNjJwZnKGcD/B56urKJDD+EE3Dk8LjCzwd+jqB/UIMRgJiXYQKHNOUJln8YSRKPZydF0HcedaJdAKcytyO7gSoZ5iZAMoiMibExRsbKmBn7PfrYv/Sbw+u9Sir7rx8C5NfhwKiyUVbaEKhhLbJNXvmeTZ58GQtl/9gnaQ+MTgk80VPnzNBGcyrakZU93XLqrmP2toKdtor6pli8aCojT/9YV/zY8kvfswLxZYhzlCNWVFTY6YKr3L7yJ5VxhVuP0j/DuXyOax+5HG+CuWwTa7AHWIw6xiefvLB85+8szzG9MHXpCz7ufKDkPVNFqSZeOqksZFsjoxNZw5ban0JTn1Le/UBb+p4hBo8FMTE2xshYGTNjJwbEomfpB/hesM6FprwteoG1kMdbpY3hSIG1kVmG35dWzy3f/K4NNv8KmfJ9xHMPgD4/cU5Og3b+NEB7DkhqkzxzQdTzAsclfLTqHmL4vvteIAbGwpgYG2NkrHXMVVxsK0wWBJ4n6kIlrtTSWk0uozt8HSuRsfT78hGWrw2HyIoNOz72dZuIYGjVYIBfm9a/qy7zHAHwXK37nBQL972Qg32VCu66wII3ZBU+OZDPASy2DbBsjB+05SMMwjF+IXuMMxLLyEYjO9gc2WuXRrb96djX8/8Pdq64/QOOHsYlfdNGSXfpN4fTBufx/f3KLmDtOrfNGOKyPsgzPPbgbDlChg8yv9JnuJpXON8rLEKqRgXm+BrwcQC6OOnNUrezK5VWuACyDLidBf5K+jrENhWYOmwwxnVohDl8ZEeIySDfzsceK2Me4Azn5gm3d8OgLe5Zf8BpmxsFvIctkK79Cjs3ICMu4IeOzzfgJOoq+LmJq3iJjMEsj+tZneFIGVyLMBi40uF8QE7gh5Fo9zLKINxTw1XeyPofdgPB0cSKrJ4ac8RTgz3yTRMujLBhQo6NE3y3isp2Pdre3i8MOE+Zelq5A1j3zJ7s11l+FUsvPsOjZoFfkyI33I2KYCNjcILaBEs1CkwnOX7QztVuGX5bzSvHGGcCxC+lENoB1ltyuHOAz1cTSBEsK+HdFmLBpyrrzOYOFQUy/hAbJlwtSjt8Vme37QIHYrH4dELdhQGncizA295Clu9i26MP7po9g+s7W2O7/Ck2/8Kt07gcIJMx3QwAMgAfAeINTCXMcVz/kf38cXs091IYgl4AaGY776+PMLUM4fMAScILZA7QOY0wswm2TyXwnls93b0bdpLr73nvUzpePLmVh2HvFO7A8wHWoG9jWfQD7A7EDWu4nnFzyNVeuR0B9FcmGU5PZPlm3R9/2M71nS+z8EUU342w8AmSSwE/A/C89ePdyNGovj5x/5WrV5nZnftqLXqx9H7wtQTgNNECnVsy3cdWSDtYWvcE6xlvYHn4002sjQHlRghPMZ1wjcx5Knw3wsd1PkHyHpvbfnwCeglbfzCruecKt/FY0SZmZwp+muUBdO1deOmr030LCTzXM3Ll7gD0EVZ+cUMErtFX0WpmHX9elO+zVfgiiu9G+Lg+xrMFH2r4jCGgfX9E3JFoO6czbtuh7s40h08voDSDC8cHeyC8XGKK4epcAn/5UWW/QDb/PqLxTSN36pVfXIyk4ss2dPA50hKAqjwE88VkU5oPcfwlxHJwq744+t0ILpAIURdJcn2nErZhmWZbfdzru5npbMopBoUZz8VGBH93t96xk3IWrfyqj17+t16x0hPt/JNus+oe1ncjcvasYLP9UoDTwCzoEGrB/x1qoPiGLjXrAxHYc0HSfyDUL+f8rtd963jPvQzYtLk04CloneCnCm1eA9OW/38fdwB5UpfLgnyS7XXdGoE1AmsE1gisEVgjsEbgfCDwW9W7qFGNpvUMAAAAAElFTkSuQmCC"},1453:function(e,t,n){},1454:function(e,t,n){},1458:function(e,t,n){},1460:function(e,t,n){},1461:function(e,t,n){},1462:function(e,t,n){},1464:function(e,t,n){},1465:function(e,t,n){},1467:function(e,t,n){},1470:function(e,t,n){},1471:function(e,t,n){},1615:function(e,t,n){},1646:function(e,t,n){},1647:function(e,t,n){},1651:function(e,t,n){},1655:function(e,t,n){},1657:function(e,t,n){},1658:function(e,t,n){},1659:function(e,t,n){},1660:function(e,t,n){},1661:function(e,t,n){},1665:function(e,t,n){},1666:function(e,t,n){},1674:function(e,t,n){},1679:function(e,t,n){},1680:function(e,t,n){},1681:function(e,t,n){},1682:function(e,t,n){},1683:function(e,t,n){},1684:function(e,t,n){},1685:function(e,t,n){},1686:function(e,t,n){},1691:function(e,t,n){},1692:function(e,t,n){e.exports=n.p+"static/media/no-user.b3cc07ca.png"},1693:function(e,t,n){},1695:function(e,t,n){},1696:function(e,t,n){},1697:function(e,t,n){},1698:function(e,t,n){},1699:function(e,t,n){},1700:function(e,t,n){},1712:function(e,t,n){},1729:function(e,t,n){"use strict";n.r(t);n(780),n(791);var a=n(0),r=n.n(a),i=n(31),c=n.n(i),o=(n(980),n(219),n(36)),s=n(71),l=n(19),u=function(){return Object(l.d)({basepath:"/wiki",layout:"app-layout",pageNotFound:"page-not-found",onRouteChange:function(){window.neteaseTracker&&window.neteaseTracker(!1,document.location,document.title,"km")},routes:[{path:"/create",page:"create-setting"},{path:"/sites",page:"sites"},{path:"/:site(\\d+)",page:"app-site",routes:[{path:["/","/home"],page:"home",exact:!0},{path:"/setting",page:"create-setting"},{path:"/outline",page:"outline"},{path:"/search",page:"search"},{path:"/recycle",page:"recycle"},{path:"/mine_list",page:"list-mine"},{path:"/top_list",page:"list-top"},{path:"/page/:id",page:"detail"},{path:"/category/:id",page:"category"},{path:"/history/:id",page:"history"},{path:"/history_diff/:id",page:"history-diff"}]}]})},E=function(e){var t=e.store,n=e.locale;return r.a.createElement(s.a,{store:t},r.a.createElement(o.a,{locale:n,autoInsertSpaceInButton:!1},r.a.createElement(u,null)))},m=n(10),d=n.n(m),_=n(22),f=n(771),p=n(772),O=n(773),h=(n(74),n(12)),T=function(){return{onModel:function(e,t){var n=e.name;if(!["loading"].includes(n)){var a=t.dispatch[n];Object.keys(a||[]).forEach((function(e){if(t.dispatch[n][e].isEffect){var a=t.dispatch[n][e];t.dispatch[n][e]=Object.assign((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(_.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.apply(void 0,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),h.b.warn(e.t0.message),console.log("1111",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}),a)}}))}}}},N=n(8),g=n(65),S={state:{info:null,wikis:null},reducers:{setInfo:function(e,t){return e.info=Object(N.a)(Object(N.a)({},e.info),t),e},setWikis:function(e,t){return e.wikis=t,e}},effects:{fetchInfo:function(){var e=this;return Object(_.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.c.getUserInfo();case 2:n=t.sent,e.setInfo(n.info);case 4:case"end":return t.stop()}}),t)})))()},fetchExtraInfo:function(){var e=this;return Object(_.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.c.getUserInfoExtra();case 2:n=t.sent,e.setInfo(n.info);case 4:case"end":return t.stop()}}),t)})))()},handleSetWikis:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setWikis(e);case 1:case"end":return n.stop()}}),n)})))()}}},I=n(45),b=n.n(I),C=n(57),v=n(25),A=n(9),R={state:{siteId:null,detailId:0,bread_crumb_list:[],site:null,category:null,managers:[],loading:{cateLoading:!1,siteLoading:!1},params:{},siteError:null,cateError:null},reducers:{setSite:function(e,t){return e.site=t,e},setId:function(e,t){return e.siteId=t,e},setDetailId:function(e,t){return e.detailId=t,e},setBrumbList:function(e,t){return e.bread_crumb_list=t,e},setCate:function(e,t){return e.category=t,e},setLIst:function(e,t){return e.category.children.list=t,e},setNum:function(e,t){return"page"===t?e.category.pages_num_of_next_layer=e.category.pages_num_of_next_layer-1:e.category.category_num_of_next_layer=e.category.category_num_of_next_layer-1,e.category.children.total=t,e},setParams:function(e,t){return e.params=t,e},setLoad:function(e,t){return e.loading=Object(N.a)(Object(N.a)({},e.loading),t),e},setSiteError:function(e,t){return e.siteError=t,e},setCateError:function(e,t){return e.cateError=t,e},setManagers:function(e,t){return e.managers=t,e}},effects:{fetchWikiSite:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){var a,r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setLoad({siteLoading:!0}),t.setId(Number(e)),t.setSiteError(null),n.prev=3,n.next=6,v.b.getWikiInfo(e);case 6:a=n.sent,t.setSite(a),t.setLoad({siteLoading:!1}),t.setManagers(a?a.managers:[]),n.next=20;break;case 12:return n.prev=12,n.t0=n.catch(3),t.setSiteError({status:n.t0.code,message:n.t0.message}),n.next=17,v.b.getWikiManages(e);case 17:r=n.sent,t.setManagers(r),t.setLoad({siteLoading:!1});case 20:case"end":return n.stop()}}),n,null,[[3,12]])})))()},fetchManagers:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.b.getWikiManages(e);case 2:a=n.sent,t.setManagers(a);case 4:case"end":return n.stop()}}),n)})))()},fetchCateDetail:function(e,t){var n=this;return Object(_.a)(d.a.mark((function a(){var r,i,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.isload&&(n.setLoad({cateLoading:!0}),n.setCateError(null)),n.setDetailId(e.id),a.next=5,v.b.getCateDetail(e.id,50,e.page||1);case 5:return r=a.sent,n.setBrumbList(r.bread_crumb_list),i=r,e.page&&e.page>1&&(i.children.list=[].concat(Object(C.a)(t.pwiki.category.children.list),Object(C.a)(r.children.list))),a.next=11,v.b.getCatePath(e.id);case 11:c=a.sent,n.setBrumbList(Object(C.a)(c)),n.setCate(i),n.setLoad({cateLoading:!1}),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(0),n.setCateError({status:a.t0.code,message:a.t0.message}),n.setLoad({cateLoading:!1});case 21:case"end":return a.stop()}}),a,null,[[0,17]])})))()},handleSetCateDetail:function(e){this.setCate(e)},handleDetailId:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setDetailId(e);case 1:case"end":return n.stop()}}),n)})))()},handleSiteId:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setId(e);case 1:case"end":return n.stop()}}),n)})))()},handleCombin:function(e,t){var n=b()(t.pwiki.category.children.list)||[];n&&(e.item&&e.item.binding_page_id?this.setNum("page"):this.setNum("cate"),this.setLIst(n.filter((function(t){return t.id!=e.cat_id})).map((function(t){return t.id==e.parent_id&&(t.has_children=!0,t.needUpdata=!0),t}))))},handleSort:function(e,t){var n=Object(C.a)(t.pwiki.category.children.list)||[];if(n){var a=n.findIndex((function(t){return t.id==e.cat_id})),r=e.position-1;this.setLIst(Object(A.x)(n,a,r))}},handleBrumbList:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setBrumbList(e);case 1:case"end":return n.stop()}}),n)})))()},handleParams:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setParams(e);case 1:case"end":return n.stop()}}),n)})))()}}},y={state:{detail:null,detailLoading:!1,detailVersionsList:[],detailVersion:null,detailError:null},reducers:{setDetail:function(e,t){return e.detail=e.detail?Object(N.a)(Object(N.a)({},e.detail),t):t,e},setDetailExtra:function(e,t){return e.detail=e.detail?Object(N.a)(Object(N.a)({},e.detail),{},{info:Object(N.a)(Object(N.a)({},e.detail.info),t)}):{info:t},e},setDetailError:function(e,t){return e.detailError=t,e},setDetailLoading:function(e,t){return e.detailLoading=t,e},setDetailVersionsList:function(e,t){return e.detailVersionsList=t,e}},effects:function(e){return{fetchWikipageDetail:function(t){var n=this;return Object(_.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.setDetailLoading(!0),a.abrupt("return",v.b.getWikiPageDetail(t).then((function(t){e.pwiki.handleSiteId(t.info.wiki_id),n.setDetail(t),n.setDetailLoading(!1),n.setDetailError(null),e.pwiki.handleDetailId(t.info.binding_category_id)})).catch((function(e){return n.setDetailError({status:e.code,message:e.message}),n.setDetailLoading(!1),{status:e.code,message:e.message}})));case 2:case"end":return a.stop()}}),a)})))()},fetchWikipageDetailExtra:function(t,n){var a=this;return Object(_.a)(d.a.mark((function r(){var i,c;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null,!Object(A.t)()){r.next=7;break}return r.next=4,v.b.getWikiPageDetailExtra(t,n.team.profileId);case 4:i=r.sent,r.next=10;break;case 7:return r.next=9,v.b.getWikiPageDetailExtra(t);case 9:i=r.sent;case 10:return r.next=12,v.b.getPagePath(t);case 12:c=r.sent,a.setDetailExtra(i),e.pwiki.handleBrumbList(Object(C.a)(c));case 15:case"end":return r.stop()}}),r)})))()},updataWikipageDetailActive:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setDetail(e);case 1:case"end":return n.stop()}}),n)})))()},fetchDetailVersionsList:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.b.getDetailVersionsList(e);case 2:return a=n.sent,Array.isArray(a)&&t.setDetailVersionsList(a),n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()}}}},L={state:{info:null,noAuth:!1,managers:[],wikiDetail:null,auths:null,viewAuthorities:{},editAuthorities:{}},reducers:{setInfo:function(e,t){return e.info=t,e},setWikeDetail:function(e,t){return e.wikiDetail=t,e},setNoAuth:function(e,t){return e.noAuth=t,e},setManagers:function(e,t){return e.managers=t,e},setAuths:function(e,t){return e.auths=t,e},setViewAuthorities:function(e,t){return e.viewAuthorities=t,e},setEditAuthorities:function(e,t){return e.editAuthorities=t,e}},effects:function(e){return{fetchInfo:function(t){var n=this;return Object(_.a)(d.a.mark((function a(){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.c.getWikiSettingInfo(t);case 3:r=a.sent,n.setInfo(r.wiki),n.setWikeDetail(r),n.setManagers(r.managers),n.setNoAuth(!1),a.next=18;break;case 10:if(a.prev=10,a.t0=a.catch(0),4003!==a.t0.code){a.next=17;break}n.setNoAuth(!0),e.pwiki.fetchManagers(t),a.next=18;break;case 17:throw a.t0;case 18:case"end":return a.stop()}}),a,null,[[0,10]])})))()},fetchAuths:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.c.getWikiAuths(e);case 2:a=n.sent,t.setAuths(a);case 4:case"end":return n.stop()}}),n)})))()},setViewAuthoritiesEffect:function(e){this.setViewAuthorities(e)},setEditAuthoritiesEffect:function(e){this.setEditAuthorities(e)}}}},D={state:{deleteItem:null,deleteVisible:!1,deleteParams:null},reducers:{setDeleteModal:function(e,t){return e.deleteItem=t.item,e.deleteVisible=t.visible,e.deleteParams=t.params,e}},effects:{showDeleteModal:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setDeleteModal({item:e,visible:!0,params:null});case 1:case"end":return n.stop()}}),n)})))()},doDelete:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setDeleteModal({params:e,visible:!1,item:null});case 1:case"end":return n.stop()}}),n)})))()},hideDelete:function(){var e=this;return Object(_.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setDeleteModal({visible:!1,params:null,item:null});case 1:case"end":return t.stop()}}),t)})))()}}},k={state:{detailMenuStyle:null,detailMenuVisible:!0,detailMenuNormal:!0},reducers:{setDetailMenuVisible:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{detailMenuVisible:t})},setDetailMenuNormal:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{detailMenuNormal:t})},setDetailMenuStyle:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{detailMenuStyle:t})}}},M={state:{siderClose:!1,siderWidth:280,siderInnerWidth:280,recoverParentId:null,recycleChanged:!1},reducers:{setMenuClose:function(e,t){return e.siderClose=t,e},setMenuWidth:function(e,t){return e.siderWidth=t,t>e.siderInnerWidth&&(e.siderInnerWidth=t),e},setMenuInnerWidth:function(e,t){return e.siderWidth>t?e.siderInnerWidth=e.siderWidth:e.siderInnerWidth=t,e},setRecoverParentId:function(e,t){return e.recoverParentId=t,e},setRecycleChanged:function(e){return e.recycleChanged=!e.recycleChanged,e}},effects:{handleMenuClose:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setMenuClose(e);case 1:case"end":return n.stop()}}),n)})))()},handleMenuWidth:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setMenuWidth(e);case 1:case"end":return n.stop()}}),n)})))()},handleMenuInnerWidth:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("width",e),t.setMenuInnerWidth(e);case 2:case"end":return n.stop()}}),n)})))()},handleRecoverParentId:function(e){var t=this;return Object(_.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.setRecoverParentId(e);case 1:case"end":return n.stop()}}),n)})))()},handleRecycleChanged:function(){var e=this;return Object(_.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setRecycleChanged();case 1:case"end":return t.stop()}}),t)})))()}}};n(278).enableES5();var w=function(e){return Object(f.a)({redux:{initialState:e},plugins:[T(),Object(p.a)(),Object(O.a)()],models:{user:S,pwiki:R,pageDetail:y,config:M,wikiSetting:L,wikiAction:D,detailLayout:k}})},j=n(100),U=n(232),P=n.n(U),x={wikis:{condition:function(e){return"/wikis"===e.pathname},action:function(){return window.location.replace("/wiki/sites")}},siteIdCategory:{condition:function(e){var t=e.pathname,n=e.query;return"/wikis/show"===t&&n.wiki_id&&n.cat_id},action:function(e){var t=e.query;return window.location.replace("/wiki/".concat(t.wiki_id,"/category/").concat(t.cat_id))}},idSite:{condition:function(e){var t=e.pathname,n=e.query;return"/wikis/show"===t&&n.wiki_id},action:function(e){var t=e.query;return window.location.replace("/wiki/".concat(t.wiki_id))}},sitePathCategory:{condition:function(e){var t=e.pathname,n=e.query;return/\/wikis\/(\S+)/.test(t)&&n.cat_id},action:function(){var e=Object(_.a)(d.a.mark((function e(t){var n,a,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pathname,a=t.query,r=n.match(/\/wikis\/(\S+)/)&&RegExp.$1,e.next=4,g.d.getWikiIdByPath(r);case 4:return i=e.sent,e.abrupt("return",window.location.replace("/wiki/".concat(i.id,"/category/").concat(a.cat_id)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pathSite:{condition:function(e){var t=e.pathname;return/\/wikis\/(\S+)/.test(t)},action:function(){var e=Object(_.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pathname,a=n.match(/\/wikis\/(\S+)/)&&RegExp.$1,e.next=4,g.d.getWikiIdByPath(a);case 4:return r=e.sent,e.abrupt("return",window.location.replace("/wiki/".concat(r.id)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pageDetail:{condition:function(e){var t=e.pathname,n=e.query;return"/wiki/show"===t&&n.page_id},action:function(){var e=Object(_.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,e.next=3,g.d.getWikiIdByDetailId(n.page_id);case 3:return a=e.sent,e.abrupt("return",window.location.replace("/wiki/".concat(a.wiki_id,"/page/").concat(n.page_id)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pageEdit:{condition:function(e){var t=e.pathname,n=e.query;return"/wiki/edit"===t&&n.page_id},action:function(){var e=Object(_.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,e.next=3,g.d.getWikiIdByDetailId(n.page_id);case 3:return a=e.sent,e.abrupt("return",window.location.replace("/".concat(1===a.editor_type?"editor":"rms","/edit?from_location=wiki&parent_type=WikiPage&base_id=").concat(a.wiki_id,"&id=").concat(n.page_id)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pageHistory:{condition:function(e){var t=e.pathname,n=e.query;return"/wiki/history"===t&&n.page_id},action:function(){var e=Object(_.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,e.next=3,g.d.getWikiIdByDetailId(n.page_id);case 3:return a=e.sent,e.abrupt("return",window.location.replace("/wiki/".concat(a.wiki_id,"/history/").concat(n.page_id)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},F=Object(_.a)(d.a.mark((function e(){var t,n,a,r,i,c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location,n=t.pathname,a=t.search,r=t.href,!/http:/g.test(r)){e.next=4;break}return window.location.href=r.replace(/http:/g,"https:"),e.abrupt("return",!0);case 4:i=P.a.parse(a),e.prev=5,c=Object.keys(x),o=0;case 8:if(!(o<c.length)){e.next=17;break}if(!(s=x[c[o]]).condition({pathname:n,query:i})){e.next=14;break}return e.next=13,s.action({pathname:n,query:i});case 13:return e.abrupt("return",!0);case 14:o++,e.next=8;break;case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(5),4001!==e.t0.code&&window.location.replace("/wiki/page_not_found"),e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,null,[[5,19]])}))),H=n(21);(function(){var e=Object(_.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return t=w(),e.next=8,t.dispatch.user.fetchInfo();case 8:if(n=t.getState(),(a=n.user).info){e.next=11;break}return e.abrupt("return",Promise.reject());case 11:return Object(j.b)(a.info.language_version),Object(H.b)(a.info.language_version),r=a.info.identifier+(a.info.raw_empno?"_"+a.info.raw_empno:"")+(a.info.name?"_"+a.info.name:""),window.WaterMark&&window.WaterMark.mark({text:r,opacity:.03,size:14,maxWidth:400}),e.abrupt("return",{store:t,locale:Object(j.a)()});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){c.a.render(r.a.createElement(E,e),document.getElementById("root"))}))},1735:function(e,t){e.exports=Raphael},1736:function(e,t){e.exports=katex},1737:function(e,t){e.exports=mermaid},178:function(e,t,n){"use strict";n(85);var a=n(39),r=(n(161),n(80)),i=(n(512),n(181)),c=n(6),o=n(0),s=n.n(o),l=n(416),u=n.n(l),E=n(3),m=n.n(E),d=n(18);n(1695);t.a=s.a.forwardRef((function(e,t){var n=e.top,l=void 0!==n&&n,E=e.initialLoad,_=void 0!==E&&E,f=e.data,p=void 0===f?[]:f,O=e.hoverBg,h=void 0!==O&&O,T=e.hasMore,N=void 0!==T&&T,g=e.haveDivider,S=void 0!==g&&g,I=e.listItemContent,b=void 0===I?function(){}:I,C=e.asyncLoadData,v=void 0===C?function(){}:C,A=e.threshold,R=void 0===A?500:A,y=Object(o.useState)(!1),L=Object(c.a)(y,2),D=L[0],k=L[1],M=Object(o.useState)(N),w=Object(c.a)(M,2),j=w[0],U=w[1],P=Object(o.useState)(!1),x=Object(c.a)(P,2),F=x[0],H=x[1];Object(o.useEffect)((function(){U(N)}),[N]),Object(o.useImperativeHandle)(t,(function(){return{resetHasMore:function(){U(!0),H(!1)},setLoading:k}}));return s.a.createElement("div",{className:"articleList-list"},s.a.createElement("div",{className:"articleList-list__container"},s.a.createElement(u.a,{initialLoad:_,useWindow:!0,pageStart:0,loadMore:function(){if(k(!0),F)return k(!1),void U(!1);v().then((function(e){k(!1),e||H(!0)}))},threshold:R,hasMore:!D&&j},s.a.createElement(i.b,{dataSource:p,renderItem:function(e,t){return s.a.createElement("div",null,s.a.createElement(i.b.Item,{key:e.id,className:m()(h?"ant-list-item--hover":"ant-list-item--nohover")},l&&s.a.createElement(d.a,{type:"icon-yizhidingbu2x",className:"articleList-list__top-icon",onClick:function(){return p&&l(p[t],t)}}),b?b(e,t):s.a.createElement("div",null)),S&&(t+1)%5===0&&s.a.createElement(r.a,null))}},D&&j&&s.a.createElement("div",{className:"demo-loading-container"},s.a.createElement(a.a,null))))))}))},18:function(e,t,n){"use strict";var a=n(83),r=n(0),i=n.n(r),c=n(1733),o=["type"],s=Object(c.a)({scriptUrl:"//at.alicdn.com/t/font_1990514_m894ebpvur.js"});t.a=function(e){var t=e.type,r=Object(a.a)(e,o);return/^ii-/.test(t)?i.a.createElement("img",Object.assign({src:n(638)("./".concat(t,".svg")),alt:"icon"},r)):i.a.createElement(s,Object.assign({type:t},r))}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a,r,i,c=n(6),o=n(33),s=n(0),l=n.n(s),u=n(18),E=n(3),m=n.n(E),d="zh-CN",_="en",f=~[d,_].indexOf(navigator.language)?navigator.language:d,p=(a={},Object(o.a)(a,_,{en:"en",home:{MODEL_AUTH:{CHOOSE_TEAM_SPACE:"Choose TeamSpace",CURRENT_TEAM_SPACE:"(Current TeamSpace)",MUTUAL_STAFF:"Interactive entertainment employee",FULL_TIME_EMPLOYEES:"Full-time employees",MUTUAL_INTERN:"Interactive entertainment intern",INTERN:"Intern",MUTUAL_ENTERTAINMENT:"Interactive entertainment contractor",OUTSOURCED_EMPLOYEE:"Contractor",NON_INTERACTIVE:"Group (non-mutual entertainment) staff",DISPATCH_STAFF:"Expatriate employee",OPERATIONS_CENTER_STAFF:"Operations center staff (OG)",OPEN_TO_ALL:"Open to all",DESIGNATED_OCCUPATION:"Specific occupations",NOT_SET:"Not set",CUSTOM_VISIBILITY_GROUP:"Customize view permission groups",SET_ROLES_OCC:"Set role and occupation",ROLE_OCCUPATION:"Job roles",TEAM_SPACE:"Team space",SPECIFIC_USER:"Specific user",SELECT_USER:"Select user",SEARCH_USER:"Search all usernames/email prefixes, press return to search",NO_RELATED_USERS:"No relavant users were found",PERMISSION_SETTINGS:"Permission settings",EVERYONE:"Everyone",ONLY_YOURSELF:"Myself",DESIGNATED_O_T_U:"Occupation / Teamspace / User",ADJUST_RESOURCES_AUTH:"Sychronously adjust permissions to the resources under current category?",NOT_ADJUSTED:"Don't adjust",ALL_ADJUSTMENTS:"Adjust all (including all categories and resource permissions under current category) ",THIS_OPERATION_LARGE:"This operation has wide-ranging effects, please be cautious",PARTIAL_ADJUSTMENT:"Partial adjustment",LOCK_ONLY_PERMISSIONS:"Lock only permissions",MODIFY_AND_LOCK:"Modify and lock permissions",MODIFY_PERMISSIONS:"Modify permissions",NO_MADE_CHOICE:"You have not made a choice yet",PUBLIC:"Public",CONTACT:"If you have any question when editing, please feel free to contact "}},member:{MANAGE_GROUPS:"Manage groups",CHANGE_RECORD:"Change record",DEPARTMENT_INFO:"Department info",CHANGE:"change",CHANGE_REASON:"Change reason",CHANGE_TIME:"Change time",OPERATOR:"Operator",MEMBER_CHANGE_RECORD:"Member change record",ADD_MEMBER:"Add member",SEARCH_NAME_EMAIL:"Search name/email",MEMBER:"Member",DEPARTMENT:"Department",ROLE:"Role",ALL:"All",TEAM_MEMBER:"Team member",CONTENT_MANAGER:"Content manager",OFFICIAL_PUBLISHER:"Official Publisher",TEAM_MANAGER:"Team manager",GROUP:"Group",ACTIONS:"Actions",MODIFY:"Modify",QUIT:"Quit",MORE:"More",ADD_TO_RESTRICTION_LIST:"Add to restriction list",REMOVE:"Remove",GROUP_AND_GROUP_TYPES:"Group and group types",EXPAND_ALL_GROUPS:"Expand all groups",ADD_NEW_GROUP:"Add new group",EDIT:"Edit",DELETE:"Delete",CREATE_NEW_GROUP_TYPE:"Create new group type",INVITE_BY_LINK:"Invite by link",INVITE_MEMBERS_BY_LINK:"Invite members by link",SEND_A_LINK_INVITATION:"Send a link invitation",COPY_LINK:"Copy Link",DIRECT_INVITATION:"Direct invitation",INVITE_MEMBERS_DIRECTLY:"Invite members directly",CANCEL:"Cancel",CONFIRM:"Confirm",BATCH_IMPORT:"Batch Import",BATCH_IMPORT_MENBER:"Batch import menber",UPLOAD_FILE:"Upload file",SEPARATE:"Separate multiple groups or roles with spaces",HEADER_CONTAIN:"The header must contain three items: name, corp email, and user role.",IMPORT:"Import",CLICK_TO_COPY:"Click to copy invitation link and send it to the relevant users. Link is valid for 48 hours after created. Supports adding up to 20 people to the team per link, for more than 20 people please copy a new link.",SURE_TO_REMOVE:"Are you sure to remove this member? Upon remove they will lose access to this TeamSpace.",ADD_TO_RESTRICTED:"Are you sure  to add this member to the restricted list? Upon add to restricted list, they will lose access to this TeamSpace.",SUCCESSFUL_OPERATION:"Operation successful",SUCCESSFULLY_REMOVED:"Removed",SUCCESSFULLY_MODIFIED:"Modified",ADD:"Add",RESULT_OF_EXCEPTION:"Exception cause",NAME:"Name",EMAIL:"Email",CLOSE:"Close",IMPORT_EXCEPTION:"Import exception",PLEASE_UPLOAD:"Please upload a csv format file",UNCLASSIFIED:"Unsorted",SUCCESSFULLY_IMPORTED:"Imported",OK:"OK",CLICK_THE_CHECKBOX:"Use the checkbox to manage multiple members (remove, add to restricted lists, etc.)",TIPS:"Tips",NO_MEMBERS:"No members yet",CLICK_ON:"Click on ''Invite members'' in the top right corner to add",DID_NOT_FIND_THIS_MEMBER:"Did not find this member",USER_EHR__CANNOT__REMOVED:"Users synced from EHR cannot be removed and can only be added to the restricted list.",USERS_JOIN_THE_RESTRICTED:"Users added to the restricted list cannot access team space",TIME_OF_JOININGL:"Joined",RESTRICTED_LIST:"The restricted list",RESTRICTED_LIST_NUM:"{num, plural, =0 {(no member.)} =1 {(one member.)} other {(# members.)}}",MEMBERS_IN_TOTAL:"Total member(s) {num}",REMOVE_MEMBER:"Remove member",MEMBER_SELECTED:"selected {num, plural, =0 {(no member)} =1 {(one member)} other {(# members)}}",RESTRICTED_LIST_SHEET:"Restricted list",SURE_ADD_SELECTED__RESTRICTED:"Are you sure add  the selected member to the restricted list?",USERS_JOIN_RESTRICTED:"Users who join the restricted list will continue to appear in the list, and the restrictions can be removed from the list.",TEAM_ACCESSIBLE_AFTER_REMOVAL:"TeamSpace will be inaccessible after removal",CONFIRM_REMOVE_MEMBERS:"Confirm removal of selected members?",EXIT_SUCCESSFULLY:"Exit successfully",INVITATION_URL_COPIED:"Invite link has been copied",PLEASE_SELECT_A_ROLE:"Please select a role",ALREADY_TEAMSPACE:"Already added",ADDED_SUCCESSFULLY:"Added",ADDED_FAILED:"Add failed",IN_THE_RESTRICTED_LIST:"Blacklisted",INVITE_SETTINGS:"Invite member-member settings",ROLE_SETTING:"Role setting",GROUPING_SETTINGS:"Grouping settings",NOTE:"Note: The settings above are batch operations. If you want to set them individually, please go to the member list.",TIPS_SHORT:"Tips",EMPTY:"Clear",SURE_TO_LEAVE:"Are you sure you want to leave this TeamSpace?",REMOVE_RESTRICTION:"Remove from restricted list",ADD_FAILED:"Add failed, you can choose to submit again",SUB_AGAIN:"Submit again",ALL_ADD_SUCCESS:"All added successfully",ADD_MEMBERS:"{num, plural, =0 {(no member.)} =1 {(one member.)} other {(# members.)}} have been successfully added. The other members have the following status:",DID_NOT_FIND_THIS_RECORD:"No change records found"}}),Object(o.a)(a,d,{en:"\u82f1\u8bed",home:{MODEL_AUTH:{CHOOSE_TEAM_SPACE:"\u9009\u62e9\u56e2\u961f\u7a7a\u95f4",CURRENT_TEAM_SPACE:"\uff08\u5f53\u524d\u56e2\u961f\u7a7a\u95f4\uff09",MUTUAL_STAFF:"\u4e92\u5a31\u6b63\u5f0f\u5458\u5de5",FULL_TIME_EMPLOYEES:"\u7f51\u6613\u6b63\u5f0f\u5458\u5de5",MUTUAL_INTERN:"\u4e92\u5a31\u5b9e\u4e60\u751f",INTERN:"\u7f51\u6613\u5b9e\u4e60\u5458\u5de5",MUTUAL_ENTERTAINMENT:"\u4e92\u5a31\u5916\u5305",OUTSOURCED_EMPLOYEE:"\u7f51\u6613\u5916\u5305\u5458\u5de5",NON_INTERACTIVE:"\u96c6\u56e2(\u975e\u4e92\u5a31)\u5458\u5de5",DISPATCH_STAFF:"\u7f51\u6613\u6d3e\u9063\u5458\u5de5",DISPATCH_STAFF_KM:"\u4e92\u5a31\u6d3e\u9063\u5458\u5de5",OPERATIONS_CENTER_STAFF:"\u8fd0\u8425\u4e2d\u5fc3\u5458\u5de5(OG)",OPEN_TO_ALL:"\u5b8c\u5168\u516c\u5f00",DESIGNATED_OCCUPATION:"\u6307\u5b9a\u804c\u4e1a",NOT_SET:"\u672a\u8bbe\u7f6e",CUSTOM_VISIBILITY_GROUP:"\u81ea\u5b9a\u4e49\u53ef\u89c1\u7fa4\u4f53",SET_ROLES_OCC:"\u8bbe\u7f6e\u89d2\u8272\u4e0e\u804c\u4e1a",ROLE_OCCUPATION:"\u89d2\u8272\u804c\u4e1a",TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4",SPECIFIC_USER:"\u5177\u4f53\u7528\u6237",SELECT_USER:"\u9009\u62e9\u7528\u6237",SEARCH_USER:"\u641c\u7d22\u6240\u6709\u7528\u6237\u540d\u79f0/\u90ae\u7bb1\u524d\u7f00\uff0c\u56de\u8f66\u641c\u7d22",NO_RELATED_USERS:"\u672a\u641c\u7d22\u5230\u76f8\u5173\u7528\u6237",PERMISSION_SETTINGS:"\u6743\u9650\u8bbe\u7f6e",EVERYONE:"\u6240\u6709\u4eba",ONLY_YOURSELF:"\u4ec5\u81ea\u5df1",DESIGNATED_O_T_U:"\u6307\u5b9a\u804c\u4e1a/\u56e2\u961f\u7a7a\u95f4/\u7528\u6237",ADJUST_RESOURCES_AUTH:"\u662f\u5426\u540c\u6b65\u8c03\u6574\u5f53\u524d\u5206\u7c7b\u4e0b\u7684\u8d44\u6e90\u7684\u6743\u9650",NOT_ADJUSTED:"\u4e0d\u8c03\u6574",ALL_ADJUSTMENTS:"\u5168\u90e8\u8c03\u6574(\u5305\u542b\u5f53\u524d\u5206\u7c7b\u4e0b\u5168\u90e8\u5206\u7c7b\u53ca\u8d44\u6e90\u6743\u9650)",THIS_OPERATION_LARGE:"\u6b64\u64cd\u4f5c\u5f71\u54cd\u8303\u56f4\u8f83\u5927\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",PARTIAL_ADJUSTMENT:"\u90e8\u5206\u8c03\u6574",LOCK_ONLY_PERMISSIONS:"\u4ec5\u9501\u5b9a\u6743\u9650",MODIFY_AND_LOCK:"\u4fee\u6539\u5e76\u9501\u5b9a\u6743\u9650",MODIFY_PERMISSIONS:"\u4fee\u6539\u6743\u9650",NO_MADE_CHOICE:"\u60a8\u8fd8\u672a\u505a\u51fa\u9009\u62e9",PUBLIC:"\u516c\u5f00",CONTACT:"\u7f16\u8f91\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u968f\u65f6\u8054\u7cfb"}},member:{MODIFY:"\u4fee\u6539",MANAGE_GROUPS:"\u7ba1\u7406\u5206\u7ec4",CHANGE_RECORD:"\u53d8\u52a8\u8bb0\u5f55",DEPARTMENT_INFO:"\u90e8\u95e8\u4fe1\u606f",CHANGE:"\u53d8\u52a8",CHANGE_REASON:"\u53d8\u52a8\u539f\u56e0",CHANGE_TIME:"\u53d8\u52a8\u65f6\u95f4",OPERATOR:"\u64cd\u4f5c\u4eba",MEMBER_CHANGE_RECORD:"\u6210\u5458\u53d8\u52a8\u8bb0\u5f55",ADD_MEMBER:"\u6dfb\u52a0\u6210\u5458",SEARCH_NAME_EMAIL:"\u641c\u7d22\u59d3\u540d/\u90ae\u7bb1",MEMBER:"\u6210\u5458",DEPARTMENT:"\u90e8\u95e8",ROLE:"\u89d2\u8272",ALL:"\u5168\u90e8",TEAM_MEMBER:"\u56e2\u961f\u6210\u5458",CONTENT_MANAGER:"\u5185\u5bb9\u7ba1\u7406\u5458",OFFICIAL_PUBLISHER:"\u5b98\u65b9\u53d1\u5e03\u4eba",TEAM_MANAGER:"\u56e2\u961f\u7ba1\u7406\u5458",GROUP:"\u5206\u7ec4",ACTIONS:"\u64cd\u4f5c",QUIT:"\u9000\u51fa",MORE:"\u66f4\u591a",ADD_TO_RESTRICTION_LIST:"\u52a0\u5165\u9650\u5236\u540d\u5355",REMOVE:"\u79fb\u9664",GROUP_AND_GROUP_TYPES:"\u5206\u7ec4\u548c\u5206\u7ec4\u7c7b\u578b",EXPAND_ALL_GROUPS:"\u5c55\u5f00\u6240\u6709\u5206\u7ec4",ADD_NEW_GROUP:"\u6dfb\u52a0\u5206\u7ec4",EDIT:"\u7f16\u8f91",DELETE:"\u5220\u9664",CREATE_NEW_GROUP_TYPE:"\u65b0\u5efa\u5206\u7ec4\u7c7b\u578b",INVITE_BY_LINK:"\u94fe\u63a5\u9080\u8bf7",INVITE_MEMBERS_BY_LINK:"\u94fe\u63a5\u9080\u8bf7\u6210\u5458",SEND_A_LINK_INVITATION:"\u53d1\u9001\u94fe\u63a5\u9080\u8bf7",COPY_LINK:"\u590d\u5236\u94fe\u63a5",DIRECT_INVITATION:"\u76f4\u63a5\u9080\u8bf7",INVITE_MEMBERS_DIRECTLY:"\u76f4\u63a5\u9080\u8bf7\u6210\u5458",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u5b9a",BATCH_IMPORT:"\u6279\u91cf\u5bfc\u5165",BATCH_IMPORT_MENBER:"\u6279\u91cf\u5bfc\u5165\u6210\u5458",UPLOAD_FILE:"\u4e0a\u4f20\u6587\u4ef6",SEPARATE:"\u591a\u4e2a\u5206\u7ec4\u6216\u89d2\u8272\u95f4\u7528\u7a7a\u683c\u5206\u5f00",HEADER_CONTAIN:"\u62ac\u5934\u5fc5\u987b\u5305\u542b\u59d3\u540d\u3001corp\u90ae\u7bb1\u3001\u7528\u6237\u89d2\u8272\u4e09\u9879",IMPORT:"\u5f00\u59cb\u5bfc\u5165",CLICK_TO_COPY:"\u70b9\u51fb\u590d\u5236\u9080\u8bf7\u94fe\u63a5\u53d1\u9001\u7ed9\u76f8\u5173\u6210\u5458\uff0c\u9080\u8bf7\u94fe\u63a5\u6709\u6548\u671f\u4e3a\u70b9\u51fb\u590d\u5236\u540e\u768448\u5c0f\u65f6\uff0c\u652f\u630120\u4eba\u81ea\u52a8\u52a0\u5165\u56e2\u961f\uff0c\u8d85\u8fc720\u4eba\u9700\u8981\u91cd\u65b0\u590d\u5236\u94fe\u63a5",SURE_TO_REMOVE:"\u786e\u5b9a\u79fb\u9664\u8be5\u6210\u5458\uff1f\u79fb\u9664\u540eTa\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4\u3002",ADD_TO_RESTRICTED:"\u786e\u5b9a\u5c06\u8be5\u6210\u5458\u52a0\u5165\u9650\u5236\u540d\u5355\uff1f\u52a0\u5165\u9650\u5236\u540d\u5355\u540e\uff0cTa\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4\u3002",SUCCESSFUL_OPERATION:"\u64cd\u4f5c\u6210\u529f",SUCCESSFULLY_REMOVED:"\u79fb\u9664\u6210\u529f",SUCCESSFULLY_MODIFIED:"\u4fee\u6539\u6210\u529f",ADD:"\u6dfb\u52a0",RESULT_OF_EXCEPTION:"\u5f02\u5e38\u539f\u56e0",NAME:"\u59d3\u540d",EMAIL:"\u90ae\u7bb1",CLOSE:"\u5173\u95ed",IMPORT_EXCEPTION:"\u5bfc\u5165\u5f02\u5e38",PLEASE_UPLOAD:"\u8bf7\u9009\u62e9csv\u683c\u5f0f\u6587\u4ef6\u4e0a\u4f20",UNCLASSIFIED:"\u672a\u5206\u7ec4",SUCCESSFULLY_IMPORTED:"\u5bfc\u5165\u6210\u529f",OK:"\u6211\u77e5\u9053\u4e86",CLICK_THE_CHECKBOX:"\u70b9\u51fb\u591a\u9009\u6846\uff0c\u5373\u53ef\u5bf9\u6210\u5458\u8fdb\u884c\u6279\u91cf\u7ba1\u7406\uff08\u79fb\u9664\uff0c\u52a0\u5165\u9650\u5236\u540d\u5355\u7b49\u64cd\u4f5c\uff09",TIPS:"\u6e29\u99a8\u63d0\u793a",NO_MEMBERS:"\u8fd8\u6ca1\u6709\u6210\u5458\u5466",CLICK_ON:"\u8d76\u7d27\u70b9\u51fb\u53f3\u4e0a\u89d2\u9080\u8bf7\u6210\u5458\u52a0\u5165\u5427",DID_NOT_FIND_THIS_MEMBER:"\u6ca1\u6709\u627e\u5230\u76f8\u5e94\u6210\u5458",USER_EHR__CANNOT__REMOVED:"EHR\u6570\u636e\u540c\u6b65\u7684\u7528\u6237\u65e0\u6cd5\u79fb\u9664\uff0c\u53ea\u80fd\u52a0\u5165\u9650\u5236\u540d\u5355",USERS_JOIN_THE_RESTRICTED:"\u52a0\u5165\u9650\u5236\u540d\u5355\u7684\u7528\u6237\u65e0\u6cd5\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4",TIME_OF_JOININGL:"\u52a0\u5165\u65f6\u95f4",RESTRICTED_LIST:"\u9650\u5236\u540d\u5355",RESTRICTED_LIST_NUM:"{num}\u540d",MEMBERS_IN_TOTAL:"\u5171{num}\u540d\u6210\u5458",REMOVE_MEMBER:"\u79fb\u9664\u6210\u5458",MEMBER_SELECTED:"\u5df2\u9009\u62e9{num}\u540d\u6210\u5458",RESTRICTED_LIST_SHEET:"\u9650\u5236\u540d\u5355\u5217\u8868",SURE_ADD_SELECTED__RESTRICTED:"\u786e\u8ba4\u5c06\u9009\u4e2d\u6210\u5458\u52a0\u5165\u9650\u5236\u540d\u5355\uff1f",USERS_JOIN_RESTRICTED:"\u52a0\u5165\u9650\u5236\u540d\u5355\u7684\u7528\u6237\u4f1a\u7ee7\u7eed\u5c55\u793a\u5728\u5217\u8868\u4e2d\uff0c\u53ef\u4ee5\u5728\u5217\u8868\u4e2d\u89e3\u9664\u76f8\u5e94\u7684\u9650\u5236\u3002",CONFIRM_REMOVE_MEMBERS:"\u786e\u8ba4\u79fb\u9664\u9009\u4e2d\u7684\u6210\u5458?",TEAM_ACCESSIBLE_AFTER_REMOVAL:"\u79fb\u9664\u540e\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4",EXIT_SUCCESSFULLY:"\u9000\u51fa\u6210\u529f",INVITATION_URL_COPIED:"\u9080\u8bf7\u94fe\u63a5\u5df2\u590d\u5236",PLEASE_SELECT_A_ROLE:"\u8bf7\u9009\u62e9\u89d2\u8272",ALREADY_TEAMSPACE:"\u5df2\u5728\u56e2\u961f",ADDED_SUCCESSFULLY:"\u6dfb\u52a0\u6210\u529f",ADDED_FAILED:"\u6dfb\u52a0\u5931\u8d25",IN_THE_RESTRICTED_LIST:"\u9ed1\u540d\u5355\u4e2d",INVITE_SETTINGS:"\u9080\u8bf7\u6210\u5458-\u6210\u5458\u8bbe\u7f6e",ROLE_SETTING:"\u89d2\u8272\u8bbe\u7f6e",GROUPING_SETTINGS:"\u5206\u7ec4\u8bbe\u7f6e",NOTE:"\u5907\u6ce8\uff1a\u4ee5\u4e0a\u64cd\u4f5c\u90fd\u662f\u6279\u91cf\u8bbe\u7f6e\uff0c\u5982\u6b32\u5206\u522b\u8bbe\u7f6e\u8bf7\u524d\u5f80\u6210\u5458\u5217\u8868\u4e2d\u5206\u522b\u8bbe\u7f6e",TIPS_SHORT:"\u63d0\u793a",EMPTY:"\u6e05\u7a7a",SURE_TO_LEAVE:"\u786e\u5b9a\u9000\u51fa\u8be5\u56e2\u961f\u7a7a\u95f4\uff1f",REMOVE_RESTRICTION:"\u79fb\u51fa\u9650\u5236\u540d\u5355",ADD_FAILED:"\u6dfb\u52a0\u5931\u8d25\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u518d\u6b21\u63d0\u4ea4\u91cd\u65b0\u6dfb\u52a0",SUB_AGAIN:"\u518d\u6b21\u63d0\u4ea4",ALL_ADD_SUCCESS:"\u5168\u90e8\u6dfb\u52a0\u6210\u529f",ADD_MEMBERS:"\u5df2\u6210\u529f\u6dfb\u52a0{num}\u4e2a\u6210\u5458\uff0c\u5176\u4ed6\u6210\u5458\u72b6\u6001\u5982\u4e0b:",DID_NOT_FIND_THIS_RECORD:"\u6ca1\u6709\u627e\u5230\u53d8\u52a8\u8bb0\u5f55"}}),a),O=function(e){var t=p[e]||p[f];return function(e,n){var a=e.split(".").reduce((function(e,t){return void 0!==e&&null!==e?e[t]:e}),t);return n||"string"!==typeof a?a?a(n):"":a}},h=n(9),T=(n(1383),window.location),N=T.host,g=T.port,S="km"===(N.includes("netease.com")?N.includes("kms")?"kms":"km":"8007"===g||"8008"===g?"kms":"km"),I=n(10),b=n.n(I),C=n(22),v=(n(247),n(69)),A=n(519),R=n.n(A),y=n(8),L=(n(245),n(133)),D=(n(201),n(79)),k=(n(85),n(39)),M=["normal","intern","outsourcing","not_huyu","operation","waipai"],w=(r={},Object(o.a)(r,"normal",S?"MUTUAL_STAFF":"FULL_TIME_EMPLOYEES"),Object(o.a)(r,"intern",S?"MUTUAL_INTERN":"INTERN"),Object(o.a)(r,"outsourcing",S?"MUTUAL_ENTERTAINMENT":"OUTSOURCED_EMPLOYEE"),Object(o.a)(r,"not_huyu","NON_INTERACTIVE"),Object(o.a)(r,"operation","OPERATIONS_CENTER_STAFF"),Object(o.a)(r,"waipai",S?"DISPATCH_STAFF_KM":"DISPATCH_STAFF"),r),j=function(e){var t=e.authorities,n=void 0===t?[]:t,a=e.role,r=e.data,i=e.catData,o=e.onShowCats,u=e.onChange,E=r.name,m=Object(s.useState)(!1),d=Object(c.a)(m,2),_=d[0],f=d[1],p=i||{},O=p.loading,h=p.cats,T=n.some((function(e){return e.type===a+"_custom_profession"&&e.id===r.id})),N=n.filter((function(e){return e.type===a+"_custom_profession_cat"&&e.parent.id===r.id})),g=N.map((function(e){return e.id})),S=function(e,t){t?u&&u(n.concat(e)):u&&u(n.filter((function(t){return t.type!==a+"_custom_profession_cat"||t.id!==e.id})))},I=l.a.createElement("div",{className:"profession-cats"},O&&l.a.createElement("div",{className:"cat-loading"},l.a.createElement(k.a,null)),!O&&h&&h.length>0&&h.map((function(e,t){var n=e.name,a=e.children;return a&&a.length?l.a.createElement("div",{className:"cat-type",key:t},l.a.createElement("div",{className:"cat-type__title"},n),l.a.createElement("div",{className:"cat-type__list"},a.map((function(e){return l.a.createElement("div",{className:"cat-item",key:e.id},l.a.createElement(D.a,{disabled:T,checked:T||g.includes(e.id),onChange:function(t){return S(e,t.target.checked)}},e.name))})))):null})));return l.a.createElement("div",{className:"profession-item",title:E},l.a.createElement("span",{className:"profession-item__check"},l.a.createElement(D.a,{checked:T,indeterminate:N.length>0,onChange:function(e){e.target.checked?u&&u(n.filter((function(e){return e.type!==a+"_custom_profession_cat"||e.parent.id!==r.id})).concat(r)):u&&u(n.filter((function(e){return e.type!==a+"_custom_profession"||e.id!==r.id})))}},E)),l.a.createElement(L.a,{visible:_,overlay:I,overlayClassName:"dropdown-auth-profession-cats",placement:"bottomCenter",trigger:["click"],onVisibleChange:function(e){f(e),e&&o(r)}},l.a.createElement("i",{className:"profession-item__arrow"})))},U=function(e){var t=e.authorities,n=void 0===t?[]:t,a=e.role,r=e.data,i=e.resourceType,u=e.onChange,E=e.locale,m=Object(s.useState)({}),d=Object(c.a)(m,2),_=d[0],f=d[1],p=Object(s.useState)(),T=Object(c.a)(p,2),N=T[0],g=T[1],S=Object(s.useState)(),I=Object(c.a)(S,2),b=I[0],C=I[1],A=O(E);if(Object(s.useEffect)((function(){var e=n.some((function(e){return e.type===a+"_public"})),t=n.some((function(e){return e.type===a+"_recommend"})),r=n.some((function(e){return e.type===a+"_recommend_extra"})),i=n.filter((function(e){return e.type===a+"_custom_profession"})),c=n.filter((function(e){return e.type===a+"_custom_profession_cat"})),o=t||r||i.length>0||c.length>0;g(t?"recommend":r?"extra":"custom"),C(e?"open":o||"custom"===b?"custom":"none")}),[a,n]),!r)return null;var L=r.public,D=r.custom,k=r.recommend,M=r.recommend_extra,U=function(e){_[e.id]||(f(Object(y.a)(Object(y.a)({},_),{},Object(o.a)({},e.id,{loading:!0}))),Object(h.u)("/cms_api/profession_authorities/".concat(e.id,"/auth_cats"),{params:{resource_type:i,auth_profession_id:e.id}}).then((function(t){var n=R()(t,"authorities.auth_profession.children");f(Object(y.a)(Object(y.a)({},_),{},Object(o.a)({},e.id,{loading:!1,cats:n})))})).catch((function(){return f(Object(y.a)(Object(y.a)({},_),{},Object(o.a)({},e.id,{loading:!1})))})))};return l.a.createElement("div",{className:"role-item"},l.a.createElement("div",{className:"role-item__header"},l.a.createElement("div",{className:"role-item__name"},A("home.MODEL_AUTH.".concat(w[a]))),l.a.createElement("div",{className:"role-item__select"},l.a.createElement(v.a.Group,{value:b,onChange:function(e){var t=n,r=e.target.value;C(r),t=t.filter((function(e){return![a+"_public",a+"_recommend",a+"_recommend_extra",a+"_custom_profession",a+"_custom_profession_cat"].includes(e.type)})),"open"===r&&(t=t.concat(L)),u&&u(t)}},!!L&&l.a.createElement(v.a,{value:"open"},A("home.MODEL_AUTH.PUBLIC")),!!D&&D.length>0&&l.a.createElement(v.a,{value:"custom"},A("home.MODEL_AUTH.DESIGNATED_OCCUPATION")),l.a.createElement(v.a,{value:"none"},A("home.MODEL_AUTH.NOT_SET"))))),"custom"===b&&l.a.createElement("div",{className:"role-item__professions"},l.a.createElement("div",{className:"profession-types"},l.a.createElement(v.a.Group,{value:b,onChange:function(e){var t=n,r=e.target.value;g(r),t=t.filter((function(e){return![a+"_public",a+"_recommend",a+"_recommend_extra",a+"_custom_profession",a+"_custom_profession_cat"].includes(e.type)})),"recommend"===r&&t.push(k),"extra"===r&&t.push(M)}},!!k&&l.a.createElement(v.a,{value:"recommend"},k.name),!!M&&l.a.createElement(v.a,{value:"extra"},M.name),l.a.createElement(v.a,{value:"custom"},A("home.MODEL_AUTH.CUSTOM_VISIBILITY_GROUP")))),"custom"===N&&l.a.createElement("div",{className:"profession-list"},D.map((function(e){return l.a.createElement(j,{key:e.id,authorities:n,role:a,data:e,catData:_[e.id],onShowCats:U,onChange:u})})))))},P=function(e){var t=e.authorities,n=e.resourceType,a=e.onChange,r=e.locale,i=Object(s.useState)({}),o=Object(c.a)(i,2),u=o[0],E=o[1],m=O(r);return Object(s.useEffect)((function(){function e(){return(e=Object(C.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.u)("/cms_api/profession_authorities",{params:{resource_type:n}});case 2:t=e.sent,E(t.authorities.profession);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l.a.createElement("div",{className:"auth-select-profession"},l.a.createElement("div",{className:"title"},m("home.MODEL_AUTH.SET_ROLES_OCC")),l.a.createElement("div",{className:"roles"},M.map((function(e){return l.a.createElement(U,{locale:r,key:e,authorities:t,role:e,data:u[e],resourceType:n,onChange:a})}))))},x=n(57),F=(n(173),n(81)),H=n(1742),Y=function(e){var t=e.authorities,n=e.resourceType,a=e.onChange,r=e.value,i=e.locale,o=O(i),u=t.filter((function(e){return"organization"===e.type})).map((function(e){return e.id})),E=t.filter((function(e){return"organization_group"===e.type})).map((function(e){return e.id})),d=Object(s.useState)({list:[],page:1,total:0,loading:!1}),_=Object(c.a)(d,2),f=_[0],p=_[1],T=Object(s.useState)({value:"",searching:!1}),N=Object(c.a)(T,2),g=N[0],S=N[1],I=Object(s.useState)(null),b=Object(c.a)(I,2),C=b[0],v=b[1],A=C&&u.includes(C.id),R=C&&C.children&&C.children.reduce((function(e,t){return"OrganizationGroup"===t.type?e.concat(t):e.concat(t.children||[])}),[])||[],L=R.filter((function(e){return E.includes(e.id)})),M=L.map((function(e){return e.id})),w=Object(s.useRef)(null),j=function(e){var t=g.searching,a=f.list,i=f.page,c=t?"/cms_api/search_organizations?query=".concat(g.value):"/cms_api/organization_authorities?resource_type=".concat(n),o=window.location.pathname.split("/")[2],s=/^\/wiki_site_admin\/\d+/.test(window.location.pathname),l={page:e?1:i+1};if(s||(l.from_teamspace=o),r&&r.authorities){var u=r.authorities.map((function(e){return e.type+"-"+e.id}));l["selected_authorities[]"]=u}p(Object(y.a)(Object(y.a)({},f),{},{list:e?[]:f.list,loading:!0})),Object(h.u)(c,{params:l}).then((function(n){var r=t?n.list:n.authorities.organization;p({list:e?r:a.concat(r),page:e?1:i+1,total:n.total,loading:!1})}))};Object(s.useEffect)((function(){return j(!0)}),[g]);var U=function(e,n){var r=(e.children&&e.children.reduce((function(e,t){return"OrganizationGroup"===t.type?e.concat(t):e.concat(t.children||[])}),[])||[]).map((function(e){return e.id}));a&&a(n?t.filter((function(e){return"organization_group"!==e.type||!r.includes(e.id)})).concat(e):t.filter((function(t){return"organization"!==t.type||t.id!==e.id})))},P=function(e,n){if(n)return L.length>=R.length-1?a&&a(t.filter((function(e){return"organization_group"!==e.type||!M.includes(e.id)})).concat(C)):a&&a(t.concat(e));if(A){var r=R.filter((function(t){return t.id!==e.id}));return a&&a(t.filter((function(e){return"organization"!==e.type||e.id!==C.id})).concat(r))}return a&&a(t.filter((function(t){return"organization_group"!==t.type||t.id!==e.id})))};return l.a.createElement("div",{className:"auth-select-organization"},l.a.createElement("div",{className:"col-organization"},l.a.createElement("div",{className:"organization-title"},o("home.MODEL_AUTH.CHOOSE_TEAM_SPACE")),l.a.createElement("div",{className:"organization-search"},l.a.createElement(F.a,{placeholder:o("home.SEARCH_TEAMSPACE"),prefix:l.a.createElement(H.a,{type:"search"}),onPressEnter:function(e){var t=e.target.value;S({value:t,searching:!!t})}})),l.a.createElement("div",{className:"organization-container",ref:w,onScroll:function(){if(w&&w.current){var e=w.current,t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;!f.loading&&f.list.length<f.total&&t>n-a-50&&j()}}},l.a.createElement("div",{className:"organization-list"},f.list.map((function(e){var t=e.id,n=e.name,a=e.children,r=(e.children&&e.children.reduce((function(e,t){return"OrganizationGroup"===t.type?e.concat(t):e.concat(t.children||[])}),[])||[]).map((function(e){return e.id})),i=u.includes(t),c=r.length+E.length>new Set([].concat(Object(x.a)(r),Object(x.a)(E))).size;return l.a.createElement("div",{key:t,onClick:function(){return v(e)},className:m()("organization-item",{"organization-item--active":C&&C.id===t})},l.a.createElement("span",{className:"organization-item__check"},l.a.createElement(D.a,{checked:i,indeterminate:c,onChange:function(t){return U(e,t.target.checked)}})),l.a.createElement("span",{className:"organization-item__name"},n),e.is_current_teamspace&&l.a.createElement("span",{className:"organization-item__self"},o("home.MODEL_AUTH.CURRENT_TEAM_SPACE")),a&&a.length>0&&l.a.createElement("span",{className:"organization-item__arrow"},l.a.createElement(H.a,{type:"right"})))}))),f.loading&&l.a.createElement("div",{className:"organization-loading"},l.a.createElement(k.a,{size:"small"})))),l.a.createElement("div",{className:"col-group"},C?C.children&&C.children.length?l.a.createElement("div",{className:"group-list"},C.children.map((function(e){return"OrganizationGroup"===e.type?l.a.createElement("div",{key:e.id,className:"group-item"},l.a.createElement(D.a,{checked:A||E.includes(e.id),onChange:function(t){return P(e,t.target.checked)}},e.name)):e.children&&e.children.length>0?l.a.createElement("div",{key:e.id,className:"group-category"},l.a.createElement("div",{className:"group-category__title"},e.name),l.a.createElement("div",{className:"group-category__items"},e.children.map((function(e){return l.a.createElement("div",{key:e.id,className:"group-category__item"},l.a.createElement(D.a,{checked:A||E.includes(e.id),onChange:function(t){return P(e,t.target.checked)}},e.name))})))):void 0}))):l.a.createElement("div",{className:"group-empty"},"\u6682\u65e0\u5206\u7ec4"):null))},G=function(e){var t=e.onSelect,n=e.locale,a=Object(s.useState)(""),r=Object(c.a)(a,2),i=r[0],o=r[1],u=Object(s.useState)({searching:!1,results:[]}),E=Object(c.a)(u,2),m=E[0],d=E[1],_=O(n),f=null,p=function(){f&&(clearTimeout(f),f=null),o(""),d({searching:!1,results:[]})};return l.a.createElement("div",{className:"auth-select-user"},l.a.createElement("div",{className:"title"},_("home.MODEL_AUTH.SELECT_USER")),l.a.createElement("div",{className:"search-user"},l.a.createElement("div",{className:"search-user__input"},l.a.createElement(F.a,{value:i,onChange:function(e){return o(e.target.value)},onPressEnter:function(){i&&i.trim()&&Object(h.u)("/cms_api/search_persons",{params:{query:i}}).then((function(e){return d({searching:!0,results:e.list})})).catch((function(){return d({searching:!0,results:[]})}))},onBlur:function(){f=setTimeout((function(){return d({searching:!1,results:[]})}),200)},placeholder:_("home.MODEL_AUTH.SEARCH_USER"),prefix:l.a.createElement(H.a,{type:"search"}),suffix:l.a.createElement(H.a,{type:"close",onClick:p,style:{cursor:"pointer",display:i?"":"none"}})})),m.searching&&l.a.createElement("div",{className:"search-user__results"},m.results&&m.results.length?l.a.createElement("div",{className:"user-list"},m.results.map((function(e){return l.a.createElement("div",{key:e.id,className:"user-item",onClick:function(){return function(e){p(),t&&t(e)}(e)}},e.name,"-",e.person&&e.person.org_name.split("-").join(" / "),"-",e.person&&e.person.pemail)}))):l.a.createElement("div",{className:"user-empty"},_("home.MODEL_AUTH.NO_RELATED_USERS")))))},V=(i={},Object(o.a)(i,"profession","ROLE_OCCUPATION"),Object(o.a)(i,"organization","TEAM_SPACE"),Object(o.a)(i,"user","SPECIFIC_USER"),i),W=function(e){var t=e.authorities,a=void 0===t?[]:t,r=e.tabs,i=e.defaultTab,o=e.resourceType,E=void 0===o?"Article":o,d=e.onChange,_=e.profile,f=e.value,p=e.locale,T=Object(s.useState)(i),N=Object(c.a)(T,2),g=N[0],S=N[1],I=O(p);return l.a.createElement("div",{className:"app-auth-public-setting"},l.a.createElement("div",{className:"auth-selected"},l.a.createElement("div",{className:"auth-selected__list"},a.map((function(e){return l.a.createElement("span",{className:m()("auth-selected__item",e.older?"":"auth-selected__item--blue"),key:e.type+e.id},e.selected_name||e.name,l.a.createElement(u.a,{type:"icon-cha2x",onClick:function(){return function(e){d&&d(a.filter((function(t){return t.type!==e.type||t.id!==e.id})))}(e)}}))}))),l.a.createElement("a",{className:m()("auth-selected__clear",{"auth-selected__clear--disabled":!a||!a.length}),onClick:function(){d&&d([])}},I("member.EMPTY"))),l.a.createElement("div",{className:"auth-select"},l.a.createElement("div",{className:"auth-tab-nav"},r.map((function(e){return l.a.createElement("div",{key:e,className:m()("auth-tab-item",{"auth-tab-item--active":g===e}),onClick:function(){return S(e)}},I("home.MODEL_AUTH.".concat(V[e])))}))),l.a.createElement("div",{className:"auth-tab-content"},"profession"===g&&l.a.createElement(P,{locale:p,authorities:a,resourceType:E,onChange:d}),"organization"===g&&l.a.createElement(Y,{locale:p,profile:_,value:f,authorities:a,resourceType:E,onChange:d}),"user"===g&&l.a.createElement(G,{locale:p,onSelect:function(e){a.some((function(t){return"person"===t.type&&t.id===e.id}))||d&&d(a.concat(e))}}))),l.a.createElement("p",{className:"contact"},I("home.MODEL_AUTH.CONTACT"),"\u6c88\u7eee\u73ca",l.a.createElement("a",{href:Object(h.g)("shenqishan@corp.netease.com")},l.a.createElement("img",{style:{width:20,height:20,verticalAlign:-5},alt:"",src:n(484)}))))};W.defaultProps={authorities:[],tabs:["profession","organization","user"],defaultTab:"profession"};var B=W,K=(n(102),n(49)),z=n(71),q=Object(z.b)((function(e){return{userInfo:e.user.info}}))((function(e){var t=e.value,n=e.title,a=e.children,r=e.allowPublic,i=void 0===r||r,o=e.tabs,E=e.defaultTab,d=e.disabled,_=e.onOk,p=e.isSettingPage,h=void 0!==p&&p,T=e.profile,N=e.userInfo;t=t||{};var g=Object(s.useState)(t.authorities),I=Object(c.a)(g,2),b=I[0],C=I[1],A=Object(s.useState)(Number(t.public||!1)),R=Object(c.a)(A,2),y=R[0],L=R[1],D=Object(s.useState)(!1),k=Object(c.a)(D,2),M=k[0],w=k[1],j=N.language_version||f,U=O(j),P=U(S?"home.MODEL_AUTH.MUTUAL_STAFF":"home.MODEL_AUTH.EVERYONE"),x=U("home.MODEL_AUTH.ONLY_YOURSELF");Object(s.useEffect)((function(){M&&(C(t.authorities),L(Number(t.public||!1)))}),[M]);return l.a.createElement(s.Fragment,null,a?l.a.cloneElement(l.a.Children.only(a),{onClick:function(){return!d&&w(!0)}}):l.a.createElement("div",{className:m()("app-auth-setting-display",{disabled:d}),onClick:function(){return!d&&w(!0)}},l.a.createElement("div",{className:"display-items"},t.public?l.a.createElement("span",null,P||U("home.MODEL_AUTH.MUTUAL_STAFF")):t.authorities&&t.authorities.length>0?t.authorities.map((function(e){return l.a.createElement("span",{key:e.type+e.id,className:"display-item"},e.selected_name||e.name)})):l.a.createElement("span",null,x||U("home.MODEL_AUTH.ONLY_YOURSELF"))),!d&&h?l.a.createElement(u.a,{className:"edit-hint",style:{color:"#afafaf",fontSize:18},type:"icon-bianjixiao2x"}):l.a.createElement("span",{className:"edit-hint"},U("member.MODIFY"))),l.a.createElement(K.a,{visible:M,title:n||U("home.MODEL_AUTH.PERMISSION_SETTINGS"),width:620,centered:!0,destroyOnClose:!0,okText:U("member.CONFIRM"),cancelText:U("member.CANCEL"),className:"km-modal modal-auth-setting",onCancel:function(){return w(!1)},onOk:function(){_&&_({public:Boolean(y),authorities:b}),w(!1)}},i&&l.a.createElement("div",{className:"switch-public"},l.a.createElement(v.a.Group,{value:y,onChange:function(e){var t=e.target.value;L(t)}},l.a.createElement(v.a,{value:1},P||U("home.MODEL_AUTH.MUTUAL_STAFF")),l.a.createElement(v.a,{value:0},U("home.MODEL_AUTH.DESIGNATED_O_T_U")))),!y&&l.a.createElement(B,{authorities:b,profile:T,value:t,onChange:C,tabs:o,locale:j,defaultTab:E})))}))},19:function(e,t,n){"use strict";n.d(t,"q",(function(){return c.d})),n.d(t,"k",(function(){return o})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return u})),n.d(t,"j",(function(){return E.e})),n.d(t,"b",(function(){return E.b})),n.d(t,"h",(function(){return E.d})),n.d(t,"e",(function(){return E.c})),n.d(t,"a",(function(){return f.a})),n.d(t,"l",(function(){return _.f})),n.d(t,"m",(function(){return _.g})),n.d(t,"n",(function(){return _.h})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return R})),n.d(t,"i",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return G}));n(98);var a=n(8),r=(n(6),n(57),n(0)),i=n.n(r),c=n(71),o=(n(146),function(e){var t=Object(c.c)();return Object(r.useMemo)((function(){return e(t)}),[])}),s=function(e){Object(r.useEffect)(e,[])},l=function(e){s((function(){e()}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(r.useEffect)((function(){e()}),t)},E=n(388),m=n(83),d=n(120),_=n(92),f=n(67),p=n(232),O=n.n(p),h=["onRouteChange","pageNotFound"],T=["path","page","routes"],N=["path","page"],g=["basepath","layout","pageNotFound","onRouteChange"];var S=function e(t){var n=t.onRouteChange,a=t.pageNotFound,c=Object(m.a)(t,h),o=Object(r.useMemo)((function(){var t=Object(d.a)(c),r=t.location;return n(r),e.__onRouteChange=n,e.__pageNotFound=a,r.query=O.a.parse(r.search),function(e){var t=e.push,n=e.replace,a=e.listen,r=function(e){return"object"===typeof e&&e.query&&(e.search=O.a.stringify(e.query)),e};return e.push=function(n,a){return t.call(e,r(n),a)},e.replace=function(t,a){return n.call(e,r(t),a)},e.listen=function(t){return a.call(e,(function(e){e.query||(e.query=O.a.parse(e.search)),S.__onRouteChange(e),t(e)}))},e}(t)}),[n,a,c]);return i.a.createElement(_.b,{history:o},c.children)},I=function e(t){var a=t.path,c=void 0===a?"":a,o=t.page,s=t.routes,l=Object(m.a)(t,T),u=Object(r.useMemo)((function(){return n(1048)("./".concat(o)).default}),[o]);return s?i.a.createElement(_.a,Object.assign({path:c},l),(function(t){return i.a.createElement(u,t,i.a.createElement(_.c,null,s.map((function(t){var n=t.path,a=t.page,r=Object(m.a)(t,N),s=Array.isArray(n)?n.map((function(e){return"".concat(c).concat(e)})):"".concat(c).concat(n);return i.a.createElement(e,Object.assign({key:o,path:s,page:a},r))})),i.a.createElement(e,{path:"*",page:S.__pageNotFound})))})):i.a.createElement(_.a,Object.assign({path:c,component:u},l))},b=function(e){var t=e.basepath,n=e.layout,a=e.pageNotFound,r=e.onRouteChange,c=Object(m.a)(e,g);return i.a.createElement(S,{onRouteChange:r,pageNotFound:a},i.a.createElement(I,Object.assign({path:t,page:n},c)))},C=n(72),v=n.n(C),A=(n(206),function(e){var t=e.url,n=e.id,a=e.internal,r=void 0===a||a;return new Promise((function(e,a){var i,c,o=document.createElement("link");o.rel="stylesheet",o.href=r?"/react_apps/team_space/"+t:t,n&&(o.id=n),"sheet"in o?(i="sheet",c="cssRules"):(i="styleSheet",c="rules");var s=setInterval((function(){o[i]&&o[i][c].length&&(clearInterval(s),clearTimeout(l),e())}),10),l=setTimeout((function(){clearInterval(s),clearTimeout(l),document.head.removeChild(o),a(new Error("time out"))}),5e3);document.head.appendChild(o)}))}),R=function(e){return new Promise((function(t,n){var a=document.createElement("script");a.async=!0,a.src=e,a.addEventListener("load",t),a.addEventListener("error",n),document.head.appendChild(a)}))},y=function(e,t){var n=t||{},a=n.getContainer,r=void 0===a?function(){return window}:a,i=n.callback,c=n.duration,o=void 0===c?300:c,s=r();if(0!==o){var l=s===window?window.pageYOffset:s.scrollTop,u=Date.now();v()((function t(){var n=Date.now()-u,a=function(e,t,n,a){var r=n-t;return(e/=a/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}(n>o?o:n,l,e,o);s===window?window.scrollTo(window.pageXOffset,a):s.scrollTop=a,n<o?v()(t):"function"===typeof i&&i()}))}else s===window?window.scrollTo(window.pageXOffset,e):s.scrollTop=e},L=n(10),D=n.n(L),k=n(22),M=n(277),w=n(52),j=n(53),U=n(276),P=n(63),x=n(64),F=n(422),H=n(410),Y=function(e){Object(P.a)(n,e);var t=Object(x.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).name="NxiosError",e.code=a,Error.captureStackTrace&&Error.captureStackTrace(Object(U.a)(e),n),e}return Object(j.a)(n,null,[{key:"create",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Object(M.a)(n,t)}}]),n}(Object(F.a)(Error)),G=function(e){var t=Object(H.a)(Object(a.a)({requestType:"form",getResponse:!1,auth:!0},e));return t.interceptors.request.use((function(e,t){var n=t.method;if(["post","put","patch","delete"].includes(n.toLowerCase())){var a=E.e.get("csrfToken"),r=E.e.get("csrfExp");a&&r&&(t.headers.csrfToken=a,t.headers.csrfExp=r)}return{url:e,options:t}})),t.interceptors.response.use(function(){var e=Object(k.a)(D.a.mark((function e(t){var n,a,r,i,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.clone().json();case 2:if(n=e.sent,a=n.csrf_token,r=n.csrf_exp,i=n.status,c=n.message,n.crsf_exp&&n.crsf_token&&(E.e.set("csrfToken",n.crsf_token),E.e.set("csrfExp",n.crsf_exp)),a&&r&&(E.e.set("csrfToken",a),E.e.set("csrfExp",r)),1!==i){e.next=8;break}return e.abrupt("return",t);case 8:throw 4001===i&&Object(E.b)(window.location.href),Y.create(i,c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.use(function(){var e=Object(k.a)(D.a.mark((function e(t,n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:"undefined"!==typeof t.res.data&&(t.res=t.res.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.use(function(){var e=Object(k.a)(D.a.mark((function e(t,n){var a,r,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.req,r=a.url,"download"!==a.options.method.toLowerCase()){e.next=14;break}return(i=document.createElement("a")).setAttribute("href",r),i.setAttribute("download",""),i.setAttribute("rel","noreferrer"),i.setAttribute("target","_blank"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),e.abrupt("return");case 14:return e.abrupt("return",n());case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.download=function(e,n){return t(e,Object(a.a)(Object(a.a)({},n),{},{method:"download"}))},t};G()},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return E}));var a,r=n(33),i="zh-CN",c="en",o=~[i,c].indexOf(navigator.language)?navigator.language:i,s=(a={},Object(r.a)(a,c,{en:"en",title:{TEAM_SPACE:"Team space",KM:"NetEase KM",OUTLINE:"Outline",SET:"Settings",NEW:"New",WIKI:"Wiki Site",MYEDIT:"My Edit Contributions",FEATURED:"Featured Content",RECYCLE:"Recycle Bin"},wiki:{NO_AUTH_ACCESS:"You do not have access rights, please contact the site administrator if you have any questions",NO_AUTH_VIEW:"You do not have permission to view. If you have any questions, please contact the site administrator",NO_AUTH_RES:"You do not have permission to view, please contact the author if you have any questions",SITE_NOT_EXIST:"Site does not exist"},home:{CREATED:"Created",RESOURCES:"Resources",VISITORS:"Visitors",SETTINGS:"Settings",OUTLINE_VIEW:"Outline View",NO_RECOMMEND:"Nothing to recommend yet~",RECOMMEND_TEXT:"Featured Content",RECENTLY_TEXT:"Recently Updated",VIEW_MORE:"More",NO_RECENTLY:"Nothing here yet. Let\u2019s write something!",NEW_WIKI_ENTRY:"New Wiki Entry",NO_ADMINISTRATOR:"No administrator",SITE_CONTRIBUTORS:"Site Contributors",MY_EDIT_CONTRIBUTIONS:"My Edit Contributions",ADMINISTRATORS:"Administrators",RECENTLY_ACTIVE_USERS:"Recently Active Users",NO_USERS:"None",NONE:"None",MODEL_AUTH:{CHOOSE_TEAM_SPACE:"Choose TeamSpace",CURRENT_TEAM_SPACE:"(Current TeamSpace)",MUTUAL_STAFF:"Interactive entertainment employee",FULL_TIME_EMPLOYEES:"Full-time employees",MUTUAL_INTERN:"Interactive entertainment intern",INTERN:"Intern",MUTUAL_ENTERTAINMENT:"Interactive entertainment contractor",OUTSOURCED_EMPLOYEE:"Contractor",NON_INTERACTIVE:"Group (non-mutual entertainment) staff",DISPATCH_STAFF:"Expatriate employee",OPERATIONS_CENTER_STAFF:"Operations center staff (OG)",OPEN_TO_ALL:"Open to all",DESIGNATED_OCCUPATION:"Specific occupations",NOT_SET:"Not set",CUSTOM_VISIBILITY_GROUP:"Customize view permission groups",SET_ROLES_OCC:"Set role and occupation",ROLE_OCCUPATION:"Job roles",TEAM_SPACE:"Team space",SPECIFIC_USER:"Specific user",SELECT_USER:"Select user",SEARCH_USER:"Search all usernames/email prefixes, press return to search",NO_RELATED_USERS:"No relavant users were found",PERMISSION_SETTINGS:"Permission settings",EVERYONE:"Everyone",ONLY_YOURSELF:"Myself",DESIGNATED_O_T_U:"Occupation / Teamspace / User",ADJUST_RESOURCES_AUTH:"Sychronously adjust permissions to the resources under current category?",NOT_ADJUSTED:"Don't adjust",ALL_ADJUSTMENTS:"Adjust all (including all categories and resource permissions under current category) ",THIS_OPERATION_LARGE:"This operation has wide-ranging effects, please be cautious",PARTIAL_ADJUSTMENT:"Partial adjustment",LOCK_ONLY_PERMISSIONS:"Lock only permissions",MODIFY_AND_LOCK:"Modify and lock permissions",MODIFY_PERMISSIONS:"Modify permissions",NO_MADE_CHOICE:"You have not made a choice yet",PUBLIC:"Public",CONTACT:"If you have any question when editing, please feel free to contact ",SETTING_PERMISSIONS:function(e){return"Setting ".concat("\u53d1\u5e03"===e.authType?"Publish":"View"," Permissions")},SYNC_CONFIRMATION:"Sync permission confirmation",SYNC_TEXT:"Set permission groups. Newly added permission groups are shown in blue.",SYNC_TIPS:function(e){return"You are changing permission groups for Wiki site ".concat("\u8bbf\u95ee"===e.name?"view":"publish",". Do you want to sync changes across site resources?")},SYNC_RADIO_ONE:"Do not sync changes",SYNC_RADIO_TWO:function(e){return"Add new permission groups to all ".concat("\u7ad9\u70b9"===e.name?"site":"category"," resources")},SYNC_RADIO_THREE:function(e){return"Add new permission groups to certain ".concat("\u7ad9\u70b9"===e.name?"site":"category"," resources")},SYNC_RADIO_FOUR:function(e){return"Apply current permission groups to all ".concat("\u7ad9\u70b9"===e.name?"site":"category"," resources")},SYNC_RADIO_FIVE:function(e){return"Apply current permission groups to certain ".concat("\u7ad9\u70b9"===e.name?"site":"category"," resources")},SUCCESS_EDIT:"Edit permissions set successfully",SUCCESS_VIEW:"View permissions set successfully"},MENU:{LOAD_MORE:"Load More",REMAINING:"Remaining",NEW_ENTRY:"New Wiki Entry",NEW_CATEGORY:"New Category",NEW_SUBENTRY:"New Wiki Subentry",NEW_SUBCATEGORY:"New Subcategory",STARRED:"Starred",RENAME:"Rename",DELETE:"Delete",RECYCLE_BIN:"Recycle Bin"},OUTLINE:{SITE_HOME:"Site Home",SHARE:"Share",SHARE_TOAST:"Resource link is copied and ready for sharing!"},GLOBAL:{SEARCH_KEYWORD:"search for the keyword"},RECYCLE:{SEARCH:"Search",SEARCH_TITLE:"Search title...",CREATOR:"Creator",DELETOR:"Deleted by",RECOVERED_PATH:"Entry has been restored to",ENTRY:"Entry",RESTORED_TO:"has been restored to",ORIGIN_NOT:"Original parent entry no longer exists. Please select a restore location.",SELECT_LOCATION:"Please select a restore location.",DELETE_TIME:"Deleted on",TITLE:"Title",ACTIONS:"Actions",RESTORE:"Restore",RECYCLE_BIN:"Recycle Bin",RESTORE_SUCCESSFUL:"Restore Successful",CHOOSE_LOCATION:"Choose Restore Location",CANCEL:"Cancel",VIEW:"View",CONFIRM:"Confirm"},SEARCH:{SEARCH_RESULTS:function(e){return"Found ".concat(e.num," results related to \u201c").concat(e.keyword,"\u201d")},ONLY_TITLE:"Search title only",CLEAR_HISTORY:"Clear History",AUTHOR:"Author",BY_RELEVANCE:"By relevance",LAST_UPDATED_DESCENDING:"Last updated, descending",LAST_UPDATED_ASCENDING:"Last updated, ascending",DATE_CREATED_DESCENDING:"Date created, descending",DATE_CREATED_ASCENDING:"Date created, ascending"}},member:{MANAGE_GROUPS:"Manage groups",CHANGE_RECORD:"Change record",DEPARTMENT_INFO:"Department info",CHANGE:"change",CHANGE_REASON:"Change reason",CHANGE_TIME:"Change time",OPERATOR:"Operator",MEMBER_CHANGE_RECORD:"Member change record",ADD_MEMBER:"Add member",SEARCH_NAME_EMAIL:"Search name/email",MEMBER:"Member",DEPARTMENT:"Department",ROLE:"Role",ALL:"All",TEAM_MEMBER:"Team member",CONTENT_MANAGER:"Content manager",OFFICIAL_PUBLISHER:"Official Publisher",TEAM_MANAGER:"Team manager",GROUP:"Group",ACTIONS:"Actions",MODIFY:"Modify",QUIT:"Quit",MORE:"More",ADD_TO_RESTRICTION_LIST:"Add to restriction list",REMOVE:"Remove",GROUP_AND_GROUP_TYPES:"Group and group types",EXPAND_ALL_GROUPS:"Expand all groups",ADD_NEW_GROUP:"Add new group",EDIT:"Edit",DELETE:"Delete",CREATE_NEW_GROUP_TYPE:"Create new group type",INVITE_BY_LINK:"Invite by link",INVITE_MEMBERS_BY_LINK:"Invite members by link",SEND_A_LINK_INVITATION:"Send a link invitation",COPY_LINK:"Copy Link",DIRECT_INVITATION:"Direct invitation",INVITE_MEMBERS_DIRECTLY:"Invite members directly",CANCEL:"Cancel",CONFIRM:"Confirm",BATCH_IMPORT:"Batch Import",BATCH_IMPORT_MENBER:"Batch import menber",UPLOAD_FILE:"Upload file",SEPARATE:"Separate multiple groups or roles with spaces",HEADER_CONTAIN:"The header must contain three items: name, corp email, and user role.",IMPORT:"Import",CLICK_TO_COPY:"Click to copy invitation link and send it to the relevant users. Link is valid for 48 hours after created. Supports adding up to 20 people to the team per link, for more than 20 people please copy a new link.",SURE_TO_REMOVE:"Are you sure to remove this member? Upon remove they will lose access to this TeamSpace.",ADD_TO_RESTRICTED:"Are you sure  to add this member to the restricted list? Upon add to restricted list, they will lose access to this TeamSpace.",SUCCESSFUL_OPERATION:"Operation successful",SUCCESSFULLY_REMOVED:"Removed",SUCCESSFULLY_MODIFIED:"Modified",ADD:"Add",RESULT_OF_EXCEPTION:"Exception cause",NAME:"Name",EMAIL:"Email",CLOSE:"Close",IMPORT_EXCEPTION:"Import exception",PLEASE_UPLOAD:"Please upload a csv format file",UNCLASSIFIED:"Unsorted",SUCCESSFULLY_IMPORTED:"Imported",OK:"OK",CLICK_THE_CHECKBOX:"Use the checkbox to manage multiple members (remove, add to restricted lists, etc.)",TIPS:"Tips",NO_MEMBERS:"No members yet",CLICK_ON:"Click on ''Invite members'' in the top right corner to add",DID_NOT_FIND_THIS_MEMBER:"Did not find this member",USER_EHR__CANNOT__REMOVED:"Users synced from EHR cannot be removed and can only be added to the restricted list.",USERS_JOIN_THE_RESTRICTED:"Users added to the restricted list cannot access team space",TIME_OF_JOININGL:"Joined",RESTRICTED_LIST:"The restricted list",RESTRICTED_LIST_NUM:function(e){return"".concat(0===e.num?"no member.":1===e.num?"one member.":"# members.")},MEMBERS_IN_TOTAL:function(e){return"Total member(s) ".concat(e.num)},REMOVE_MEMBER:"Remove member",MEMBER_SELECTED:function(e){return"selected ".concat(0===e.num?"no member.":1===e.num?"one member.":"# members.")},RESTRICTED_LIST_SHEET:"Restricted list",SURE_ADD_SELECTED__RESTRICTED:"Are you sure add  the selected member to the restricted list?",USERS_JOIN_RESTRICTED:"Users who join the restricted list will continue to appear in the list, and the restrictions can be removed from the list.",TEAM_ACCESSIBLE_AFTER_REMOVAL:"TeamSpace will be inaccessible after removal",CONFIRM_REMOVE_MEMBERS:"Confirm removal of selected members?",EXIT_SUCCESSFULLY:"Exit successfully",INVITATION_URL_COPIED:"Invite link has been copied",PLEASE_SELECT_A_ROLE:"Please select a role",ALREADY_TEAMSPACE:"Already added",ADDED_SUCCESSFULLY:"Added",ADDED_FAILED:"Add failed",IN_THE_RESTRICTED_LIST:"Blacklisted",INVITE_SETTINGS:"Invite member-member settings",ROLE_SETTING:"Role setting",GROUPING_SETTINGS:"Grouping settings",NOTE:"Note: The settings above are batch operations. If you want to set them individually, please go to the member list.",TIPS_SHORT:"Tips",EMPTY:"Clear",SURE_TO_LEAVE:"Are you sure you want to leave this TeamSpace?",REMOVE_RESTRICTION:"Remove from restricted list",ADD_FAILED:"Add failed, you can choose to submit again",SUB_AGAIN:"Submit again",ALL_ADD_SUCCESS:"All added successfully",ADD_MEMBERS:function(e){return"".concat(0===e.num?"no member.":1===e.num?"one member.":"# members."," have been successfully added. The other members have the following status:")},DID_NOT_FIND_THIS_RECORD:"No change records found"},album:{ALBUM_TITLE_LIMIT:"Album title cannot be longer than 32 characters",EDIT_ALBUM_INFORMATION:"Edit album information",ALBUM_NAME:"Album name",IMAGE_TITLE_LIMIT:"Image title cannot be greater than 100 characters",PICTURE_LIMIT:"The picture description cannot be greater than 250 characters",EDIT_PIC_INFORMATION:"Edit picture information",CONFIRM_ADJUSTMENT:"Confirm change",OWN_ALBUM:"Parent album",PICTURE_TITLE:"Image title",IMAGE_DESCRIPTION:"Image description",EDIT_PICTURE:"Edit image",IMAGE_INCORRECT:"Image format is incorrect",IMAGE_SIZE_LIMIT:"Image size exceeded limit",SELECT_IMAGE:"Select image",REUPLOAD:"Re-upload",PREVIEW:"Preview",ALBUM_NO_EMPTY:"Album cannot be empty",UPLOAD_SUCCESS:"Upload success",UPLOAD_NUM_LIMIT:"Upload no more than 8 images at a time",UPLOAD_IMAGE:"Upload image",UPLOAD:"Upload",NOT_BEEN_SAVED:"The content has not been saved. Give up current operation?",CLICK_DRAG_UPLOAD:"Click or drag and drop files here to upload",TYPE_SIZE_LIMIT:"supports jpg, png, gif and other image formats, each size does not exceed 10M",PUBLISH:"Publish",MAX_SIZE:"Please upload pictures within 2M",MAX_SIZE_TIPS:"Max size 2MB, supports png, jpg, jpeg or gif.",SITE_LOGO:"Site Logo",model:{SUCCESSFUL_CREATION:"Successful creation",NEW_ALBUM:"New album",ALBUM_NAME:"Album name",ENTER_NAME:"Please enter an album name"}},create:{DEFAULT_INFO:{CREATE_WIKI:"New Wiki Site",TITLE:"Title",ENTER_TITLE:function(e){return"Site title in ".concat("\u4e2d\u6587"===e.language?"Chinese":"English")},LAST_ONE_CTITLE:"Fill-in site title for at least Chinese",PATH:"Path",PATH_TIP_ONE:" Do not use empty or already existing paths.",PATH_TIP_TWO:"Path must be 2-15 characters long consisting only lowercase letters, numbers, dash and underscore.",PATH_TIPS:"Path must be 2-15 characters long consisting only lowercase letters, numbers, dash and underscore. Do not use empty or already existing paths.",PATH_EXISTS:"This path already exists.",INTRO:"Intro",ENTER_INTRO:function(e){return"Site introduction in ".concat("\u4e2d\u6587"===e.language?"Chinese":"English")},TAGS:"Tags",ADD_TAG:"add tag",LABEL_WARN:"The label is not supported",LABEL_EMPTY_WARN:"Cannot create empty label",CREATE_TAG:"Add",TAG_FONT_NUM:"At most 20 characters",UPLOAD:"Upload",UPLOAD_MAX:function(e){return"Max size ".concat(e.num,"MB, supports png, jpg, jpeg or gif.")},VIEW_PERMISSION:"Viewing Permission",VIEW_MODIFIED_SUCCESS:"Succeeded in modifying access permissions",SELECTED:"Select Users",AUTH_VIEW_EXPLANTATION:"Determines whether users can view the Wiki site homepage and table of contents. Selected user groups will also be given default viewing permissions to Wiki site tier-1 nodes.",AUTH_VIEW_TIPS:"Removing a user\u2019s viewing permissions will also remove their publishing permissions.",PUBLISH_PERMISSION:"Publishing Permission",PUBLISH_MODIFIED_SUCCESS:"Successfully modify publishing permissions",AUTH_PUBLISH_EXPLANTATION:"Determines whether users can create new categories or publish resources. Selected user groups will also be given default editing permissions to Wiki site tier-1 nodes.",AUTH_PUBLISH_TIPS:"Giving a user publishing permission will also give them viewing permission.",MANAGER:"Administrators",SITE_RESOURCE_AUTH_CONFIG:"Resource permission settings",SITE_RESOURCE_AUTH_CONFIG_TIP:"(excluding referenced resources)",NO_MOMENT:"Not allowed to share to POPO Horizon",NO_SITE_SHARE:"Not allowed to share within KM",NO_COMMENT:"Not allowed comments",NO_COPY:"Not allowed copy and paste",NO_PDF:"Not allowed export PDF",SAVE_AUTH_TITLE:"Save Confirmation",SAVE_AUTH_CONTENT:"The changes will be applied immediately to all internal resources on the site. Please confirm to save.",SAVE_AUTH_CONFIRM:"Save",MANAGER_MODIFIED_SUCCESS:"The administrator modified successfully",VALIDATE_ERROR:"Site information is incorrect",SAVE:"Save",NEW:"New",CANCEL:"Cancel",SAME_TAG:"Same label",INVALID_SYMBOL:"Invalid symbol!",INVALID_TIPS:"Only English, numbers, underscores, etc."},LOGO_MODAL:{EDIT_LOGO:"Edit Logo",PREVIEW:"Preview",RE_UPLOAD:"Re-Upload"},MANAGER_MODAL:{CHANGE_MANAGER:"Change Site Administrators",CLEAR_ALL:"Clear all"}},setting:{DEFAULT_INFO:{BASIC_INFO:"Wiki Site Basic Settings",AUTH_INFO:"Wiki Site Permissions Settings",APPLY_DELETE:"Delete Wiki Site",DELETE_TIPS:"You can request to delete this wiki site",REQUEST_DELETE:"Request Delete",REQUEST_DELETE_ING:"Deleting",SAVE_SUCCESS:"Successfully modified"},SYNC_MODAL:{CONFIRM_PERMISSION:"Confirm Permissions Sync",PERMISSION_INPUT_TIPS:"Set permission groups. Newly added permission groups are shown in red.",ASK_SYNC:function(e){return"You are changing permission groups for Wiki site ".concat(e.name,". Do you want to sync changes across site resources?")},RADIO_ONE:"Do not sync changes",RADIO_TWO:"Add new permission groups to all site resources",RADIO_THREE:"Add new permission groups to certain site resources",RADIO_FOUR:"Apply current permission groups to all site resources",RADIO_FIVE:"Apply current permission groups to certain site resources"},DELETE_MODAL:{DELETE_CONFIRM:"Delete Request Confirmation",DELETE_CONFIRM_TIPS:"Request to delete this site?",DELETE_SUCCESS:"Deleted",DELETE_APPLY:"Application submitted"}},history:{VERSION_HISTORY:"Version History",ADDED_CONTENT:"Added Content",DELETED_CONTENT:"Deleted Content",CHANGE_FORMATTING:"Change Formatting",EXIT_COMPARISON:"Comparing Versions",RESTORE:"Restore",RESTORE_SUCCESSFUL:"Restore Successful",COMPARING_VERSIONS:"Comparing Versions...",CURRENT_VERSION:"Current Version",EDIT_REASON:"Reason for Edit",NONE:"None",COMPARE_VERSIONS:"Compare Versions",EDITION:function(e){return"".concat(e.num," Edition")},RESTORE_CONFIRMATION:"Restore Confirmation",RESTORE_TEXT:"Restore this as the latest version?",UPDATED_BY:"Updated by"},category:{NAME:"Name",ENTER_PROFILE:"Please enter a profile",VIEW_PERMISSION:"Viewing Permission",EDIT_PERMISSION:"Publishing Permission",DONE:"Done",EDIT:"Edit",MOVE_SUCCESS:"Move successfully",NEW_SUBENTRY:"New subentry",NEW_SUBCATEGORY:"New subcategory",NEW_CATEGORY_SUCCESS:"New category successfully",STARRED:"Starred",UNSTARRED:"Unstared",RENAME:"Rename",DELETE:"Delete",UPDATE_ON:"Updated on",CONTAINS:function(e){return"Contains ".concat(e.n," subcategories, ").concat(e.num," resources")},ADD_SUBENTRY:"Add subentry",ADD_SUBCATEGORY:"Add subcategory",ADD:"Add",NO_RESOURCES:"No resources in this category",MOVING:"Moving, please wait",MOVE_ERROR:"Something went wrong, please refresh and try again",INPUT_CATE_NAME:"Please enter a category name",CATE_NAME_LENGTH:"Category name length limit 30",UNSAME_PATH:function(e){var t="res"===e.type?"resource":"cate"===e.type?"category":"link";return"The ".concat(t," you moved have different permissions from this node. Do you want to adjust ").concat(t," permissions to match the default for this node?")},YES:"Yes",NO:"No",PERMISSIONS_SYNC:"Permissions are synchronized",PERMISSIONS_NOSYNC:"Permission synchronization cancelled",DELETE_SUCCESS:"Deleted",DELETE_MOVE_SUCCESS:"Deleted and transferred successfully",DELETE_CONFIRMATION:"Delete Confirmation",DELETE_DIRECTLY:"Delete directly",TRANSFER_RESOURCES:"Transfer resources",TRABSFER_TIPS:"Are you sure you want to delete this category? Beware you are also deleting all resources under this category. Resources can be transferred and then deleted",MOVE_TO:"Move the resources under the category to"},mine_list:{EMPTY:"My edit content is empty",LAST_UPDATED_DESCENDING:"Last updated, descending",DATE_CREATED_DESCENDING:"Date created, descending"},top_list:{EMPTY:"Nothing to recommend yet~",USERS_CONTRIBUTED:function(e){return"".concat(e.name," Users Contributed")},RECOMMEND_TEXT:"Featured Content"},delete:{CONFIRM:function(e){return"Delete this ".concat("cate"===e?" category":"res"===e?"resource":"referenced resource","?")},CLOSE:"Close",SELECE_ACTION:function(e){return"".concat("cate"===e?"Category still contains resources. Please select an action:":"Resource still contains subresources. Please select an action:")},SELECE_ACTION_OTHER:function(e){return"".concat("cate"===e?"Category still contains resources. Please move resources elsewhere before deleting.":"Resource still contains subresources. Please move sub-resources elsewhere before deleting.")},ALL_DELETE:"Delete all",MIGRATE:"Please select a transfer location.",AUDIO_MIGRATE:function(e){return"Delete ".concat("cate"===e?" category":"resource"," after subresources transfer. ")},toast:{MIG:function(e){return"The subresources have been transferred and ".concat("cate"===e?" category":"the resource"," has been deleted.")},ALL:function(e){return"The ".concat("cate"===e?" category":"resource"," and its subresources have been deleted.")},SUCCESS:function(e){return"".concat("cate"===e?" Category":"res"===e?"Resource":"Linked resource"," deleted.")},SELECE_WARN:"A target transfer location is yet to be selected."},btn:{PROCEES:"Proceed",CANCEL:"Cancel",DELETE:"Delete",CONFIRM:"Delete Confirmation",MIGRATE_DELETE:function(e){return"Transfer and delete ".concat("cate"===e?" category":"resources"," ")}}}}),Object(r.a)(a,i,{en:"\u82f1\u8bed",title:{TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4",KM:"\u7f51\u6613KM",OUTLINE:"\u5927\u7eb2\u89c6\u56fe",SET:"\u8bbe\u7f6e",NEW:"\u65b0\u5efa",WIKI:"Wiki \u7ad9\u70b9",MYEDIT:"\u6211\u7684\u7f16\u8f91",FEATURED:"\u63a8\u8350\u5185\u5bb9",RECYCLE:"\u56de\u6536\u7ad9"},wiki:{NO_AUTH_ACCESS:"\u4f60\u6ca1\u6709\u8bbf\u95ee\u6743\u9650 \u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u7ad9\u70b9\u7ba1\u7406\u5458",NO_AUTH_VIEW:"\u4f60\u6ca1\u6709\u67e5\u770b\u6743\u9650 \u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u7ad9\u70b9\u7ba1\u7406\u5458",NO_AUTH_RES:"\u4f60\u6ca1\u6709\u67e5\u770b\u6743\u9650 \u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u4f5c\u8005",SITE_NOT_EXIST:"\u7ad9\u70b9\u4e0d\u5b58\u5728"},home:{CREATED:"\u521b\u5efa\u4e8e",RESOURCES:"\u8d44\u6e90\u6570",VISITORS:"\u6d4f\u89c8\u4eba\u6570",SETTINGS:"\u8bbe\u7f6e",OUTLINE_VIEW:"\u5927\u7eb2\u89c6\u56fe",NO_RECOMMEND:"\u8fd8\u6ca1\u6709\u63a8\u8350\u5185\u5bb9",RECOMMEND_TEXT:"\u63a8\u8350\u5185\u5bb9",RECENTLY_TEXT:"\u6700\u8fd1\u66f4\u65b0",VIEW_MORE:"\u67e5\u770b\u66f4\u591a",NO_RECENTLY:"\u8fd9\u91cc\u7a7a\u8361\u8361\u7684\u8fd8\u6ca1\u6709\u5185\u5bb9\uff0c\u5feb\u6765\u4e00\u8d77\u5efa\u8bbe\u5427~",NEW_WIKI_ENTRY:"\u65b0\u5efa\u8bcd\u6761",NO_ADMINISTRATOR:"\u6682\u65e0\u7ba1\u7406\u5458",SITE_CONTRIBUTORS:"\u53c2\u4e0e\u5efa\u8bbe\u4eba\u6570",MY_EDIT_CONTRIBUTIONS:"\u6211\u7684\u7f16\u8f91",ADMINISTRATORS:"\u7ba1\u7406\u5458",RECENTLY_ACTIVE_USERS:"\u6700\u8fd1\u6d3b\u8dc3",NONE:"\u65e0",NO_USERS:"\u65e0\u7ba1\u7406\u5458",MODEL_AUTH:{CHOOSE_TEAM_SPACE:"\u9009\u62e9\u56e2\u961f\u7a7a\u95f4",CURRENT_TEAM_SPACE:"\uff08\u5f53\u524d\u56e2\u961f\u7a7a\u95f4\uff09",MUTUAL_STAFF:"\u4e92\u5a31\u6b63\u5f0f\u5458\u5de5",FULL_TIME_EMPLOYEES:"\u6b63\u5f0f\u5458\u5de5",MUTUAL_INTERN:"\u4e92\u5a31\u5b9e\u4e60\u751f",INTERN:"\u5b9e\u4e60\u5458\u5de5",MUTUAL_ENTERTAINMENT:"\u4e92\u5a31\u5916\u5305(\u5916\u5305+\u5916\u6d3e)",OUTSOURCED_EMPLOYEE:"\u5916\u5305\u5458\u5de5",NON_INTERACTIVE:"\u96c6\u56e2(\u975e\u4e92\u5a31)\u5458\u5de5",DISPATCH_STAFF:"\u6d3e\u9063\u5458\u5de5",OPERATIONS_CENTER_STAFF:"\u8fd0\u8425\u4e2d\u5fc3\u5458\u5de5(OG)",OPEN_TO_ALL:"\u5b8c\u5168\u516c\u5f00",DESIGNATED_OCCUPATION:"\u6307\u5b9a\u804c\u4e1a",NOT_SET:"\u672a\u8bbe\u7f6e",CUSTOM_VISIBILITY_GROUP:"\u81ea\u5b9a\u4e49\u53ef\u89c1\u7fa4\u4f53",SET_ROLES_OCC:"\u8bbe\u7f6e\u89d2\u8272\u4e0e\u804c\u4e1a",ROLE_OCCUPATION:"\u89d2\u8272\u804c\u4e1a",TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4",SPECIFIC_USER:"\u5177\u4f53\u7528\u6237",SELECT_USER:"\u9009\u62e9\u7528\u6237",SEARCH_USER:"\u641c\u7d22\u6240\u6709\u7528\u6237\u540d\u79f0/\u90ae\u7bb1\u524d\u7f00\uff0c\u56de\u8f66\u641c\u7d22",NO_RELATED_USERS:"\u672a\u641c\u7d22\u5230\u76f8\u5173\u7528\u6237",PERMISSION_SETTINGS:"\u6743\u9650\u8bbe\u7f6e",EVERYONE:"\u6240\u6709\u4eba",ONLY_YOURSELF:"\u4ec5\u81ea\u5df1",DESIGNATED_O_T_U:"\u6307\u5b9a\u804c\u4e1a/\u56e2\u961f\u7a7a\u95f4/\u7528\u6237",ADJUST_RESOURCES_AUTH:"\u662f\u5426\u540c\u6b65\u8c03\u6574\u5f53\u524d\u5206\u7c7b\u4e0b\u7684\u8d44\u6e90\u7684\u6743\u9650",NOT_ADJUSTED:"\u4e0d\u8c03\u6574",ALL_ADJUSTMENTS:"\u5168\u90e8\u8c03\u6574(\u5305\u542b\u5f53\u524d\u5206\u7c7b\u4e0b\u5168\u90e8\u5206\u7c7b\u53ca\u8d44\u6e90\u6743\u9650)",THIS_OPERATION_LARGE:"\u6b64\u64cd\u4f5c\u5f71\u54cd\u8303\u56f4\u8f83\u5927\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",PARTIAL_ADJUSTMENT:"\u90e8\u5206\u8c03\u6574",LOCK_ONLY_PERMISSIONS:"\u4ec5\u9501\u5b9a\u6743\u9650",MODIFY_AND_LOCK:"\u4fee\u6539\u5e76\u9501\u5b9a\u6743\u9650",MODIFY_PERMISSIONS:"\u4fee\u6539\u6743\u9650",NO_MADE_CHOICE:"\u60a8\u8fd8\u672a\u505a\u51fa\u9009\u62e9",PUBLIC:"\u516c\u5f00",CONTACT:"\u7f16\u8f91\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u968f\u65f6\u8054\u7cfb",SETTING_PERMISSIONS:function(e){return"\u8bbe\u7f6e".concat(e.authType,"\u6743\u9650")},SYNC_CONFIRMATION:"\u540c\u6b65\u6743\u9650\u786e\u8ba4",SYNC_TEXT:"\u5f53\u524d\u6743\u9650\u5305\uff0c\u84dd\u8272\u4ee3\u8868\u6b64\u6b21\u65b0\u589e\u6743\u9650\u7ec4",SYNC_TIPS:function(e){return"\u4f60\u5c06\u4fee\u6539\u5728\u7ad9\u70b9".concat(e.name,"\u6743\u9650\uff0c\u662f\u5426\u9700\u8981\u540c\u6b65\u4fee\u6539\u7ad9\u70b9\u4e0b\u8d44\u6e90\u7684\u6743\u9650\uff1f")},SYNC_RADIO_ONE:"\u4e0d\u9700\u8981\u540c\u6b65\u4fee\u6539",SYNC_RADIO_TWO:function(e){return"\u4e3a".concat(e.name,"\u4e0b\u6240\u6709\u8d44\u6e90\u6dfb\u52a0\u65b0\u589e\u6743\u9650\u7ec4")},SYNC_RADIO_THREE:function(e){return"\u4e3a".concat(e.name,"\u4e0b\u90e8\u5206\u8d44\u6e90\u6dfb\u52a0\u65b0\u589e\u6743\u9650\u7ec4")},SYNC_RADIO_FOUR:function(e){return"\u5c06\u5f53\u524d\u6743\u9650\u5305\u5e94\u7528\u5230".concat(e.name,"\u4e0b\u6240\u6709\u8d44\u6e90")},SYNC_RADIO_FIVE:function(e){return"\u5c06\u5f53\u524d\u6743\u9650\u5305\u5e94\u7528\u5230".concat(e.name,"\u4e0b\u90e8\u5206\u8d44\u6e90")},SUCCESS_EDIT:"\u7f16\u8f91\u6743\u9650\u8bbe\u7f6e\u6210\u529f",SUCCESS_VIEW:"\u67e5\u770b\u6743\u9650\u8bbe\u7f6e\u6210\u529f"},MENU:{LOAD_MORE:"\u52a0\u8f7d\u66f4\u591a",REMAINING:"\u5269\u4f59",NEW_ENTRY:"\u65b0\u5efa\u8bcd\u6761",NEW_CATEGORY:"\u65b0\u5efa\u5206\u7c7b",NEW_SUBENTRY:"\u65b0\u5efa\u5b50\u8bcd\u6761",NEW_SUBCATEGORY:"\u65b0\u5efa\u5b50\u5206\u7c7b",STARRED:"\u6807\u661f",RENAME:"\u91cd\u547d\u540d",DELETE:"\u5220\u9664",RECYCLE_BIN:"\u56de\u6536\u7ad9"},OUTLINE:{SITE_HOME:"\u7ad9\u70b9\u9996\u9875",SHARE:"\u5206\u4eab",SHARE_TOAST:"\u5df2\u590d\u5236\u8bbf\u95ee\u5730\u5740\uff0c\u5feb\u53bb\u5206\u4eab\u7ed9\u670b\u53cb\u5427\uff01"},GLOBAL:{SEARCH_KEYWORD:"\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22"},RECYCLE:{SEARCH:"\u641c\u7d22",SEARCH_TITLE:"\u641c\u7d22\u6807\u9898\u5185\u5bb9",CREATOR:"\u521b\u5efa\u4eba",DELETOR:"\u64cd\u4f5c\u8005",RECOVERED_PATH:"\u8bcd\u6761\u5df2\u6062\u590d\u81f3",ENTRY:"\u8bcd\u6761",RESTORED_TO:"\u5df2\u6062\u590d\u81f3",ORIGIN_NOT:"\u539f\u7236\u7ea7\u8bcd\u6761\u4e0d\u5b58\u5728\uff0c\u8bf7\u9009\u62e9\u6062\u590d\u4f4d\u7f6e",SELECT_LOCATION:"\u8bf7\u9009\u62e9\u6062\u590d\u4f4d\u7f6e",DELETE_TIME:"\u5220\u9664\u65f6\u95f4",TITLE:"\u6807\u9898",ACTIONS:"\u64cd\u4f5c",RESTORE:"\u6062\u590d",RECYCLE_BIN:"\u56de\u6536\u7ad9",RESTORE_SUCCESSFUL:"\u6062\u590d\u6210\u529f",CHOOSE_LOCATION:"\u9009\u62e9\u6062\u590d\u4f4d\u7f6e",CANCEL:"\u53d6\u6d88",VIEW:"\u67e5\u770b",CONFIRM:"\u786e\u8ba4"},SEARCH:{SEARCH_RESULTS:function(e){return"\u5171 ".concat(e.num," \u4e2a\u201c").concat(e.keyword,"\u201d\u76f8\u5173\u7ed3\u679c")},ONLY_TITLE:"\u4ec5\u641c\u7d22\u6807\u9898",CLEAR_HISTORY:"\u6e05\u7a7a\u641c\u7d22\u5386\u53f2",AUTHOR:"\u4f5c\u8005",BY_RELEVANCE:"\u76f8\u5173\u5ea6\u964d\u5e8f",LAST_UPDATED_DESCENDING:"\u66f4\u65b0\u65f6\u95f4\u5012\u5e8f",LAST_UPDATED_ASCENDING:"\u66f4\u65b0\u65f6\u95f4\u6b63\u5e8f",DATE_CREATED_DESCENDING:"\u521b\u5efa\u65f6\u95f4\u5012\u5e8f",DATE_CREATED_ASCENDING:"\u521b\u5efa\u65f6\u95f4\u6b63\u5e8f"}},member:{MANAGE_GROUPS:"\u7ba1\u7406\u5206\u7ec4",CHANGE_RECORD:"\u53d8\u52a8\u8bb0\u5f55",DEPARTMENT_INFO:"\u90e8\u95e8\u4fe1\u606f",CHANGE:"\u53d8\u52a8",CHANGE_REASON:"\u53d8\u52a8\u539f\u56e0",CHANGE_TIME:"\u53d8\u52a8\u65f6\u95f4",OPERATOR:"\u64cd\u4f5c\u4eba",MEMBER_CHANGE_RECORD:"\u6210\u5458\u53d8\u52a8\u8bb0\u5f55",ADD_MEMBER:"\u6dfb\u52a0\u6210\u5458",SEARCH_NAME_EMAIL:"\u641c\u7d22\u59d3\u540d/\u90ae\u7bb1",MEMBER:"\u6210\u5458",DEPARTMENT:"\u90e8\u95e8",ROLE:"\u89d2\u8272",ALL:"\u5168\u90e8",TEAM_MEMBER:"\u56e2\u961f\u6210\u5458",CONTENT_MANAGER:"\u5185\u5bb9\u7ba1\u7406\u5458",OFFICIAL_PUBLISHER:"\u5b98\u65b9\u53d1\u5e03\u4eba",TEAM_MANAGER:"\u56e2\u961f\u7ba1\u7406\u5458",GROUP:"\u5206\u7ec4",ACTIONS:"\u64cd\u4f5c",MODIFY:"\u4fee\u6539",QUIT:"\u9000\u51fa",MORE:"\u66f4\u591a",ADD_TO_RESTRICTION_LIST:"\u52a0\u5165\u9650\u5236\u540d\u5355",REMOVE:"\u79fb\u9664",GROUP_AND_GROUP_TYPES:"\u5206\u7ec4\u548c\u5206\u7ec4\u7c7b\u578b",EXPAND_ALL_GROUPS:"\u5c55\u5f00\u6240\u6709\u5206\u7ec4",ADD_NEW_GROUP:"\u6dfb\u52a0\u5206\u7ec4",EDIT:"\u7f16\u8f91",DELETE:"\u5220\u9664",CREATE_NEW_GROUP_TYPE:"\u65b0\u5efa\u5206\u7ec4\u7c7b\u578b",INVITE_BY_LINK:"\u94fe\u63a5\u9080\u8bf7",INVITE_MEMBERS_BY_LINK:"\u94fe\u63a5\u9080\u8bf7\u6210\u5458",SEND_A_LINK_INVITATION:"\u53d1\u9001\u94fe\u63a5\u9080\u8bf7",COPY_LINK:"\u590d\u5236\u94fe\u63a5",DIRECT_INVITATION:"\u76f4\u63a5\u9080\u8bf7",INVITE_MEMBERS_DIRECTLY:"\u76f4\u63a5\u9080\u8bf7\u6210\u5458",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u5b9a",BATCH_IMPORT:"\u6279\u91cf\u5bfc\u5165",BATCH_IMPORT_MENBER:"\u6279\u91cf\u5bfc\u5165\u6210\u5458",UPLOAD_FILE:"\u4e0a\u4f20\u6587\u4ef6",SEPARATE:"\u591a\u4e2a\u5206\u7ec4\u6216\u89d2\u8272\u95f4\u7528\u7a7a\u683c\u5206\u5f00",HEADER_CONTAIN:"\u62ac\u5934\u5fc5\u987b\u5305\u542b\u59d3\u540d\u3001corp\u90ae\u7bb1\u3001\u7528\u6237\u89d2\u8272\u4e09\u9879",IMPORT:"\u5f00\u59cb\u5bfc\u5165",CLICK_TO_COPY:"\u70b9\u51fb\u590d\u5236\u9080\u8bf7\u94fe\u63a5\u53d1\u9001\u7ed9\u76f8\u5173\u6210\u5458\uff0c\u9080\u8bf7\u94fe\u63a5\u6709\u6548\u671f\u4e3a\u70b9\u51fb\u590d\u5236\u540e\u768448\u5c0f\u65f6\uff0c\u652f\u630120\u4eba\u81ea\u52a8\u52a0\u5165\u56e2\u961f\uff0c\u8d85\u8fc720\u4eba\u9700\u8981\u91cd\u65b0\u590d\u5236\u94fe\u63a5",SURE_TO_REMOVE:"\u786e\u5b9a\u79fb\u9664\u8be5\u6210\u5458\uff1f\u79fb\u9664\u540eTa\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4\u3002",ADD_TO_RESTRICTED:"\u786e\u5b9a\u5c06\u8be5\u6210\u5458\u52a0\u5165\u9650\u5236\u540d\u5355\uff1f\u52a0\u5165\u9650\u5236\u540d\u5355\u540e\uff0cTa\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4\u3002",SUCCESSFUL_OPERATION:"\u64cd\u4f5c\u6210\u529f",SUCCESSFULLY_REMOVED:"\u79fb\u9664\u6210\u529f",SUCCESSFULLY_MODIFIED:"\u4fee\u6539\u6210\u529f",ADD:"\u6dfb\u52a0",RESULT_OF_EXCEPTION:"\u5f02\u5e38\u539f\u56e0",NAME:"\u59d3\u540d",EMAIL:"\u90ae\u7bb1",CLOSE:"\u5173\u95ed",IMPORT_EXCEPTION:"\u5bfc\u5165\u5f02\u5e38",PLEASE_UPLOAD:"\u8bf7\u9009\u62e9csv\u683c\u5f0f\u6587\u4ef6\u4e0a\u4f20",UNCLASSIFIED:"\u672a\u5206\u7ec4",SUCCESSFULLY_IMPORTED:"\u5bfc\u5165\u6210\u529f",OK:"\u6211\u77e5\u9053\u4e86",CLICK_THE_CHECKBOX:"\u70b9\u51fb\u591a\u9009\u6846\uff0c\u5373\u53ef\u5bf9\u6210\u5458\u8fdb\u884c\u6279\u91cf\u7ba1\u7406\uff08\u79fb\u9664\uff0c\u52a0\u5165\u9650\u5236\u540d\u5355\u7b49\u64cd\u4f5c\uff09",TIPS:"\u6e29\u99a8\u63d0\u793a",NO_MEMBERS:"\u8fd8\u6ca1\u6709\u6210\u5458\u5466",CLICK_ON:"\u8d76\u7d27\u70b9\u51fb\u53f3\u4e0a\u89d2\u9080\u8bf7\u6210\u5458\u52a0\u5165\u5427",DID_NOT_FIND_THIS_MEMBER:"\u6ca1\u6709\u627e\u5230\u76f8\u5e94\u6210\u5458",USER_EHR__CANNOT__REMOVED:"EHR\u6570\u636e\u540c\u6b65\u7684\u7528\u6237\u65e0\u6cd5\u79fb\u9664\uff0c\u53ea\u80fd\u52a0\u5165\u9650\u5236\u540d\u5355",USERS_JOIN_THE_RESTRICTED:"\u52a0\u5165\u9650\u5236\u540d\u5355\u7684\u7528\u6237\u65e0\u6cd5\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4",TIME_OF_JOININGL:"\u52a0\u5165\u65f6\u95f4",RESTRICTED_LIST:"\u9650\u5236\u540d\u5355",RESTRICTED_LIST_NUM:function(e){return"".concat(e.num,"\u540d")},MEMBERS_IN_TOTAL:function(e){return"\u5171".concat(e.num,"\u540d\u6210\u5458")},REMOVE_MEMBER:"\u79fb\u9664\u6210\u5458",MEMBER_SELECTED:function(e){return"\u5df2\u9009\u62e9".concat(e.num,"\u540d\u6210\u5458")},RESTRICTED_LIST_SHEET:"\u9650\u5236\u540d\u5355\u5217\u8868",SURE_ADD_SELECTED__RESTRICTED:"\u786e\u8ba4\u5c06\u9009\u4e2d\u6210\u5458\u52a0\u5165\u9650\u5236\u540d\u5355\uff1f",USERS_JOIN_RESTRICTED:"\u52a0\u5165\u9650\u5236\u540d\u5355\u7684\u7528\u6237\u4f1a\u7ee7\u7eed\u5c55\u793a\u5728\u5217\u8868\u4e2d\uff0c\u53ef\u4ee5\u5728\u5217\u8868\u4e2d\u89e3\u9664\u76f8\u5e94\u7684\u9650\u5236\u3002",CONFIRM_REMOVE_MEMBERS:"\u786e\u8ba4\u79fb\u9664\u9009\u4e2d\u7684\u6210\u5458?",TEAM_ACCESSIBLE_AFTER_REMOVAL:"\u79fb\u9664\u540e\u5c06\u4e0d\u80fd\u8bbf\u95ee\u56e2\u961f\u7a7a\u95f4",EXIT_SUCCESSFULLY:"\u9000\u51fa\u6210\u529f",INVITATION_URL_COPIED:"\u9080\u8bf7\u94fe\u63a5\u5df2\u590d\u5236",PLEASE_SELECT_A_ROLE:"\u8bf7\u9009\u62e9\u89d2\u8272",ALREADY_TEAMSPACE:"\u5df2\u5728\u56e2\u961f",ADDED_SUCCESSFULLY:"\u6dfb\u52a0\u6210\u529f",ADDED_FAILED:"\u6dfb\u52a0\u5931\u8d25",IN_THE_RESTRICTED_LIST:"\u9ed1\u540d\u5355\u4e2d",INVITE_SETTINGS:"\u9080\u8bf7\u6210\u5458-\u6210\u5458\u8bbe\u7f6e",ROLE_SETTING:"\u89d2\u8272\u8bbe\u7f6e",GROUPING_SETTINGS:"\u5206\u7ec4\u8bbe\u7f6e",NOTE:"\u5907\u6ce8\uff1a\u4ee5\u4e0a\u64cd\u4f5c\u90fd\u662f\u6279\u91cf\u8bbe\u7f6e\uff0c\u5982\u6b32\u5206\u522b\u8bbe\u7f6e\u8bf7\u524d\u5f80\u6210\u5458\u5217\u8868\u4e2d\u5206\u522b\u8bbe\u7f6e",TIPS_SHORT:"\u63d0\u793a",EMPTY:"\u6e05\u7a7a",SURE_TO_LEAVE:"\u786e\u5b9a\u9000\u51fa\u8be5\u56e2\u961f\u7a7a\u95f4\uff1f",REMOVE_RESTRICTION:"\u79fb\u51fa\u9650\u5236\u540d\u5355",ADD_FAILED:"\u6dfb\u52a0\u5931\u8d25\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u518d\u6b21\u63d0\u4ea4\u91cd\u65b0\u6dfb\u52a0",SUB_AGAIN:"\u518d\u6b21\u63d0\u4ea4",ALL_ADD_SUCCESS:"\u5168\u90e8\u6dfb\u52a0\u6210\u529f",ADD_MEMBERS:function(e){return"\u5df2\u6210\u529f\u6dfb\u52a0".concat(e.num,"\u4e2a\u6210\u5458\uff0c\u5176\u4ed6\u6210\u5458\u72b6\u6001\u5982\u4e0b:")},DID_NOT_FIND_THIS_RECORD:"\u6ca1\u6709\u627e\u5230\u53d8\u52a8\u8bb0\u5f55"},album:{ALBUM_TITLE_LIMIT:"\u76f8\u518c\u6807\u9898\u4e0d\u80fd\u5927\u4e8e32\u5b57",EDIT_ALBUM_INFORMATION:"\u7f16\u8f91\u76f8\u518c\u4fe1\u606f",ALBUM_NAME:"\u76f8\u518c\u540d\u79f0",IMAGE_TITLE_LIMIT:"\u56fe\u7247\u6807\u9898\u4e0d\u80fd\u5927\u4e8e100\u5b57",PICTURE_LIMIT:"\u56fe\u7247\u63cf\u8ff0\u4e0d\u80fd\u5927\u4e8e250\u5b57",EDIT_PIC_INFORMATION:"\u7f16\u8f91\u56fe\u7247\u4fe1\u606f",CONFIRM_ADJUSTMENT:"\u786e\u8ba4\u8c03\u6574",OWN_ALBUM:"\u6240\u5c5e\u76f8\u518c",PICTURE_TITLE:"\u56fe\u7247\u6807\u9898",IMAGE_DESCRIPTION:"\u56fe\u7247\u63cf\u8ff0",EDIT_PICTURE:"\u7f16\u8f91\u56fe\u7247",IMAGE_INCORRECT:"\u56fe\u7247\u683c\u5f0f\u4e0d\u6b63\u786e",IMAGE_SIZE_LIMIT:"\u56fe\u7247\u5927\u5c0f\u8d85\u8fc7\u9650\u5236",SELECT_IMAGE:"\u9009\u62e9\u56fe\u7247",REUPLOAD:"\u91cd\u65b0\u4e0a\u4f20",PREVIEW:"\u9884\u89c8",ALBUM_NO_EMPTY:"\u76f8\u518c\u4e0d\u80fd\u4e3a\u7a7a",UPLOAD_SUCCESS:"\u4e0a\u4f20\u6210\u529f",UPLOAD_NUM_LIMIT:"\u6700\u591a\u652f\u6301\u4e0a\u4f208\u5f20\u56fe\u7247",UPLOAD_IMAGE:"\u4e0a\u4f20\u56fe\u7247",UPLOAD:"\u4e0a\u4f20",NOT_BEEN_SAVED:"\u5185\u5bb9\u8fd8\u672a\u4fdd\u5b58\u54e6\uff0c\u786e\u8ba4\u653e\u5f03\u64cd\u4f5c\uff1f",CLICK_DRAG_UPLOAD:"\u70b9\u51fb\u6216\u5c06\u6587\u4ef6\u62d6\u62fd\u5230\u8fd9\u91cc\u4e0a\u4f20",TYPE_SIZE_LIMIT:"\u652f\u6301JPG\u3001PNG\u3001GIF\u7b49\u56fe\u7247\u683c\u5f0f\uff0c\u6bcf\u5f20\u5927\u5c0f\u4e0d\u8d85\u8fc710M",PUBLISH:"\u53d1\u5e03",MAX_SIZE:"\u8bf7\u4e0a\u4f202M\u4ee5\u5185\u7684\u56fe\u7247",MAX_SIZE_TIPS:"2M\u4ee5\u5185\uff0c\u652f\u6301png, jpg, jpeg,gif",SITE_LOGO:"\u7ad9\u70b9Logo",model:{SUCCESSFUL_CREATION:"\u65b0\u5efa\u6210\u529f",NEW_ALBUM:"\u65b0\u5efa\u76f8\u518c",ALBUM_NAME:"\u76f8\u518c\u540d\u79f0",ENTER_NAME:"\u8bf7\u8f93\u5165\u76f8\u518c\u540d\u79f0"}},create:{DEFAULT_INFO:{CREATE_WIKI:"\u65b0\u5efaWiki\u7ad9\u70b9",TITLE:"\u6807\u9898",ENTER_TITLE:function(e){return"\u8bf7\u8f93\u5165".concat(e.language,"\u7ad9\u70b9\u6807\u9898")},LAST_ONE_CTITLE:"\u81f3\u5c11\u9700\u586b\u5199\u4e2d\u6587\u6807\u9898",PATH:"\u8def\u5f84",PATH_TIP_ONE:"\u8bbf\u95ee\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e0d\u80fd\u91cd\u590d",PATH_TIP_TWO:"\u53ea\u652f\u6301\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u77ed\u6a2a\u7ebf\u548c\u4e0b\u5212\u7ebf\uff0c2-15\u4e2a\u5b57\u7b26",PATH_TIPS:"\u8bbf\u95ee\u8def\u5f84\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e0d\u80fd\u91cd\u590d\uff0c\u53ea\u652f\u6301\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u77ed\u6a2a\u7ebf\u548c\u4e0b\u5212\u7ebf\uff0c2-15\u4e2a\u5b57\u7b26",PATH_EXISTS:"\u6b64\u8def\u5f84\u5df2\u88ab\u4f7f\u7528",INTRO:"\u7b80\u4ecb",ENTER_INTRO:function(e){return"\u8bf7\u8f93\u5165".concat(e.language,"\u7b80\u4ecb")},TAGS:"\u6807\u7b7e",ADD_TAG:"\u6dfb\u52a0\u6807\u7b7e",LABEL_WARN:"\u4e0d\u652f\u6301\u8f93\u5165\u8be5\u6807\u7b7e",LABEL_EMPTY_WARN:"\u4e0d\u80fd\u521b\u5efa\u7a7a\u6807\u7b7e",CREATE_TAG:"\u521b\u5efa",TAG_FONT_NUM:"\u6700\u591a20\u4e2a\u5b57",UPLOAD:"\u4e0a\u4f20",UPLOAD_MAX:function(e){return"".concat(e.num,"M\u4ee5\u5185\uff0c\u652f\u6301png, jpg, jpeg,gif")},VIEW_PERMISSION:"\u8bbf\u95ee\u6743\u9650",VIEW_MODIFIED_SUCCESS:"\u4fee\u6539\u8bbf\u95ee\u6743\u9650\u6210\u529f",SELECTED:"\u8bf7\u9009\u62e9",AUTH_VIEW_EXPLANTATION:"\u51b3\u5b9a\u7528\u6237\u662f\u5426\u53ef\u4ee5\u67e5\u770b\u7ad9\u70b9\u9996\u9875\u53ca\u76ee\u5f55\u6811\uff0c\u4e14\u4f1a\u4f5c\u4e3a\u7ad9\u70b9\u4e00\u7ea7\u8282\u70b9\u7684\u9ed8\u8ba4\u67e5\u770b\u6743\u9650",AUTH_VIEW_TIPS:"\u79fb\u9664\u7528\u6237\u8bbf\u95ee\u6743\u9650\u5c06\u540c\u6b65\u79fb\u9664\u5176\u53d1\u5e03\u6743\u9650",PUBLISH_PERMISSION:"\u53d1\u5e03\u6743\u9650",PUBLISH_MODIFIED_SUCCESS:"\u4fee\u6539\u53d1\u5e03\u6743\u9650\u6210\u529f",AUTH_PUBLISH_EXPLANTATION:"\u51b3\u5b9a\u7528\u6237\u662f\u5426\u53ef\u4ee5\u5728\u7ad9\u70b9\u4e2d\u65b0\u5efa\u5206\u7c7b\u6216\u8d44\u6e90\uff0c\u4e14\u4f1a\u4f5c\u4e3a\u7ad9\u70b9\u4e00\u7ea7\u8282\u70b9\u7684\u9ed8\u8ba4\u7f16\u8f91\u6743\u9650",AUTH_PUBLISH_TIPS:"\u62e5\u6709\u53d1\u5e03\u6743\u9650\u7684\u7528\u6237\u5c06\u540c\u6b65\u62e5\u6709\u8bbf\u95ee\u6743\u9650",MANAGER:"\u7ba1\u7406\u5458",SITE_RESOURCE_AUTH_CONFIG:"\u7ad9\u70b9\u5185\u8d44\u6e90\u6743\u9650\u8bbe\u7f6e",SITE_RESOURCE_AUTH_CONFIG_TIP:"(\u4e0d\u5305\u62ec\u5f15\u7528\u8d44\u6e90)",NO_MOMENT:"\u4e0d\u5141\u8bb8\u5206\u4eab\u5230\u773c\u754c\u5927\u5f00",NO_SITE_SHARE:"\u4e0d\u5141\u8bb8\u7ad9\u5185\u5206\u4eab",NO_COMMENT:"\u4e0d\u5141\u8bb8\u8bc4\u8bba",NO_COPY:"\u4e0d\u5141\u8bb8\u590d\u5236",NO_PDF:"\u4e0d\u5141\u8bb8\u5bfc\u51fapdf",SAVE_AUTH_TITLE:"\u786e\u8ba4\u8bbe\u7f6e\u4fdd\u5b58",SAVE_AUTH_CONTENT:"\u6b64\u5168\u5c40\u8bbe\u7f6e\u5c06\u5bf9\u672c\u7ad9\u70b9\u5185\u7684\u6240\u6709\u8d44\u6e90\u5373\u523b\u751f\u6548\uff0c\u786e\u8ba4\u64cd\u4f5c\uff1f",SAVE_AUTH_CONFIRM:"\u786e\u5b9a",MANAGER_MODIFIED_SUCCESS:"\u7ba1\u7406\u5458\u4fee\u6539\u6210\u529f",VALIDATE_ERROR:"\u7ad9\u70b9\u4fe1\u606f\u586b\u5199\u6709\u8bef",SAVE:"\u4fdd\u5b58",NEW:"\u65b0\u5efa",CANCEL:"\u53d6\u6d88",SAME_TAG:"\u6807\u7b7e\u91cd\u590d",INVALID_SYMBOL:"\u975e\u6cd5\u5b57\u7b26\uff01",INVALID_TIPS:"\u4ec5\u82f1\u6587\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7b49"},LOGO_MODAL:{EDIT_LOGO:"\u7f16\u8f91logo",PREVIEW:"\u9884\u89c8",RE_UPLOAD:"\u91cd\u65b0\u4e0a\u4f20"},MANAGER_MODAL:{CHANGE_MANAGER:"\u4fee\u6539\u7ad9\u70b9\u7ba1\u7406\u5458",CLEAR_ALL:"\u6e05\u7a7a"}},setting:{DEFAULT_INFO:{BASIC_INFO:"\u7ad9\u70b9\u57fa\u672c\u4fe1\u606f\u8bbe\u7f6e",AUTH_INFO:"\u7ad9\u70b9\u6743\u9650\u8bbe\u7f6e",APPLY_DELETE:"\u7533\u8bf7\u5220\u9664wiki\u7ad9\u70b9",DELETE_TIPS:"\u82e5\u60a8\u60f3\u5220\u9664\u6b64wiki\u7ad9\u70b9\uff0c\u9700\u7533\u8bf7\u5220\u9664",REQUEST_DELETE:"\u7533\u8bf7\u5220\u9664",REQUEST_DELETE_ING:"\u7533\u8bf7\u5220\u9664\u4e2d",SAVE_SUCCESS:"\u4fee\u6539\u6210\u529f"},SYNC_MODAL:{CONFIRM_PERMISSION:"\u540c\u6b65\u6743\u9650\u786e\u8ba4",PERMISSION_INPUT_TIPS:"\u5f53\u524d\u6743\u9650\u5305\uff0c\u7ea2\u8272\u4ee3\u8868\u6b64\u6b21\u65b0\u589e\u6743\u9650\u7ec4",ASK_SYNC:function(e){return"\u4f60\u5c06\u4fee\u6539\u5728\u7ad9\u70b9".concat(e.name,"\u6743\u9650\uff0c\u662f\u5426\u9700\u8981\u540c\u6b65\u4fee\u6539\u7ad9\u70b9\u4e0b\u8d44\u6e90\u7684\u6743\u9650\uff1f")},RADIO_ONE:"\u4e0d\u9700\u8981\u540c\u6b65\u4fee\u6539",RADIO_TWO:"\u4e3a\u7ad9\u70b9\u4e0b\u6240\u6709\u8d44\u6e90\u6dfb\u52a0\u65b0\u589e\u6743\u9650\u7ec4",RADIO_THREE:"\u4e3a\u7ad9\u70b9\u4e0b\u90e8\u5206\u8d44\u6e90\u6dfb\u52a0\u65b0\u589e\u6743\u9650\u7ec4",RADIO_FOUR:"\u5c06\u5f53\u524d\u6743\u9650\u5305\u5e94\u7528\u5230\u7ad9\u70b9\u6240\u6709\u8d44\u6e90",RADIO_FIVE:"\u5c06\u5f53\u524d\u6743\u9650\u5305\u5e94\u7528\u5230\u7ad9\u70b9\u90e8\u5206\u8d44\u6e90"},DELETE_MODAL:{DELETE_CONFIRM:"\u7533\u8bf7\u5220\u9664\u786e\u8ba4",DELETE_CONFIRM_TIPS:"\u786e\u8ba4\u7533\u8bf7\u5220\u9664wiki\u7ad9\u70b9\uff1f",DELETE_SUCCESS:"\u5220\u9664\u6210\u529f",DELETE_APPLY:"\u5df2\u63d0\u4ea4\u7533\u8bf7"}},history:{VERSION_HISTORY:"\u5386\u53f2\u7248\u672c",ADDED_CONTENT:"\u65b0\u589e\u5185\u5bb9",DELETED_CONTENT:"\u5220\u9664\u5185\u5bb9",CHANGE_FORMATTING:"\u6837\u5f0f\u53d8\u66f4",EXIT_COMPARISON:"\u9000\u51fa\u7248\u672c\u5bf9\u6bd4",RESTORE:"\u6062\u590d",RESTORE_SUCCESSFUL:"\u6062\u590d\u6210\u529f",COMPARING_VERSIONS:"\u6b63\u5728\u5bf9\u6bd4\u4e2d...",CURRENT_VERSION:"\u5f53\u524d\u7248\u672c",EDIT_REASON:"\u7f16\u8f91\u539f\u56e0",NONE:"\u65e0",COMPARE_VERSIONS:"\u7248\u672c\u6bd4\u8f83",EDITION:function(e){return"\u7b2c".concat(e.num,"\u7248")},RESTORE_CONFIRMATION:"\u6062\u590d\u786e\u8ba4",RESTORE_TEXT:"\u786e\u8ba4\u6062\u590d\u6b64\u7248\u672c\u4e3a\u6700\u65b0\u7248\u672c\u5417\uff1f",UPDATED_BY:"\u66f4\u65b0\u4eba"},category:{NAME:"\u540d\u79f0",ENTER_PROFILE:"\u8bf7\u8f93\u5165\u7b80\u4ecb",VIEW_PERMISSION:"\u67e5\u770b\u6743\u9650",EDIT_PERMISSION:"\u7f16\u8f91\u6743\u9650",DONE:"\u5b8c\u6210",EDIT:"\u7f16\u8f91",MOVE_SUCCESS:"\u79fb\u52a8\u6210\u529f",NEW_SUBENTRY:"\u65b0\u5efa\u5b50\u8bcd\u6761",NEW_SUBCATEGORY:"\u65b0\u5efa\u5b50\u5206\u7c7b",NEW_CATEGORY_SUCCESS:"\u65b0\u5efa\u5206\u7c7b\u6210\u529f",STARRED:"\u6807\u661f",UNSTARRED:"\u53d6\u6d88\u6807\u661f",RENAME:"\u91cd\u547d\u540d",DELETE:"\u5220\u9664",UPDATE_ON:"\u66f4\u65b0\u4e8e",CONTAINS:function(e){return"\u5305\u542b".concat(e.n,"\u4e2a\u5b50\u5206\u7c7b\uff0c").concat(e.num,"\u9879\u8d44\u6e90")},ADD_SUBENTRY:"\u65b0\u5efa\u5b50\u8bcd\u6761",ADD_SUBCATEGORY:"\u65b0\u5efa\u5b50\u5206\u7c7b",ADD:"\u65b0\u5efa",NO_RESOURCES:"\u6b64\u5206\u7c7b\u4e0b\u65e0\u8d44\u6e90",MOVING:"\u6b63\u5728\u79fb\u52a8\uff0c\u8bf7\u7a0d\u540e",MOVE_ERROR:"\u51fa\u9519\u4e86\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5",INPUT_CATE_NAME:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0",CATE_NAME_LENGTH:"\u5206\u7c7b\u540d\u957f\u5ea6\u9650\u523630",UNSAME_PATH:function(e){var t="res"===e.type?"\u8d44\u6e90":"cate"===e.type?"\u5206\u7c7b":"\u94fe\u63a5";return"\u5f53\u524d".concat(t,"\u6743\u9650\u4e0e\u8be5\u4f4d\u7f6e\u6743\u9650\u4e0d\u4e00\u81f4\uff0c\u662f\u5426\u540c\u6b65\u8c03\u6574\u672c").concat(t,"\uff08\u53ca\u5305\u542b\u8d44\u6e90\uff09\u7684\u6743\u9650")},YES:"\u8c03\u6574",NO:"\u4e0d\u8c03\u6574",PERMISSIONS_SYNC:"\u6743\u9650\u5df2\u540c\u6b65",PERMISSIONS_NOSYNC:"\u5df2\u53d6\u6d88\u6743\u9650\u540c\u6b65",DELETE_SUCCESS:"\u5220\u9664\u6210\u529f",DELETE_MOVE_SUCCESS:"\u5220\u9664\u5e76\u8f6c\u79fb\u6210\u529f",DELETE_CONFIRMATION:"\u5220\u9664\u786e\u8ba4",DELETE_DIRECTLY:"\u76f4\u63a5\u5220\u9664",TRANSFER_RESOURCES:"\u8f6c\u79fb\u8d44\u6e90",TRABSFER_TIPS:"\u786e\u8ba4\u5220\u9664\u6b64\u5206\u7c7b\u5417\uff1f\u5220\u9664\u5206\u7c7b\u5c06\u540c\u6b65\u5220\u9664\u5206\u7c7b\u4e0b\u9762\u7684\u6240\u6709\u8d44\u6e90\uff0c\u53ef\u5148\u5c06\u8d44\u6e90\u8f6c\u79fb\u518d\u5220\u9664",MOVE_TO:"\u5c06\u5206\u7c7b\u4e0b\u8d44\u6e90\u79fb\u51fa\u5230"},mine_list:{EMPTY:"\u6211\u7684\u7f16\u8f91\u5185\u5bb9\u4e3a\u7a7a",LAST_UPDATED_DESCENDING:"\u66f4\u65b0\u65f6\u95f4\u5012\u5e8f",DATE_CREATED_DESCENDING:"\u521b\u5efa\u65f6\u95f4\u5012\u5e8f"},top_list:{EMPTY:"\u8fd8\u6ca1\u6709\u63a8\u8350\u5185\u5bb9",USERS_CONTRIBUTED:function(e){return"".concat(e.name,"\u7b49").concat(e.num,"\u4eba\u534f\u4f5c")},RECOMMEND_TEXT:"\u63a8\u8350\u5185\u5bb9"},delete:{CONFIRM:function(e){var t=e.type;return"\u786e\u8ba4\u5220\u9664\u6b64".concat("cate"===t?"\u5206\u7c7b":"res"===t?"\u8d44\u6e90":"\u5f15\u7528\u8d44\u6e90","\u5417\uff1f")},CLOSE:"\u5173\u95ed",SELECE_ACTION:function(e){var t=e.type;return"\u8be5".concat("cate"===t?"\u5206\u7c7b":"\u8d44\u6e90","\u4e0b\u542b\u6709\u5b50\u8d44\u6e90\uff0c\u8bf7\u9009\u62e9\u5904\u7406\u65b9\u5f0f")},SELECE_ACTION_OTHER:function(e){var t=e.type;return"\u8be5".concat("cate"===t?"\u5206\u7c7b":"\u8d44\u6e90","\u4e0b\u5c1a\u542b\u6709\u5b50\u8d44\u6e90\uff0c\u9700\u8f6c\u79fb\u81f3\u5176\u4ed6\u4f4d\u7f6e\u540e\u5220\u9664").concat("cate"===t?"\u5206\u7c7b":"\u8d44\u6e90")},ALL_DELETE:"\u5168\u90e8\u5220\u9664",MIGRATE:"\u8bf7\u9009\u62e9\u8f6c\u79fb\u4f4d\u7f6e",AUDIO_MIGRATE:function(e){var t=e.type;return"\u8f6c\u79fb\u5b50\u8d44\u6e90\u540e\u5220\u9664".concat("cate"===t?"\u5206\u7c7b":"\u8d44\u6e90")},toast:{MIG:function(e){var t=e.type;return"\u5df2\u8f6c\u79fb\u5b50\u8d44\u6e90\u5e76\u5220\u9664".concat("cate"===t?"\u5206\u7c7b":"\u8d44\u6e90")},ALL:function(e){var t=e.type;return"\u5df2\u5220\u9664".concat("cate"===t?"\u5206\u7c7b":"\u8d44\u6e90","\u548c\u5176\u4e0b\u5b50\u8d44\u6e90")},SUCCESS:function(e){var t=e.type;return"".concat("cate"===t?"\u5206\u7c7b":"res"===t?"\u8d44\u6e90":"\u5f15\u7528\u8d44\u6e90","\u5220\u9664\u6210\u529f")},SELECE_WARN:"\u672a\u9009\u62e9\u8f6c\u79fb\u4f4d\u7f6e"},btn:{PROCEES:"\u786e\u8ba4",CANCEL:"\u53d6\u6d88",DELETE:"\u5220\u9664",CONFIRM:"\u786e\u8ba4\u5220\u9664",MIGRATE_DELETE:function(e){var t=e.type;return"\u8f6c\u79fb\u5e76\u5220\u9664".concat("cate"===t?"\u5206\u7c7b":"\u8d44\u6e90")}}}}),a),l=o,u=function(e){l=e},E=function(e){var t=s[e]||s[o];return function(e,n){var a=e.split(".").reduce((function(e,t){return void 0!==e&&null!==e?e[t]:e}),t);return n||"string"!==typeof a?a?a(n):"":a}}},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n(52),r=n(53),i=n(63),c=n(64),o=n(8),s=n(9),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),this._opts=Object(o.a)({},t),this._nxios=Object(s.d)(Object(o.a)({prefix:this._opts.prefix||"",errorHandler:this.errorHandler},t))}return Object(r.a)(e,[{key:"errorHandler",value:function(e){throw e}}]),e}(),u=(new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getUserInfo",value:function(){return this._nxios("/km_java_api/home/nav/get_user_info")}},{key:"getOrgList",value:function(){return this._nxios("/km_java_api/home/nav/wikis")}},{key:"languageChange",value:function(e){return this._nxios("/km3/set_language_version",{method:"PUT",params:e})}},{key:"getUserInfoExtra",value:function(){return this._nxios("/km_java_api/home/nav/get_user_info_extra")}},{key:"devLogin",value:function(){return this._nxios("/km_java_api/wiki/develop/login?userId=3")}}]),n}(l)),n(10)),E=n.n(u),m=n(22),d=n(94),_=new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getWikiInfo",value:function(e){return this._nxios("/".concat(e))}},{key:"getWikiManages",value:function(e){return this._nxios("/".concat(e,"/managers"))}},{key:"getWikiIdByPath",value:function(e){return this._nxios("/convert_to_id/".concat(e))}},{key:"getWikiIdByDetailId",value:function(e){return this._nxios("/pages/id2WikiId/".concat(e))}},{key:"getWikiMenu",value:function(e,t){return t?this._nxios("/".concat(e,"/menu"),{params:{page:1,page_size:t}}):this._nxios("/".concat(e,"/menu"))}},{key:"getCateOperation",value:function(e){var t=e.wikiId,n=e.cateId;return this._nxios("/".concat(t,"/category/admin/").concat(n,"/can_operate"))}},{key:"getCateDetail",value:function(e,t,n){return t?this._nxios("/category/".concat(e),{params:{page:n||1,page_size:t}}):this._nxios("/category/".concat(e))}},{key:"getCateSimpleDetail",value:function(e){return this._nxios("/category/".concat(e,"/simple"))}},{key:"getCatePath",value:function(e){return this._nxios("/category/".concat(e,"/path"))}},{key:"getPagePath",value:function(e){return this._nxios("/pages/".concat(e,"/path"))}},{key:"addCateDetail",value:function(e,t){return this._nxios.post("/".concat(t,"/category/admin"),{params:e,requestType:"json"})}},{key:"putCateDetail",value:function(e){var t=e.id,n=e.body,a=e.wikiId;return this._nxios("/".concat(a,"/category/admin/").concat(t),{method:"PUT",params:n})}},{key:"deleteCateDetail",value:function(e){var t=e.cat_id,n=e.wikiId,a=e.parent_id;return this._nxios("/".concat(n,"/category/admin/").concat(t),{method:"DELETE",params:a?{parent_id:a}:{}})}},{key:"positionCate",value:function(e){var t=e.cat_id,n=e.wiki_id,a=e.parent_id,r=e.page_id,i=e.position;return this._nxios("/".concat(n,"/category/admin/").concat(t,"/move"),{method:"PUT",params:{parent_id:a,position:i,page_id:r}})}},{key:"asycCateAuth",value:function(e){var t=e.cat_id,n=e.wiki_id,a=e.parent_id,r=e.page_id;return this._nxios("/".concat(n,"/category/admin/").concat(t,"/sync_auth"),{method:"PUT",params:{parent_id:a,page_id:r}})}},{key:"putAuthCate",value:function(e){var t=e.cat_id,n=e.wiki_id,a=e.params;return this._nxios("/".concat(n,"/category/admin/").concat(t,"/publish_auth"),{method:"PUT",params:a})}},{key:"putAuthCateView",value:function(e){var t=e.cat_id,n=e.wiki_id,a=e.params;return this._nxios("/".concat(n,"/category/admin/").concat(t,"/view_auth"),{method:"PUT",params:a})}},{key:"getAuthCate",value:function(e){var t=e.cat_id,n={wiki_id:e.wiki_id};return t&&(n.cat_id=t),this._nxios("/category/default_publish_auth",{params:n})}},{key:"getAuthCateView",value:function(e){var t=e.cat_id,n={wiki_id:e.wiki_id};return t&&(n.cat_id=t),this._nxios("/category/default_view_auth",{params:n})}},{key:"getWikiPageDetail",value:function(e){return this._nxios("/pages/".concat(e))}},{key:"getWikiPageDetailExtra",value:function(e,t){return this._nxios("/pages/".concat(e,"/extra"),{params:t?{enterprise_id:t}:{}})}},{key:"wikiPageProject",value:function(e){return this._nxios.post("/pages/".concat(e,"/protect"))}},{key:"wikiPageCollect",value:function(e,t){return this._nxios("/pages/".concat(e,"/collect"),{method:t})}},{key:"wikiPageLike",value:function(e){return this._nxios.post("/pages/".concat(e,"/like"))}},{key:"wikiComment",value:function(e,t){return this._nxios.post("/pages/".concat(e,"/comments"),{data:t,requestType:"json"})}},{key:"wikiCommentList",value:function(e,t){return this._nxios("/pages/".concat(e,"/comments"),{params:{page:t}})}},{key:"wikiCommentDelete",value:function(e,t){return this._nxios.delete("/pages/".concat(e,"/comments/").concat(t))}},{key:"wikiCommentFavorite",value:function(e,t,n){return this._nxios("/pages/".concat(e,"/comments/").concat(t,"/like"),{method:n})}},{key:"getSearchHistory",value:function(e){return this._nxios("/".concat(e,"/search/history"))}},{key:"deleteSearchHistory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._nxios("/".concat(e,"/search/history"),{method:"DELETE",data:t})}},{key:"getDetailVersionsList",value:function(){var e=Object(m.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._nxios("/pages/".concat(t,"/versions"));case 3:return n=e.sent,e.prev=4,e.next=7,this._nxios("/pages/".concat(t,"/can_operate"));case 7:n.canEdit=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n.canEdit=!1;case 13:return e.abrupt("return",n);case 16:return e.prev=16,e.t1=e.catch(0),e.abrupt("return",e.t1);case 19:case"end":return e.stop()}}),e,this,[[0,16],[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"compareHistoryVersion",value:function(e,t){return this._nxios("/pages/".concat(e,"/compare"),{params:t})}},{key:"getDetailVersion",value:function(e,t){return this._nxios("/pages/".concat(e,"/version"),{params:{version:t}})}},{key:"coverDetailVersion",value:function(e,t){return this._nxios("/pages/".concat(e,"/convert_version"),{method:"put",params:{content_version_id:t}})}},{key:"getPageEdits",value:function(e){return this._nxios("/pages/".concat(e,"/editors"))}}]),n}(l))({prefix:d.a}),f=(new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getRecycleAuthors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6;return this._nxios(d.a+"/admin/".concat(e,"/recycle_bin_authors"),{params:{operate_type_id:t,page:n,keyword:a,page_size:r}})}},{key:"getRecycleList",value:function(e,t){return this._nxios(d.a+"/admin/".concat(e,"/recycle_bin"),{params:t})}},{key:"applyRecover",value:function(e,t){return this._nxios(d.a+"/admin/".concat(e,"/recover"),{method:"put",data:t})}}]),n}(l)),new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getWikiSettingInfo",value:function(e){return this._nxios(d.a+"/admin/".concat(e))}},{key:"getWikiAuths",value:function(e){return this._nxios(d.a+"/admin/".concat(e,"/auth"))}},{key:"checkPathName",value:function(e){return this._nxios(d.a+"/admin/check_name",{params:{path:e}})}},{key:"setWikiViewAuth",value:function(e,t){return this._nxios(d.a+"/admin/".concat(e,"/view_auth"),{method:"put",data:t})}},{key:"setWikieditAuth",value:function(e,t){return this._nxios(d.a+"/admin/".concat(e,"/publish_auth"),{method:"put",data:t})}},{key:"setWikiManagers",value:function(e,t){return this._nxios(d.a+"/admin/".concat(e,"/manager"),{method:"put",data:{person_ids:t}})}},{key:"setWikiInfo",value:function(e,t){return this._nxios(d.a+"/admin/".concat(e),{method:"put",data:t})}},{key:"createWikiSite",value:function(e){return this._nxios(d.a+"/admin",{method:"post",data:e})}},{key:"deleteWikiSite",value:function(e){return this._nxios(d.a+"/admin/".concat(e),{method:"delete"})}},{key:"editWikiSiteAllowAuth",value:function(e,t){return this._nxios(d.a+"/admin/".concat(e,"/allow_auth"),{method:"put",params:t})}}]),n}(l))),p=new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getRecommend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return this._nxios(d.a+"/".concat(e,"/recommend"),{params:{page:t,page_size:n}})}},{key:"getRecent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return this._nxios(d.a+"/".concat(e,"/update_recently?page=").concat(t,"&page_size=").concat(n))}},{key:"getMyEditors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return this._nxios(d.a+"/".concat(e,"/my_edited?order=").concat(t,"&page=").concat(n,"&page_size=").concat(a))}},{key:"getSearchResults",value:function(e,t){return this._nxios(d.a+"/".concat(e,"/search"),{params:t})}}]),n}(l))},255:function(e,t,n){"use strict";n.r(t);n(85);var a=n(39),r=n(10),i=n.n(r),c=n(22),o=(n(651),n(214)),s=(n(84),n(30)),l=(n(74),n(12)),u=n(8),E=n(57),m=n(6),d=n(0),_=n.n(d),f=n(92),p=n(18),O=n(19),h=n(65),T=n(100);n(716);t.default=function(){var e=Object(T.c)(),t=Object(d.useState)([]),n=Object(m.a)(t,2),r=n[0],N=n[1],g=Object(f.h)().site,S=Object(d.useState)(!0),I=Object(m.a)(S,2),b=I[0],C=I[1],v=Object(d.useState)(!1),A=Object(m.a)(v,2),R=A[0],y=A[1];Object(O.o)((function(){C(!0),g&&h.d.getWikiMenu(g,50).then((function(e){N(e),C(!1)})).catch((function(){}))}));var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,t,a){return e.map((function(e){if(e.id==t){var r=Object(E.a)(a.list),i=Object(u.a)(Object(u.a)({},a),{},{list:r});return Object(u.a)(Object(u.a)({},e),{},{children:i})}return e.children?Object(u.a)(Object(u.a)({},e),{},{children:n(e.children.list,t,a)}):e}))}y(!0),console.log("more",t,e),t?h.d.getWikiMenu(g).then((function(e){N(e),y(!1)})):h.d.getCateDetail(e.id,e.children.total).then((function(t){y(!1);var a=Object(u.a)(Object(u.a)({},r),{},{list:n(r.list,e.id,t.children)});N(a)})).catch((function(e){y(!1),l.b.error(e.message)}))},D=function(e,t){"cate"===e?Object(O.h)("/wiki/".concat(g,"/category/").concat(t)):"res"===e&&Object(O.h)("/wiki/".concat(g,"/page/").concat(t))},k=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.children){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.d.getCateDetail(t.key,50);case 5:n=e.sent,a=function e(t,n,a){return t.map((function(t){if(t.id==n)return Object(u.a)(Object(u.a)({},t),{},{children:a});if(t.children){var r=e(t.children.list,n,a),i=Object(u.a)(Object(u.a)({},t.children),{},{list:r});return Object(u.a)(Object(u.a)({},t),{},{children:i})}return t}))},N(Object(u.a)(Object(u.a)({},r),{},{list:a(r.list,t.key,n.children)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l.b.warn(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return _.a.createElement(_.a.Fragment,null,b?_.a.createElement(a.a,{spinning:!0,style:{margin:"80px auto",textAlign:"center",width:"100%"}}):_.a.createElement(o.a,{className:"site-trees",blockNode:!0,loadData:k},function t(n){if(n)return n.map((function(n){var a=n.binding_page_id?"res":2===n.category_type?"link":"cate",r=n.binding_page_id?"icon-citiao2x":2===n.category_type?"icon-fabu2x":"icon-fenlei2x",i=n.binding_page_id||n.id;return n.has_children?_.a.createElement(o.a.TreeNode,{title:_.a.createElement("div",{onClick:function(){return D(a,i)},className:"tree-node"},_.a.createElement(p.a,{style:{marginRight:"15px",fontSize:"16px"},type:r}),_.a.createElement("span",{className:"tree-item"},_.a.createElement("span",null,n.name),_.a.createElement("span",null),_.a.createElement("span",null,n.updated_at&&Object(O.e)(n.updated_at)))),key:n.id,className:a},t(n.children?n.children.list:[]),n.children&&n.children.has_more&&_.a.createElement(o.a.TreeNode,{title:_.a.createElement(s.a,{type:"link",loading:R,onClick:function(){return L(n)}},_.a.createElement("span",null,e.get("home.MENU.LOAD_MORE"),"(",e.get("home.MENU.REMAINING"),"\uff1a",n.children.total-n.children.list.length,")")),key:"action-"+n.id,className:"leaf-more",isLeaf:!0})):_.a.createElement(o.a.TreeNode,{title:_.a.createElement("div",{onClick:function(){return D(a,i)},className:"tree-node"},_.a.createElement("span",{className:"circle-point"}),_.a.createElement(p.a,{style:{marginRight:"15px",fontSize:"16px"},type:r}),_.a.createElement("span",{className:"tree-item"},_.a.createElement("span",null,n.name),_.a.createElement("span",null),_.a.createElement("span",null,n.updated_at&&Object(O.e)(n.updated_at)))),key:n.id,className:"leaf",isLeaf:!0})}))}(r.list),r.list&&r.has_more&&_.a.createElement(o.a.TreeNode,{title:_.a.createElement(s.a,{type:"link",loading:R,onClick:function(){return L(null,!0)}},_.a.createElement("span",null,e.get("home.MENU.LOAD_MORE"),e.get("home.MENU.REMAINING"),"\uff1a",r.total-r.list.length)),key:"action-"+r.id,className:"leaf-more",isLeaf:!0})))}},262:function(e,t,n){"use strict";n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"p",(function(){return O})),n.d(t,"l",(function(){return h})),n.d(t,"c",(function(){return T})),n.d(t,"q",(function(){return g})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return C})),n.d(t,"o",(function(){return v})),n.d(t,"k",(function(){return A})),n.d(t,"r",(function(){return R})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return L})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return k})),n.d(t,"j",(function(){return M}));var a=n(10),r=n.n(a),i=n(22),c=n(52),o=n(53),s=n(129),l=n.n(s),u=n(6),E=n(206),m=n.n(E),d=(n(55),n(426)),_=n.n(d),f=function(){return/^kms?\.netease\.com/.test(window.location.host)},p=function(){return/^\/team/.test(window.location.pathname)},O=(function(){var e="".concat("/react_apps/km_wiki/dist").replace(/\/$/,"")}(),function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(u.a)(r,1)[0];return a.splice(n,0,i),a}),h=function(e){if(""===e)return!0;return new RegExp("^[ ]+$").test(e)},T=function(e){for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)>127||94===e.charCodeAt(n)?t+=2:t++;return t},N=(l()((function(e){e&&e()}),500),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.storage=t.storage||e.defaultStorage}return Object(o.a)(e,[{key:"get",value:function(e){var t=this.storage.getItem(e);return JSON.parse(t)}},{key:"set",value:function(e,t){var n=JSON.stringify(t);this.storage.setItem(e,n)}}]),e}());N.defaultStorage=window.localStorage;var g=new N,S={keyOf:function(e){for(var t=Object.keys(this),n=0;n<t.length;n++)if(this[t[n]]===e)return t[n];return null},create:function(e){var t=Object.create(null);return Object.keys(e).forEach((function(n){Object.defineProperty(t,n,{value:e[n],enumerable:!0})})),Object.defineProperty(t,"keyOf",{value:this.keyOf}),Object.freeze(t),t}},I=function(e){window.location.href="/login?back_url=".concat(window.encodeURIComponent(e))},b=function(e){return e?e.public?"\u4e92\u5a31\u516c\u5f00":e.public_all_for_km?"\u5168\u96c6\u56e2\u6b63\u5f0f\u5458\u5de5(\u5305\u62ec\u4e92\u5a31\u4e0e\u975e\u4e92\u5a31)":e.authorities&&e.authorities.length?e.authorities.map((function(e){return e.selected_name})).join(" , "):"\u4ec5\u81ea\u5df1":""},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={opss:{sstp:t,ssid:e}},a=JSON.stringify(n),r=function(e){for(var t=[],n=0,a=0;a<e.length;a++){var r=encodeURI(e[a]);if(1===r.length){var i=r.charCodeAt(0);t[2*n]=((240&i)>>4).toString(16),t[2*n+1]=(15&i).toString(16),n++}else for(var c=r.split("%"),o=1;o<c.length;o++){var s=parseInt(c[o],16);t[2*n]=((240&s)>>4).toString(16),t[2*n+1]=(15&s).toString(16),n++}}return t.join("")};return"netease-popoapp://"+r(a)},v=function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener noreferrer",document.body.appendChild(t),t.click(),document.body.removeChild(t)},A=function(){return"kms.netease.com"===window.location.hostname||"test-kms.netease.com"===window.location.hostname},R=function(e){var t=document.createElement("div");return t.innerHTML=m.a.sanitize(e),t.textContent||t.innerText||""},y=function(e){if(e){var t,n=f()?"//km.netease.com":"//".concat(window.location.host);switch(e.class_name||e.type){case"Person":t="/zone/".concat(e.identifier);break;case"Enterprise":t="/profile/".concat(e.identifier)}return n+t}},L=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},D=function(e){return e?e<1e3?e+"":e<1e4?Math.round(e/100)/10+"k":e<1e6?Math.round(e/1e3)/10+"w":Math.round(e/1e5)/10+"M":"0"},k=function(e){var t=new Date(e).getTime(),n="";if((new Date).getFullYear()===Number(new Date(t).format("yyyy"))){var a=(new Date).format("yyyy/MM/dd"),r=new Date(a).getTime(),i=r-864e5,c=new Date(t).format("hh:mm");n=t>=r?"\u4eca\u5929 "+c:t<r&&t>=i?"\u6628\u5929 "+c:new Date(t).format("MM-dd hh:mm")}else n=e.split(" ")[0];return n};Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var M=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===n?null===(i=null===t||void 0===t?void 0:t.querySelectorAll("pre[data-lang]"))||void 0===i||i.forEach((function(e){var t=e.querySelector("code");t&&(t.classList.add("language-".concat(e.getAttribute("data-lang"))),_.a.highlightElement(t))})):2===a?null===(c=null===t||void 0===t?void 0:t.querySelectorAll("pre"))||void 0===c||c.forEach((function(e){var t=e.querySelector("code");t&&(e.classList.add("hljs-wrapper"),_.a.highlightElement(t))})):((null===t||void 0===t?void 0:t.querySelectorAll("pre[class^=brush]"))||[]).forEach((function(e){return _.a.highlightElement(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},274:function(e,t,n){"use strict";n(102);var a=n(49),r=n(33),i=(n(74),n(12)),c=n(8),o=n(6),s=(n(173),n(81)),l=n(0),u=n.n(l),E=n(25),m=n(180),d=n(21),_=n(9),f=n(3),p=n.n(f),O=(n(1393),s.a.TextArea),h=[{type:"view",key:"view_auth",name:"VIEWING_PERMISSION"},{type:"edit",key:"edit_auth",name:"EDIT_PERMISSION"}];t.a=function(e){var t=e.visible,n=e.onOk,f=e.onCancel,T=e.parentId,N=e.wikiId,g=Object(d.a)(d.c),S=Object(l.useState)({}),I=Object(o.a)(S,2),b=I[0],C=I[1],v=Object(l.useState)(!1),A=Object(o.a)(v,2),R=A[0],y=A[1];Object(l.useEffect)((function(){t&&(T?E.b.getCateDetail(T).then((function(e){C({edit:e.edit_authorities.authorities.edit_template,view:e.view_authorities.authorities.view_template})})):(E.b.getAuthCate({wiki_id:N}).then((function(e){C((function(t){return Object(c.a)(Object(c.a)({},t),{},{edit:e.authorities.resource_publish})}))})),E.b.getAuthCateView({wiki_id:N}).then((function(e){C((function(t){return Object(c.a)(Object(c.a)({},t),{},{view:e.authorities.view})}))}))))}),[t,T]);var L=function(e,t){C(Object(c.a)(Object(c.a)({},b),{},Object(r.a)({},e,t)))},D=function(e,t){C(Object(c.a)(Object(c.a)({},b),{},Object(r.a)({},e,t)))};return u.a.createElement(a.a,{title:g("home.MENU.NEW_CATEGORY"),visible:t,onOk:function(){if(b.name&&Math.ceil(Object(_.c)(b.name)/2)>50)return i.b.error("\u540d\u79f0\u8d85\u957f");if(b.abstractInfo&&Math.ceil(Object(_.c)(b.abstractInfo)/2)>100)return i.b.error("\u540d\u79f0\u8d85\u957f");var e={};h.forEach((function(t){var n=t.type,a=b[n]||{};a.public?e["".concat(n,"Public")]=!0:(e["".concat(n,"Public")]=!1,e["".concat(n,"Authorities")]=(a.authorities||[]).map((function(e){return e.type+"-"+(e.id||"0")})))})),e.name=b.name,e.parentId=T,e.categoryType=0,e.abstractInfo=b.abstractInfo,e.wikiId=N,y(!0),E.b.addCateDetail(e,N).then((function(e){i.b.success(g("category.NEW_CATEGORY_SUCCESS")),y(!1),C({}),n(e)})).catch((function(e){y(!1),i.b.error(e.message)}))},onCancel:function(){f()},wrapClassName:"modal-add-cate",okButtonProps:{disabled:!b.name||R}},u.a.createElement("div",null,u.a.createElement("div",{className:"form-item"},u.a.createElement("p",{className:"required"},g("category.NAME")),u.a.createElement(s.a,{placeholder:g("category.INPUT_CATE_NAME"),value:b.name,onChange:function(e){return D("name",e.target.value)}}),u.a.createElement("span",{className:p()("input-num",{"input-num_error":b.name&&Math.ceil(Object(_.c)(b.name)/2)>50})},b.name?Math.ceil(Object(_.c)(b.name)/2):0,"/50")),u.a.createElement("div",{className:"form-item"},u.a.createElement("p",null,g("create.DEFAULT_INFO.INTRO")),u.a.createElement(O,{placeholder:g("category.ENTER_PROFILE"),value:b.abstractInfo,onChange:function(e){return D("abstractInfo",e.target.value)}}),u.a.createElement("span",{className:p()("input-num",{"input-num_error":b.abstractInfo&&Math.ceil(Object(_.c)(b.abstractInfo)/2)>100})},b.abstractInfo?Math.ceil(Object(_.c)(b.abstractInfo)/2):0,"/100")),u.a.createElement("div",{className:"form-item"},u.a.createElement("p",null,g("category.VIEW_PERMISSION")),u.a.createElement(m.a,{value:b.view,onOk:function(e){return L("view",e)}})),u.a.createElement("div",{className:"form-item"},u.a.createElement("p",null,g("category.EDIT_PERMISSION")),u.a.createElement(m.a,{value:b.edit,onOk:function(e){return L("edit",e)}}))))}},283:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(3),c=n.n(i),o=(n(1696),function(e){var t=e.text,n=e.color;return r.a.createElement("div",{className:"wiki-list-title"},r.a.createElement("h1",{className:"wiki-list-title__text"},t),r.a.createElement("div",{className:c()("wiki-list-title__background-line",n)}))});o.defaultProps={text:"",color:""},t.a=o},285:function(e,t,n){"use strict";n(102);var a=n(49),r=n(8),i=n(0),c=n.n(i),o=n(3),s=n.n(o),l=(n(488),n(18)),u=(n(161),n(80)),E=(n(247),n(69)),m=(n(651),n(214)),d=(n(85),n(39)),_=(n(84),n(30)),f=(n(74),n(12)),p=n(6),O=n(92),h=n(25),T=n(9),N=n(108),g=n(21),S=function(e){var t=e.onSelectedCheck,n=e.catePageId,a=Object(O.h)(),r=Object(T.t)()?Object(T.k)("wiki"):a.site,o=Object(g.a)(g.c),u=Object(i.useState)(!0),E=Object(p.a)(u,2),S=E[0],I=E[1],b=Object(i.useState)(!1),C=Object(p.a)(b,2),v=C[0],A=C[1],R=Object(N.a)([]),y=Object(p.a)(R,2),L=y[0],D=y[1];Object(T.B)((function(){n?h.b.getCateDetail(n,50).then((function(e){if(e){var t=e.children.list.map((function(e){return e.key=e.id,e.title=e.name,e.has_children||(e.isLeaf=!0),e}));e.children.total>50&&e.children.list.length<=50&&t.push({title:c.a.createElement(_.a,{style:{margin:0,padding:0},type:"link",loading:v,onClick:function(){A(!0),h.b.getWikiMenu(r).then((function(e){if(A(!1),e){var t=e.list.map((function(e){return e.key=e.id,e.title=e.name,e.has_children||(e.isLeaf=!0),e}));D((function(){return t}))}})).catch((function(e){A(!1),f.b.error(e.message)}))}},o("home.MENU.LOAD_MORE")),key:"more",isLeaf:!0}),D((function(){return t})),I(!1)}})).catch((function(e){I(!1),f.b.error(e.message)})):h.b.getWikiMenu(r,50).then((function(e){if(e){var t=e.list.map((function(e){return e.key=e.id,e.title=e.name,e.has_children||(e.isLeaf=!0),e}));e.total>50&&e.list.length<=50&&t.push({title:c.a.createElement(_.a,{style:{margin:0,padding:0},type:"link",loading:v,onClick:function(){A(!0),h.b.getWikiMenu(r).then((function(e){if(A(!1),e){var t=e.list.map((function(e){return e.key=e.id,e.title=e.name,e.has_children||(e.isLeaf=!0),e}));D((function(){return t}))}})).catch((function(e){A(!1),f.b.error(e.message)}))}},o("home.MENU.LOAD_MORE")),key:"more",isLeaf:!0}),D((function(){return t})),I(!1)}})).catch((function(e){I(!1),f.b.error(e.message)}))}));return c.a.createElement("div",{className:s()("auth-sync__menu")},S?c.a.createElement(d.a,{spinning:!0,style:{margin:"80px auto",textAlign:"center",width:"100%"}}):c.a.createElement(c.a.Fragment,null,L.length?c.a.createElement(m.a,{loadData:function(e){return new Promise((function(t){e.children?t():h.b.getCateDetail(e.id,50).then((function(n){e.children=n.children.list?n.children.list.map((function(e){return e.key=e.id,e.title=e.name,e.has_children||(e.isLeaf=!0),e})):[],D((function(t){!function t(a){return a.map((function(a){return a.id===e.id?(a.children=e.children,n.children.total>50&&n.children.list.length<=50&&a.children.push({title:c.a.createElement(_.a,{style:{margin:0,padding:0},type:"link",loading:v,onClick:function(){A(!0),h.b.getCateDetail(e.id).then((function(t){A(!1),e.children=t.children.list?t.children.list.map((function(e){return e.key=e.id,e.title=e.name,e.has_children||(e.isLeaf=!0),e})):[],D((function(t){!function t(n){return n.map((function(n){return n.id===e.id?n.children=e.children:n.children&&t(n.children),n}))}(t)}))})).catch((function(e){A(!1),f.b.error(e.message)}))}},o("home.MENU.LOAD_MORE"),"(",n.children.total-50,")"),key:"more".concat(e.id),isLeaf:!0,checkable:!1})):a.children&&t(a.children),a}))}(t)})),t()}))}))},treeData:L,checkable:!0,onCheck:t}):c.a.createElement("div",{style:{textAlign:"center",margin:"20px 0"}},c.a.createElement(l.a,{type:"ii-empty-site"}),c.a.createElement("span",{style:{display:"block",fontSize:"small"}},"\u65e0\u8d44\u6e90"))))},I=function(e){var t=e.radioValue,n=e.onRadioChange,a=e.onSelectedCheck,r=e.isOnlyAdd,i=e.catePageId,o=e.isCatePage,s=Object(g.a)(g.c);return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.Group,{onChange:n,value:t,style:{margin:"20px 0"}},c.a.createElement(E.a,{value:1},s("home.MODEL_AUTH.SYNC_RADIO_ONE")),c.a.createElement(u.a,{dashed:!0,style:{margin:"15px 0"}}),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{value:2},s("home.MODEL_AUTH.SYNC_RADIO_TWO",{name:o?"\u5206\u7c7b":"\u7ad9\u70b9"})),c.a.createElement("br",null),c.a.createElement(E.a,{value:3},s("home.MODEL_AUTH.SYNC_RADIO_THREE",{name:o?"\u5206\u7c7b":"\u7ad9\u70b9"})),3===t&&c.a.createElement(S,{onSelectedCheck:a,catePageId:i}),c.a.createElement(u.a,{dashed:!0,style:{margin:"15px 0"}})),c.a.createElement(E.a,{value:4},s("home.MODEL_AUTH.SYNC_RADIO_FOUR",{name:o?"\u5206\u7c7b":"\u7ad9\u70b9"})),c.a.createElement("br",null),c.a.createElement(E.a,{value:5},s("home.MODEL_AUTH.SYNC_RADIO_FIVE",{name:o?"\u5206\u7c7b":"\u7ad9\u70b9"})),5===t&&c.a.createElement(S,{onSelectedCheck:a,catePageId:i})))};t.a=function(e){var t=e.visible,n=e.onOk,i=e.onCancel,o=e.value,u=e.onChange,E=e.authType,m=e.radioValue,d=e.onRadioChange,_=e.onSelectedCheck,f=e.confirmLoading,p=e.isOnlyAdd,O=e.isCatePage,h=void 0!==O&&O,T=e.catePageId,N=Object(g.a)(g.c);return c.a.createElement(c.a.Fragment,null,c.a.createElement(a.a,{visible:t,title:N("home.MODEL_AUTH.SETTING_PERMISSIONS",{authType:E}),width:800,centered:!0,destroyOnClose:!0,okText:N("member.CONFIRM"),cancelText:N("member.CANCEL"),className:"auth-sync",onCancel:i,confirmLoading:f,onOk:n},c.a.createElement("div",{className:"auth-sync__display"},o.public?c.a.createElement("span",{className:s()("auth-sync__item")},N("home.MODEL_AUTH.MUTUAL_STAFF")):o.authorities&&o.authorities.length>0?o.authorities.map((function(e){return c.a.createElement("span",{key:e.type+e.id,className:s()("auth-sync__item",e.older?"":"auth-sync__item--blue")},e.selected_name||e.name,!h&&c.a.createElement(l.a,{type:"icon-cha2x",onClick:function(){return function(e){var t=o.authorities.filter((function(t){return t.type!==e.type||t.id!==e.id}));u&&u(Object(r.a)(Object(r.a)({},o),{},{authorities:t}))}(e)}}))})):c.a.createElement("span",{className:s()("auth-sync__item")}),!h&&c.a.createElement("button",{onClick:function(){u&&u(Object(r.a)(Object(r.a)({},o),{},{authorities:[]}))},className:s()("auth-sync__display-btn",{"auth-sync__display-btn--disabled":!o.authorities||!o.authorities.length})},N("member.EMPTY"))),c.a.createElement("span",{className:"auth-sync__describe"},N("home.MODEL_AUTH.SYNC_TEXT")),c.a.createElement("p",null,N("home.MODEL_AUTH.SYNC_TIPS",{name:E})),c.a.createElement(I,{isCatePage:h,catePageId:T,isOnlyAdd:p,radioValue:m,onRadioChange:d,onSelectedCheck:_})))}},361:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n(9);t.default=function(e){var t=Object(i.n)().site,n=Object(i.k)((function(e){return e.pwiki})).fetchWikiSite,a=Object(i.k)((function(e){return e.config})).handleMenuClose,o=Object(i.q)((function(e){return e.user.info}));return Object(i.p)((function(){var e=c.y.get("wikiside_".concat(t,"_").concat(o.id));console.log("sideVisible",e,typeof e),a(!!e),n(t)}),[t]),r.a.createElement("div",{className:"app-site"},e.children)}},373:function(e,t,n){"use strict";n.r(t);n(74);var a=n(12),r=(n(84),n(30)),i=n(0),c=n.n(i),o=n(92),s=n(18),l=n(255),u=n(765),E=n(19),m=n(100),d=n(9),_=n(87);n(717);t.default=function(){var e=Object(m.c)(),t=Object(o.h)().site,n=Object(E.l)(),i=Object(E.q)((function(e){return e.pwiki.site})),f=Object(E.q)((function(e){return e.pwiki.siteError})),p=i?i.wiki:null;return Object(d.A)({type:"outline",site:i}),f&&4003===f.status?c.a.createElement("div",{className:"poutline poutline__noauth"},c.a.createElement(_.b,{desc:e.get("home.GLOBAL.NO_AUTH_ACCESS")})):c.a.createElement("section",{className:"poutline"},c.a.createElement("div",{className:"poutline__container"},c.a.createElement("div",{className:"poutline__center"},p&&c.a.createElement("div",{className:"poutline__header"},c.a.createElement("img",{src:p.image_url,alt:"logo",width:"98px",height:"98px",style:{borderRadius:"50%",border:"4px solid white"}}),c.a.createElement("h1",null,e.EN?p.name_en||p.name:p.name||p.name_en),c.a.createElement("p",null,p.abstract_info),c.a.createElement("div",null,c.a.createElement(r.a,{className:"poutline__goSiteBtn",onClick:function(){return n.push({pathname:"/wiki/".concat(t)})}},c.a.createElement(s.a,{type:"icon-dagangshitu2x"}),e.get("home.OUTLINE.SITE_HOME")),c.a.createElement(u.CopyToClipboard,{text:window.location.href,onCopy:function(){return a.b.success({content:e.get("home.OUTLINE.SHARE_TOAST"),duration:1.5})}},c.a.createElement(r.a,{className:"poutline__shareBtn"},c.a.createElement(s.a,{type:"icon-fenxiang2x"}),e.get("home.OUTLINE.SHARE"))))),c.a.createElement("div",{className:"poutline__tree"},c.a.createElement(l.default,null)))))}},374:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);n(718);t.default=function(){return r.a.createElement("div",null,"PPageError")}},375:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);n(719);t.default=function(){return r.a.createElement("div",null,"PPageNotFound")}},376:function(e,t,n){"use strict";n.r(t);n(102);var a=n(49),r=(n(1704),n(774)),i=(n(485),n(211)),c=(n(161),n(80)),o=n(57),s=(n(74),n(12)),l=(n(512),n(181)),u=(n(84),n(30)),E=(n(85),n(39)),m=(n(173),n(81)),d=n(129),_=n.n(d),f=n(8),p=n(6),O=n(0),h=n.n(O),T=n(92),N=n(108),g=n(87),S=n(18),I=n(1734),b=n(71),C=n(19),v=n(65),A=n(9),R=n(416),y=n.n(R),L=n(766),D=n.n(L),k=n(47),M=n.n(k);n(720);t.default=function(){var e=Object(O.useState)(null),t=Object(p.a)(e,2),n=t[0],d=t[1],R=Object(T.h)().site,L=(Object(C.l)(),Object(b.d)((function(e){return e.pwiki.site}))),k=Object(b.d)((function(e){return e.pwiki.siteError})),w=Object(b.d)((function(e){return e.config.recycleChanged})),j=Object(b.c)().config.handleRecoverParentId;Object(A.A)({type:"recycle",site:L});var U=Object(O.useState)(void 0),P=Object(p.a)(U,2),x=P[0],F=P[1],H=Object(O.useState)(""),Y=Object(p.a)(H,2),G=Y[0],V=Y[1],W=Object(O.useState)(null),B=Object(p.a)(W,2),K=B[0],z=B[1],q=Object(O.useState)([]),X=Object(p.a)(q,2),J=X[0],Q=X[1],Z=Object(N.a)({}),$=Object(p.a)(Z,2),ee=$[0],te=$[1],ne=Object(O.useState)(!1),ae=Object(p.a)(ne,2),re=ae[0],ie=ae[1];Object(O.useEffect)((function(){ce()}),[w]);var ce=function(e,t){ie(!0);var n=1;if(e){var a=e.current;n=a}var r=e&&e.pageSize||10;v.b.getRecycleList(R,Object(f.a)({page:n,page_size:r},t)).then((function(e){if(e.list&&e.total>=0){te((function(t){t.total=e.total,t.current=n,t.pageSize=r}));var a=e.list.map((function(e){return e.key=e.id,e.created_by_name=e.author&&e.author.name,e.delete_operator_name=e.deleted_by&&e.deleted_by.name,e}));Q(a),t&&t.keyword?V(t.keyword):V("")}ie(!1),d(null)})).catch((function(e){ie(!1),d({status:e.code,message:e.message})}))},oe=function(){var e=K?{create_by_id:K.created_by_name?K.created_by_name[0].id:void 0,delete_by_id:K.delete_operator_name?K.delete_operator_name[0].id:void 0}:{};ce(ee,Object(f.a)({keyword:x},e))},se=Object(O.useState)([]),le=Object(p.a)(se,2),ue=le[0],Ee=le[1],me=Object(O.useState)(!1),de=Object(p.a)(me,2),_e=de[0],fe=de[1],pe=Object(O.useState)(1),Oe=Object(p.a)(pe,2),he=Oe[0],Te=Oe[1],Ne=Object(O.useState)(1),ge=Object(p.a)(Ne,2),Se=ge[0],Ie=ge[1],be=Object(O.useState)(""),Ce=Object(p.a)(be,2),ve=Ce[0],Ae=Ce[1],Re=Object(O.useState)(!1),ye=Object(p.a)(Re,2),Le=ye[0],De=ye[1],ke=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];fe(!0);var r=t||he,i=e||Se;v.b.getRecycleAuthors(R,i,r,n).then((function(e){if(fe(!1),e){if(Te(t?t+1:he+1),a){var n=ue.concat(e.list);Ee(n)}else Ee(e.list);e.list.length?De(!0):De(!1)}}))},Me=Object(O.useRef)(!1),we=_()((function(e,t){var n="created_by_name"===t?1:2;Ie(n),e?ke(n,1,e.trim()):ke(n,1)}),240),je=function(e,t){if("compositionstart"!==e.type){var n=e.target.value;Ae(n),"compositionend"===e.type&&(Me.current=!1),Me.current||we(n,t)}else Me.current=!0},Ue=function(){ke(Se,he,ve,!0)},Pe=function(e){return{filterDropdown:function(t){var n=t.confirm,a=t.setSelectedKeys,r=t.clearFilters;return h.a.createElement("div",{className:"precycle-filter__drop"},h.a.createElement("div",{style:{padding:"0 16px"}},h.a.createElement(m.a,{prefix:h.a.createElement(S.a,{type:"icon-sousuo"}),placeholder:"".concat(M.a.get("home.RECYCLE.SEARCH")," ")+"".concat("created_by_name"===e?M.a.get("home.RECYCLE.CREATOR"):M.a.get("home.RECYCLE.DELETOR")),className:"precycle-filter__input",onChange:function(t){return je(t,e)},value:ve,allowClear:!0,onCompositionStart:function(t){return je(t,e)},onCompositionEnd:function(t){return je(t,e)}})),h.a.createElement("div",{className:"precycle-filter__list",id:"recycle-user-infinite"},ue.length?h.a.createElement(y.a,{initialLoad:!1,pageStart:1,loadMore:Ue,hasMore:!_e&&Le,key:he,threshold:5,getScrollParent:function(){return document.getElementById("recycle-user-infinite")},useWindow:!1},h.a.createElement(l.b,{itemLayout:"horizontal",dataSource:ue,renderItem:function(e){return h.a.createElement(l.b.Item,{key:e.id},h.a.createElement(u.a,{className:"precycle-filter__btn",type:"text",onClick:function(){return function(e,t,n){n([e]),t(),Ae("")}(e,n,a)}},e.name))}},_e&&Le&&h.a.createElement(E.a,{style:{width:"100%",textAlign:"center",position:"relative",top:-20}}))):h.a.createElement(E.a,{spinning:_e,style:{width:"100%",textAlign:"center",margin:"70px 0"}})),h.a.createElement("div",{style:{width:"100%",textAlign:"center",position:"relative",top:10}},h.a.createElement(u.a,{className:"precycle-filter__reset",type:"link",onClick:function(){r(),z(null)}},h.a.createElement(S.a,{type:"icon-cha2x"}))))},filterIcon:function(){return h.a.createElement(S.a,{type:"icon-xiala",style:{fontSize:16}})},onFilterDropdownVisibleChange:function(t){t&&(Ee([]),ke("created_by_name"===e?1:2,1))}}},xe=Object(O.useState)(!1),Fe=Object(p.a)(xe,2),He=Fe[0],Ye=Fe[1],Ge=Object(O.useState)([]),Ve=Object(p.a)(Ge,2),We=Ve[0],Be=Ve[1],Ke=Object(O.useState)(void 0),ze=Object(p.a)(Ke,2),qe=ze[0],Xe=ze[1],Je=Object(O.useState)(null),Qe=Object(p.a)(Je,2),Ze=Qe[0],$e=Qe[1],et=Object(I.a)(0,{min:0,max:3}),tt=Object(p.a)(et,2),nt=tt[0],at=tt[1].set,rt=Object(O.useState)(null),it=Object(p.a)(rt,2),ct=it[0],ot=it[1],st=function(e,t,n){Ye(!0),$e(e);var a=e.parent_id?e.parent_id:null;v.b.applyRecover(R,Object(f.a)({wiki_page_id:e.id,cat_id:a},n)).then((function(e){ot(e),at(e.recover_status),3===e.recover_status?lt():(0===t&&te((function(e){e.current=1===e.current?e.current:e.current-1})),e.parent_category_id?j(e.parent_category_id):j(null))}))},lt=function(){v.d.getWikiMenu(R).then((function(e){if(e){var t=_t(e.list);Be(t)}return null})).catch((function(e){return s.b.error(e.message),null}))},ut=function(e){var t=e[e.length-1];t.loading=!0,console.log("targetOption",t),v.d.getCateDetail(t.id).then((function(e){if(e){var n=_t(e.children.list);t.children=n,t.loading=!1,Be(Object(o.a)(We))}})).catch((function(e){t.loading=!1,s.b.error(e.message)}))},Et=function(e){Xe(e[e.length-1])},mt=function(){Ye(!1),3!==nt?window.open(Ze.view_url_string):st(Ze,1,{cat_id:qe})},dt=function(){Ye(!1),at(0),ot(null),$e(null);var e=K?{create_by_id:K.created_by_name?K.created_by_name[0].id:void 0,delete_by_id:K.delete_operator_name?K.delete_operator_name[0].id:void 0}:{};ce(ee,Object(f.a)({keyword:x},e))},_t=function(e){return e.forEach((function(e){e.value=e.id,e.label=e.name,e.has_children?e.isLeaf=!1:e.isLeaf=!0})),e},ft=[{title:M.a.get("home.RECYCLE.TITLE"),dataIndex:"name",key:"name",ellipsis:!0,render:function(e){return G?h.a.createElement(D.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[G],autoEscape:!0,textToHighlight:e?e.toString():""}):e}},Object(f.a)({title:M.a.get("home.RECYCLE.CREATOR"),dataIndex:"created_by_name",key:"created_by_name",width:"\u82f1\u8bed"===M.a.get("en")?210:200,ellipsis:!0},Pe("created_by_name")),Object(f.a)({title:M.a.get("home.RECYCLE.DELETOR"),dataIndex:"delete_operator_name",key:"delete_operator_name",width:"\u82f1\u8bed"===M.a.get("en")?230:200,ellipsis:!0},Pe("delete_operator_name")),{title:M.a.get("home.RECYCLE.DELETE_TIME"),dataIndex:"deleted_at",key:"deleted_at",width:210,ellipsis:!0},{title:M.a.get("home.RECYCLE.ACTIONS"),dataIndex:"operation",key:"operation",width:80,align:"center",render:function(e,t,n){return h.a.createElement("button",{onClick:function(){return st(t,n)}},M.a.get("home.RECYCLE.RESTORE"))}}];return L&&!L.allow_manage||k&&4003===k.status||n&&4003===n.status?h.a.createElement("div",{className:"precycle precycle__noauth"},h.a.createElement(g.b,{desc:M.a.get("home.GLOBAL.NO_AUTH_ACCESS")})):h.a.createElement("section",{className:"precycle"},h.a.createElement("div",{className:"precycle__header"},h.a.createElement("div",{className:"precycle__title"},M.a.get("home.RECYCLE.RECYCLE_BIN")),h.a.createElement(m.a,{placeholder:M.a.get("home.RECYCLE.SEARCH_TITLE"),className:"precycle__search",prefix:h.a.createElement(S.a,{onClick:function(){return oe()},type:"icon-sousuo"}),onChange:function(e){return e.target.value?F(e.target.value):F(void 0)},onPressEnter:function(){return oe()}})),h.a.createElement("div",{className:"precycle__container"},h.a.createElement(r.a,{columns:ft,dataSource:J,pagination:Object(f.a)(Object(f.a)({},ee),{},{hideOnSinglePage:!0}),loading:re,onChange:function(e,t){z(t);var n={keyword:x||void 0,create_by_id:t.created_by_name?t.created_by_name[0].id:void 0,delete_by_id:t.delete_operator_name?t.delete_operator_name[0].id:void 0};console.log("----",e),ce(e,n)}}),h.a.createElement(a.a,{title:1===nt||2===nt?M.a.get("home.RECYCLE.RESTORE_SUCCESSFUL"):3===nt?M.a.get("home.RECYCLE.CHOOSE_LOCATION"):"",width:420,centered:!0,className:"precycle__modal",bodyStyle:{paddingTop:0},visible:He,footer:0===nt?null:[h.a.createElement(u.a,{key:"back",onClick:dt},M.a.get("home.RECYCLE.CANCEL")),h.a.createElement(u.a,{key:"submit",type:"primary",onClick:mt},1===nt||2===nt?M.a.get("home.RECYCLE.VIEW"):M.a.get("home.RECYCLE.CONFIRM"))],onOk:mt,onCancel:dt},0===nt?h.a.createElement(E.a,{style:{width:"100%",textAlign:"center",margin:"50px 0 20px 0"},tip:"\u6062\u590d\u4e2d...",spinning:!0}):function(){switch(nt){case 1:return ct&&h.a.createElement("div",null,h.a.createElement(c.a,{style:{margin:"0 0 16px 0"}}),h.a.createElement("div",null,M.a.get("home.RECYCLE.RECOVERED_PATH"),"\u201c",ct.page_path?ct.page_path:"\u6839\u76ee\u5f55","\u201d"));case 2:return ct&&h.a.createElement("div",null,h.a.createElement(c.a,{style:{margin:"0 0 16px 0"}}),h.a.createElement("div",null,M.a.get("home.RECYCLE.ENTRY"),"\u201c",ct.page_name,"\u201d",M.a.get("home.RECYCLE.RESTORED_TO"),"\u201c",ct.page_path?ct.page_path:"\u6839\u76ee\u5f55","\u201d"));case 3:return h.a.createElement("div",{className:"restore-selected"},h.a.createElement(c.a,{style:{margin:"0 0 16px 0"}}),h.a.createElement("div",null,M.a.get("home.RECYCLE.ORIGIN_NOT")),We.length?h.a.createElement(i.a,{options:We,suffixIcon:h.a.createElement(S.a,{type:"icon-xiala",style:{fontSize:"16px",position:"absolute"}}),onChange:Et,loadData:ut,className:"restore-selected__sortBtn",placeholder:M.a.get("home.RECYCLE.SELECT_LOCATION"),changeOnSelect:!0}):h.a.createElement(E.a,{style:{width:"100%",margin:"10px 0",textAlign:"center"},spinning:0===We.length},h.a.createElement(i.a,{className:"restore-selected__sortBtn",suffixIcon:h.a.createElement(S.a,{type:"icon-xiala",style:{fontSize:"16px",position:"absolute"}})})));default:return}}())))}},377:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),i=n.n(r),c=n(19),o=n(18),s=n(65),l=n(100),u=n(529),E=n.n(u),m=(n(1727),n(1728),n(723),function(e){var t=e.onClick,n=e.currentSlide;return e.page!==n&&i.a.createElement("div",{className:"psites__next",onClick:t},i.a.createElement(o.a,{type:"icon-jiantouyou",style:{color:"#45D4C5"}}))}),d=function(e){var t=e.onClick;return 0!==e.currentSlide&&i.a.createElement("div",{className:"psites__prev",onClick:t},i.a.createElement(o.a,{type:"icon-jiantouzuo",style:{color:"#45D4C5"}}))};t.default=function(){var e=Object(l.c)(),t=Object(c.q)((function(e){return e.user.wikis})),n=Object(r.useState)([]),u=Object(a.a)(n,2),_=u[0],f=u[1],p=Object(r.useState)([]),O=Object(a.a)(p,2),h=O[0],T=O[1],N=Object(r.useState)(!1),g=Object(a.a)(N,2),S=g[0],I=g[1],b=Object(r.useState)(0),C=Object(a.a)(b,2),v=C[0],A=C[1],R=Object(c.l)();Object(c.o)((function(){s.c.getViewedRecently().then((function(e){if(e){var t=e.slice(0,20);T(t)}}))})),Object(r.useEffect)((function(){if(t){var e=~~(t.length/10)-1;A(e),f(t)}}),[t]);var y={className:"psite__slide",infinite:!1,speed:500,rows:2,slidesPerRow:5,nextArrow:i.a.createElement(m,{page:v}),prevArrow:i.a.createElement(d,null)},L={className:"psite__slide",infinite:!1,speed:500,slidesPerRow:5,nextArrow:i.a.createElement(m,{page:3}),prevArrow:i.a.createElement(d,null)};return i.a.createElement("div",{className:"psites"},!S&&i.a.createElement("div",{className:"psites__tips"},i.a.createElement(o.a,{type:"icon-cha2x",className:"psites__tips-icon",onClick:function(){return I(!0)}}),i.a.createElement("p",null,e.get("home.GLOBAL.PSITE_TIPS"))),i.a.createElement("section",{className:"psites__container"},i.a.createElement("div",{className:"psites__title"},e.get("home.GLOBAL.MANAGE_WIKI")),i.a.createElement("div",{className:"psites__content"},i.a.createElement(E.a,y,_&&0!==_.length?_.map((function(e){return i.a.createElement("div",{key:e.id,className:"psites__card",onClick:function(){return R.push({pathname:"/wiki/".concat(e.id)})}},i.a.createElement("img",{src:e.image_url,alt:"site"}),i.a.createElement("span",{title:e.name},e.name))})):i.a.createElement("div",null,e.get("history.NONE"))))),i.a.createElement("section",{className:"psites__container"},i.a.createElement("div",{className:"psites__title"},e.get("home.GLOBAL.VIEWED_WIKI")),i.a.createElement("div",{className:"psites__content"},i.a.createElement(E.a,L,h&&0!==h.length?h.map((function(e){return i.a.createElement("div",{key:e.id,className:"psites__card",onClick:function(){return R.push({pathname:"/wiki/".concat(e.id)})}},i.a.createElement("img",{src:e.image_url,alt:"site"}),i.a.createElement("span",{title:e.name},e.name))})):i.a.createElement("div",null,e.get("history.NONE"))))))}},378:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o=n(0),s=n.n(o),l=n(19),u=(n(161),n(80)),E=(n(85),n(39)),m=(n(74),n(12)),d=n(6),_=n(3),f=n.n(_),p=n(87),O=(n(84),n(30)),h=(n(102),n(49)),T=(n(362),n(208)),N=(n(246),n(105)),g=n(92),S=(n(245),n(133)),I=n(8),b=n(10),C=n.n(b),v=n(22),A=n(83),R=n(727),y=n(9),L=n(33),D="/team_space",k=(a={},Object(L.a)(a,"Blog","\u6587\u7ae0"),Object(L.a)(a,"Attachment","\u6587\u6863"),Object(L.a)(a,"Topic","\u4e13\u9898"),Object(L.a)(a,"Qa","\u4e50\u95ee"),Object(L.a)(a,"WikiPage","Wiki"),Object(L.a)(a,"Gallery","\u56fe\u7247"),function(e){return"/km3/wiki_pages/".concat(e)}),M=(n(485),n(211)),w=(n(174),n(61)),j=(n(247),n(69)),U=(n(1467),"zh-CN"),P="en",x=~[U,P].indexOf(navigator.language)?navigator.language:U,F=(r={},Object(L.a)(r,P,{en:"\u82f1\u8bed",article:{MENU:"Menu"},res:{NO_AUTH_RES:"You do not have permission to view, please contact the author if you have any questions",SHARE_POPO:"Share to POPO Horizon",SORT:"Sort",KM_APP_QR:"KM APP QR",ADJUSTMENT_ATTRIBUTION:"Adjustment attribution",SWITCH_VIEWS:"Switch views",CITATION:"Citation",HISTORIC_VERSION:"Historic version",VIEW_ON_YOUR_PHONE:"View on your phone",SITE_SHARED:"Site shared",RECOMMEND_READING:"Recommend to essential reading",DELETE:"Delete",THIS_FOLLOWING_USERS:"This article is only open to the following users, please protect content confidentiality",VIEWING_PERMISSION:"Viewing permission",DOWNLOAD_PERMISSION:"Download permission",EDIT_PERMISSION:"Edit permission",ORIGINAL:"Original",STATEMENTL:"*This content expresses personal opinions and does not represent the views or opinions of NetEase Games. Intended for internal sharing and communication only. Do not disseminate in any form, or risk being held liable.",SECURITY:"This file is intended for NetEase employees only.  Please do not share any of this content outside of the company.",FURTHER_READING:"Further reading",NO_FURTHER_READING_ADDED:"No further reading added",ADD_FURTHER_READING:"Add further reading",TABLE_OF_CONTENT:"Table of Content",POINTS:"points",LIKES:"Likes",ANONYMOUS:"Anonymous",COMMENT:"Comment",ALL_COMMENTS:"All comments",FIRST_TO_COMMENT:"Come and be the first to comment!",COMMENT_NO_EMPTY:"Comments can't be empty~",REPLY:"Reply",CONFIRM_DELETE_RESOURCE:"Confirm to delete linked resource?",SUCCESSFULLY_DELETED:"Successfully deleted",CONFIRM_DEL_RESOURCE:"Confirm to delete this resource?",TOP_SUCCESS:"Pinned",CANCELLED:"Unpinned",CANCEL_SUCCESS:"Cancelled",RECOMMENDED_SUCCESS:"Recommended",REFERENCE_TO_OTHER_LOCATIONS:"Link to other locations",CANCEL_THE_ESSENTIALS:"Cancel recommendation",CANCEL_SITE_RECOMMENDATION:"Cancel site frontpage recommendation",EDIT:"Edit",RECOMMENDED_HOME_PAGE:"Recommend to site frontpage",TOP:"Pin to top",PINNED:"Pinned",CANCEL:"Cancel",EXPORT_TO_PDF:"Export to PDF",DEMO_MODE:"Demo mode",AUTHOR_ONLY:"Author only",public_all_for_km:"All NetEase employees (IEG & non-IEG)",EXPAND_PERMISSIONS:"Expand permissions",ATTACHMENT:"Attachment",REPRINT:"Repost",COLLAPSE:"Collapse",POSTED_ON:"Posted on ",IN_TOTAL:"{num} in total",MANAGE_PINNED_CONTENT:"Manage pinned content",NO_QUALITY_RESOURCES:"No quality resources",BEEN_LOCKED_CONTACT:"The current version has been locked. If necessary, please contact ",CONTACT_TA:"Contact TA",OTHER_COLLABORATE:function(e){return"and other ".concat(e.num," people collaborate")},AFTER_LOCKING_VERSION:"*After locking the version, you need to unlock to re-edit",LOCK_CURRENT_VERSION:"Lock the current version",CURRENT_VERSION_LOCKED:"The current version is locked",CURRENT_LOCKED_BY:"The current version has been locked by {name}",CLICK_TO_UNLOCK:"Click to unlock",UNLOCK:"Unlock",LOCK_VERSION:"Locked version",reward:{YOU_REWARD_TO_AUTHOR:"The points you tip will be sent to the author.",POINTS_PER_DAY:"Can tip up to 100 points per day",REWARD_DEDUCT_POINTS:"Tipping will use your own points",POINTS_REDEEMED:"Points can be redeemed for prizes",CANT_REWARD:"Can't tip your own article",POINTS_USED_UP:"You have used up points for today, please come back tomorrow.",CURRENTLY_RECEIVING:"Currently received tips from {person} people, total {point, plural, =0 {(no point)} =1 {(one point)} other {(# points)}}",LIKE_THIS_ARTICLE:"really likes this article and have rewarded {num, plural, =0 {(no point)} =1 {(one point)} other {(# points)}}",NO_ENOUGH_POINT:"Your don't have enough KM points~",THE_FIRST:"Be the first person to tip the author~",NO_ONE:"No one has tipped yet"},related:{ETC:" etc.",_ETC:"",NUMBER_OF_RESOURCES:"Number of resources",PAGEVIEWS:"Pageviews",INCLUSION:"Included in topics"},extend:{URL_INCORRECT:"URL format is incorrect. Please refill",DELETE_EXTENDED:"Remove further reading",DELETE_EXTENDED_READING:"Sure you want to remove further reading?",SUCCESSFULLY_DELETED:"Removed",ADD_SUCCESSFULLY:"Added",TITLE:"Resource title",_TITLE:"Title",ENTER_URL:"Please enter url address"},document:{IN_DOCUMENT_CONVERSION:"Converting document...",CONVERSION_TIME:"conversion takes about 3 minutes",FULL_SCREEN_VIEW:"Fullscreen",READING_POSITION:"Restored previous reading position~"},model:{OWNERSHIP_TRANSFER:"Ownership transfer",ORIGINAL_AUTHOR:"Original author",TRANSFER_TO:"Transfer to",TRANSFER_SUCCESSFUL:"Transfer successful"},float:{LIKED:"Liked",FAVORITED:"Favorited",FAVORITE:"Favorite",FAVORITE_SUCCESS:"Added to favorite",REMOVE_FAVORITE:"Remove from favorites",YOU_HAVE_LIKED:"You have liked"},comment:{NO_COMMENTS_ALLOWED:"No comments allowed",COMMENT_SUCCESSFUL:"Comment successful",MORE_COMMENTS:"More comments",PLEASE_REPLY:"Write down your reply",DELETE_COMMENT:"Sure you want to delete this comment?",SUB_COMMENT:"Submit  a comment",COLLAPSE_COMMENT:"Collapse comment",INPUT_COMMENT:"Input your comment"},SECURITY_INFO:"This file is intended for NetEase employees only.  Please do not share any of this content outside of the company."},home:{ALL:"All",NO_USERS:"None",RECENTLY_UPDATED:"Recently updated",EDIT:"Edit",NETEASE_DOI:"NetEase Knowledge Asset ID",MODEL_AUTH:{CHOOSE_TEAM_SPACE:"Choose TeamSpace",CURRENT_TEAM_SPACE:"(Current TeamSpace)",MUTUAL_STAFF:"Interactive entertainment employee",FULL_TIME_EMPLOYEES:"Full-time employees",MUTUAL_INTERN:"Interactive entertainment intern",INTERN:"Intern",MUTUAL_ENTERTAINMENT:"Interactive entertainment contractor",OUTSOURCED_EMPLOYEE:"Contractor",NON_INTERACTIVE:"Group (non-mutual entertainment) staff",DISPATCH_STAFF:"Expatriate employee",OPERATIONS_CENTER_STAFF:"Operations center staff (OG)",OPEN_TO_ALL:"Open to all",DESIGNATED_OCCUPATION:"Specific occupations",NOT_SET:"Not set",CUSTOM_VISIBILITY_GROUP:"Customize view permission groups",SET_ROLES_OCC:"Set role and occupation",ROLE_OCCUPATION:"Job roles",TEAM_SPACE:"Team space",SPECIFIC_USER:"Specific user",SELECT_USER:"Select user",SEARCH_USER:"Search all usernames/email prefixes, press return to search",NO_RELATED_USERS:"No relavant users were found",PERMISSION_SETTINGS:"Permission settings",EVERYONE:"Everyone",ONLY_YOURSELF:"Myself",DESIGNATED_O_T_U:"Occupation / Teamspace / User",ADJUST_RESOURCES_AUTH:"Sychronously adjust permissions to the resources under current category?",NOT_ADJUSTED:"Don't adjust",ALL_ADJUSTMENTS:"Adjust all (including all categories and resource permissions under current category) ",THIS_OPERATION_LARGE:"This operation has wide-ranging effects, please be cautious",PARTIAL_ADJUSTMENT:"Partial adjustment",LOCK_ONLY_PERMISSIONS:"Lock only permissions",MODIFY_AND_LOCK:"Modify and lock permissions",MODIFY_PERMISSIONS:"Modify permissions",NO_MADE_CHOICE:"You have not made a choice yet",PUBLIC:"Public",CONTACT:"If you have any question when editing, please feel free to contact "},MODEL_SHARE:{REASON_FOR_FORWARD:"Reason for sharing... (Tag your friends or work circle and invite them to read!)",SHARING_SUCCESS:"Shared",SHARING_RESOURCES:"Share resources",NO_GENERATE:"Do not post to timeline",NOTIFY_INVITEE:"Notify mentioned users on POPO"},MODEL_REFERENCE:{SUCCESSFUL_REFERENCE:"Link successful",REFERENCE_LOCATION:"Link location",REFERENCE_TO_TEAM_SPACE:"Link to TeamSpace",QUOTE_TO_WIKI_SITE:"Link to Wiki site",ENTER_TEAM_SPACE:"Enter or select TeamSpace",ENTER_KNOWLEDGE:"Enter or select a knowledge base",KNOWLEDGE_BASE_CLASSIFICATION:"Knowledge base category",ENTER_KNOWLEDGE_BASE_CLASSIFICATION:"Enter or select a knowledge base category",ENTER_SELECT_SITE:"Enter or select a site",SITE_CLASSIFICATION:"Site category",ENTER_SITE_CLASSIFICATION:"Enter or select a site category"}},title:{TEAM_SPACE:"Team space",KNOWLEDGE_BASE:"Knowledge Base",WIKI_SITE:"Wiki Site"},release:{SAVE:"Save",modalOk:"OK",modalCancel:"Cancel"}}),Object(L.a)(r,U,{article:{MENU:"\u76ee\u5f55"},res:{NO_AUTH_RES:"\u4f60\u6ca1\u6709\u67e5\u770b\u6743\u9650 \u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u4f5c\u8005",SHARE_POPO:"\u5206\u4eab\u81f3POPO\u773c\u754c\u5927\u5f00",SORT:"\u6392\u5e8f",KM_APP_QR:"KM APP\u626b\u4e00\u626b",ADJUSTMENT_ATTRIBUTION:"\u8c03\u6574\u5f52\u5c5e",SWITCH_VIEWS:"\u5207\u6362\u89c6\u56fe",CITATION:"\u5f15\u7528",HISTORIC_VERSION:"\u5386\u53f2\u7248\u672c",VIEW_ON_YOUR_PHONE:"\u7528\u624b\u673a\u67e5\u770b",SITE_SHARED:"\u7ad9\u5185\u5206\u4eab",RECOMMEND_READING:"\u63a8\u8350\u5230\u5fc5\u8bfb\u7cbe\u534e",DELETE:"\u5220\u9664",THIS_FOLLOWING_USERS:"\u672c\u6587\u4ec5\u9762\u5411\u4ee5\u4e0b\u7528\u6237\u5f00\u653e\uff0c\u8bf7\u6ce8\u610f\u5185\u5bb9\u4fdd\u5bc6\u8303\u56f4",VIEWING_PERMISSION:"\u67e5\u770b\u6743\u9650",DOWNLOAD_PERMISSION:"\u4e0b\u8f7d\u6743\u9650",EDIT_PERMISSION:"\u7f16\u8f91\u6743\u9650",ORIGINAL:"\u539f\u521b",STATEMENTL:"*\u672c\u5185\u5bb9\u4ec5\u4ee3\u8868\u4e2a\u4eba\u89c2\u70b9\uff0c\u4e0d\u4ee3\u8868\u7f51\u6613\uff0c\u4ec5\u4f9b\u5185\u90e8\u5206\u4eab\u4f20\u64ad\uff0c\u4e0d\u5141\u8bb8\u4ee5\u4efb\u4f55\u5f62\u5f0f\u5916\u6cc4\uff0c\u5426\u5219\u8ffd\u7a76\u6cd5\u5f8b\u8d23\u4efb",SECURITY:"\u4e0b\u8f7d\u5185\u5bb9\u5c5e\u4e8e\u7f51\u6613\u5185\u90e8\u5546\u4e1a\u673a\u5bc6\uff0c\u8bf7\u52ff\u5916\u4f20",FURTHER_READING:"\u62d3\u5c55\u9605\u8bfb",NO_FURTHER_READING_ADDED:"\u6682\u65e0\u62d3\u5c55\u9605\u8bfb\u54e6~",ADD_FURTHER_READING:"\u6dfb\u52a0\u62d3\u5c55\u9605\u8bfb",TABLE_OF_CONTENT:"\u76ee\u5f55",POINTS:"\u79ef\u5206",LIKES:"\u70b9\u8d5e",ANONYMOUS:"\u533f\u540d",COMMENT:"\u8bc4\u8bba",ALL_COMMENTS:"\u5168\u90e8\u8bc4\u8bba",FIRST_TO_COMMENT:"\u5feb\u6765\u505a\u7b2c\u4e00\u4e2a\u8bc4\u8bba\u7684\u4eba\u5427",COMMENT_NO_EMPTY:"\u8bc4\u8bba\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a~",REPLY:"\u56de\u590d",CONFIRM_DELETE_RESOURCE:"\u786e\u8ba4\u5220\u9664\u8be5\u5f15\u7528\u8d44\u6e90\uff1f",SUCCESSFULLY_DELETED:"\u5220\u9664\u6210\u529f",CONFIRM_DEL_RESOURCE:"\u786e\u8ba4\u5220\u9664\u8be5\u8d44\u6e90\uff1f",TOP_SUCCESS:"\u7f6e\u9876\u6210\u529f",CANCELLED:"\u5df2\u53d6\u6d88\u7f6e\u9876",CANCEL_SUCCESS:"\u53d6\u6d88\u6210\u529f",RECOMMENDED_SUCCESS:"\u63a8\u8350\u6210\u529f",REFERENCE_TO_OTHER_LOCATIONS:"\u5f15\u7528\u5230\u5176\u4ed6\u4f4d\u7f6e",CANCEL_THE_ESSENTIALS:"\u53d6\u6d88\u5fc5\u8bfb\u7cbe\u534e\u63a8\u8350",CANCEL_SITE_RECOMMENDATION:"\u53d6\u6d88\u7ad9\u70b9\u9996\u9875\u63a8\u8350",EDIT:"\u7f16\u8f91",RECOMMENDED_HOME_PAGE:"\u63a8\u8350\u5230\u7ad9\u70b9\u9996\u9875",TOP:"\u7f6e\u9876",PINNED:"\u7f6e\u9876",CANCEL:"\u53d6\u6d88\u7f6e\u9876",EXPORT_TO_PDF:"\u5bfc\u51faPDF",DEMO_MODE:"\u6f14\u793a\u6a21\u5f0f",AUTHOR_ONLY:"\u4ec5\u4f5c\u8005",public_all_for_km:"\u5168\u96c6\u56e2\u6b63\u5f0f\u5458\u5de5(\u5305\u62ec\u4e92\u5a31\u4e0e\u975e\u4e92\u5a31)",EXPAND_PERMISSIONS:"\u5c55\u5f00\u6743\u9650",ATTACHMENT:"\u9644\u4ef6",REPRINT:"\u8f6c\u8f7d",COLLAPSE:"\u6536\u8d77",POSTED_ON:"\u53d1\u5e03\u4e8e",IN_TOTAL:"\u5171{num}\u4e2a",MANAGE_PINNED_CONTENT:"\u7f6e\u9876\u7ba1\u7406",NO_QUALITY_RESOURCES:"\u6682\u65e0\u7cbe\u534e\u8d44\u6e90",BEEN_LOCKED_CONTACT:"\u5f53\u524d\u7248\u672c\u5df2\u88ab\u9501\u5b9a\uff0c\u5982\u6709\u9700\u8981\u8bf7\u8054\u7cfb",CONTACT_TA:"\u8054\u7cfbTA",OTHER_COLLABORATE:function(e){return"\u7b49".concat(e.num,"\u4eba\u534f\u4f5c")},AFTER_LOCKING_VERSION:"*\u9501\u5b9a\u7248\u672c\u540e\u9700\u89e3\u9501\u624d\u80fd\u91cd\u65b0\u7f16\u8f91",LOCK_CURRENT_VERSION:"\u9501\u5b9a\u5f53\u524d\u7248\u672c",CURRENT_VERSION_LOCKED:"\u5f53\u524d\u7248\u672c\u5df2\u9501\u5b9a",CURRENT_LOCKED_BY:"\u5f53\u524d\u7248\u672c\u5df2\u88ab{name}\u9501\u5b9a",CLICK_TO_UNLOCK:"\u89e3\u9664\u9501\u5b9a",UNLOCK:"\u89e3\u9501",LOCK_VERSION:"\u9501\u5b9a\u7248\u672c",reward:{YOU_REWARD_TO_AUTHOR:"\u4f60\u6253\u8d4f\u7684\u79ef\u5206\u5c06\u4f1a\u5168\u90e8\u5956\u52b1\u7ed9\u4f5c\u8005",POINTS_PER_DAY:"\u6bcf\u5929\u6700\u591a\u53ea\u80fd\u6253\u8d4f100\u79ef\u5206",REWARD_DEDUCT_POINTS:"\u6253\u8d4f\u4f1a\u6263\u9664\u81ea\u5df1\u76f8\u5e94\u7684\u79ef\u5206",POINTS_REDEEMED:"\u79ef\u5206\u53ef\u7528\u4e8e\u79ef\u5206\u5546\u57ce\u5151\u6362\u5956\u54c1",CANT_REWARD:"\u4e0d\u80fd\u6253\u8d4f\u81ea\u5df1\u7684\u6587\u7ae0\u5594~",POINTS_USED_UP:"\u60a8\u4eca\u5929\u53ef\u6253\u8d4f\u79ef\u5206\u5df2\u7528\u5b8c\uff0c\u660e\u5929\u518d\u6765\u6253\u8d4f\u5427",CURRENTLY_RECEIVING:"\u76ee\u524d\u6536\u5230{person}\u4eba\u6253\u8d4f\uff0c\u5171{point}\u79ef\u5206",LIKE_THIS_ARTICLE:"\u5f88\u559c\u6b22\u8fd9\u7bc7\u6587\u7ae0\uff0c\u5e76\u6253\u8d4f\u4e86{point}\u4e2a\u79ef\u5206\u3002",NO_ENOUGH_POINT:"\u60a8\u7684\u79ef\u5206\u4e0d\u8db3\u5594~",THE_FIRST:"\u5feb\u6765\u6210\u4e3a\u7b2c\u4e00\u4e2a\u6253\u8d4f\u7684\u4eba\u5427~",NO_ONE:"\u6682\u65f6\u8fd8\u6ca1\u4eba\u6253\u8d4f"},related:{ETC:" \u7b49\u7f16",_ETC:" \u7f16",NUMBER_OF_RESOURCES:"\u8d44\u6e90\u6570",PAGEVIEWS:"\u6d4f\u89c8\u91cf",INCLUSION:"\u4e13\u9898\u6536\u5f55"},extend:{URL_INCORRECT:"URL\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u91cd\u586b!",DELETE_EXTENDED:"\u89e3\u9664\u62d3\u5c55\u9605\u8bfb",DELETE_EXTENDED_READING:"\u786e\u5b9a\u8981\u89e3\u9664\u62d3\u5c55\u9605\u8bfb\u5417\uff1f",SUCCESSFULLY_DELETED:"\u89e3\u9664\u6210\u529f",ADD_SUCCESSFULLY:"\u6dfb\u52a0\u6210\u529f",TITLE:"\u8d44\u6e90\u6807\u9898",_TITLE:"\u6807\u9898",ENTER_URL:"\u8bf7\u8f93\u5165url\u5730\u5740"},document:{IN_DOCUMENT_CONVERSION:"\u6587\u6863\u8f6c\u5316\u4e2d\u2026",CONVERSION_TIME:"\u8f6c\u5316\u5e73\u5747\u9700\u89813\u5206\u949f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85",FULL_SCREEN_VIEW:"\u5168\u5c4f\u67e5\u770b",READING_POSITION:"\u5df2\u5b9a\u4f4d\u5230\u4e0a\u6b21\u9605\u8bfb\u7684\u4f4d\u7f6e~"},model:{OWNERSHIP_TRANSFER:"\u5f52\u5c5e\u8f6c\u79fb",ORIGINAL_AUTHOR:"\u539f\u4f5c\u8005",TRANSFER_TO:"\u8f6c\u79fb\u7ed9",TRANSFER_SUCCESSFUL:"\u8f6c\u79fb\u6210\u529f"},float:{LIKED:"\u5df2\u70b9\u8d5e",FAVORITED:"\u5df2\u6536\u85cf",FAVORITE:"\u6536\u85cf",FAVORITE_SUCCESS:"\u6536\u85cf\u6210\u529f",REMOVE_FAVORITE:"\u53d6\u6d88\u6536\u85cf",YOU_HAVE_LIKED:"\u4f60\u5df2\u7ecf\u70b9\u8d5e\u4e86\u5594"},comment:{NO_COMMENTS_ALLOWED:"\u8be5\u8d44\u6e90\u6682\u65f6\u4e0d\u5141\u8bb8\u8bc4\u8bba",COMMENT_SUCCESSFUL:"\u8bc4\u8bba\u6210\u529f",MORE_COMMENTS:"\u66f4\u591a\u8bc4\u8bba",PLEASE_REPLY:"\u5199\u4e0b\u4f60\u7684\u56de\u590d",DELETE_COMMENT:"\u786e\u5b9a\u8981\u5220\u9664\u8bc4\u8bba\uff1f",SUB_COMMENT:"\u6dfb\u52a0\u8bc4\u8bba",COLLAPSE_COMMENT:"\u6536\u8d77\u8bc4\u8bba",INPUT_COMMENT:"\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba"},SECURITY_INFO:"\u4e0b\u8f7d\u5185\u5bb9\u5c5e\u4e8e\u7f51\u6613\u5185\u90e8\u5546\u4e1a\u673a\u5bc6\uff0c\u8bf7\u52ff\u5916\u4f20"},home:{ALL:"\u5168\u90e8",NO_USERS:"\u65e0\u7ba1\u7406\u5458",RECENTLY_UPDATED:"\u6700\u8fd1\u66f4\u65b0",EDIT:"\u7f16\u8f91",NETEASE_DOI:"\u7f51\u6613\u77e5\u8bc6\u8d44\u4ea7\u8ba4\u8bc1\u7f16\u7801",MODEL_AUTH:{CHOOSE_TEAM_SPACE:"\u9009\u62e9\u56e2\u961f\u7a7a\u95f4",CURRENT_TEAM_SPACE:"\uff08\u5f53\u524d\u56e2\u961f\u7a7a\u95f4\uff09",MUTUAL_STAFF:"\u4e92\u5a31\u6b63\u5f0f\u5458\u5de5",FULL_TIME_EMPLOYEES:"\u6b63\u5f0f\u5458\u5de5",MUTUAL_INTERN:"\u4e92\u5a31\u5b9e\u4e60\u751f",INTERN:"\u5b9e\u4e60\u5458\u5de5",MUTUAL_ENTERTAINMENT:"\u4e92\u5a31\u5916\u5305(\u5916\u5305+\u5916\u6d3e)",OUTSOURCED_EMPLOYEE:"\u5916\u5305\u5458\u5de5",NON_INTERACTIVE:"\u96c6\u56e2(\u975e\u4e92\u5a31)\u5458\u5de5",DISPATCH_STAFF:"\u6d3e\u9063\u5458\u5de5",OPERATIONS_CENTER_STAFF:"\u8fd0\u8425\u4e2d\u5fc3\u5458\u5de5(OG)",OPEN_TO_ALL:"\u5b8c\u5168\u516c\u5f00",DESIGNATED_OCCUPATION:"\u6307\u5b9a\u804c\u4e1a",NOT_SET:"\u672a\u8bbe\u7f6e",CUSTOM_VISIBILITY_GROUP:"\u81ea\u5b9a\u4e49\u53ef\u89c1\u7fa4\u4f53",SET_ROLES_OCC:"\u8bbe\u7f6e\u89d2\u8272\u4e0e\u804c\u4e1a",ROLE_OCCUPATION:"\u89d2\u8272\u804c\u4e1a",TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4",SPECIFIC_USER:"\u5177\u4f53\u7528\u6237",SELECT_USER:"\u9009\u62e9\u7528\u6237",SEARCH_USER:"\u641c\u7d22\u6240\u6709\u7528\u6237\u540d\u79f0/\u90ae\u7bb1\u524d\u7f00\uff0c\u56de\u8f66\u641c\u7d22",NO_RELATED_USERS:"\u672a\u641c\u7d22\u5230\u76f8\u5173\u7528\u6237",PERMISSION_SETTINGS:"\u6743\u9650\u8bbe\u7f6e",EVERYONE:"\u6240\u6709\u4eba",ONLY_YOURSELF:"\u4ec5\u81ea\u5df1",DESIGNATED_O_T_U:"\u6307\u5b9a\u804c\u4e1a/\u56e2\u961f\u7a7a\u95f4/\u7528\u6237",ADJUST_RESOURCES_AUTH:"\u662f\u5426\u540c\u6b65\u8c03\u6574\u5f53\u524d\u5206\u7c7b\u4e0b\u7684\u8d44\u6e90\u7684\u6743\u9650",NOT_ADJUSTED:"\u4e0d\u8c03\u6574",ALL_ADJUSTMENTS:"\u5168\u90e8\u8c03\u6574(\u5305\u542b\u5f53\u524d\u5206\u7c7b\u4e0b\u5168\u90e8\u5206\u7c7b\u53ca\u8d44\u6e90\u6743\u9650)",THIS_OPERATION_LARGE:"\u6b64\u64cd\u4f5c\u5f71\u54cd\u8303\u56f4\u8f83\u5927\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",PARTIAL_ADJUSTMENT:"\u90e8\u5206\u8c03\u6574",LOCK_ONLY_PERMISSIONS:"\u4ec5\u9501\u5b9a\u6743\u9650",MODIFY_AND_LOCK:"\u4fee\u6539\u5e76\u9501\u5b9a\u6743\u9650",MODIFY_PERMISSIONS:"\u4fee\u6539\u6743\u9650",NO_MADE_CHOICE:"\u60a8\u8fd8\u672a\u505a\u51fa\u9009\u62e9",PUBLIC:"\u516c\u5f00",CONTACT:"\u7f16\u8f91\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u968f\u65f6\u8054\u7cfb"},MODEL_SHARE:{REASON_FOR_FORWARD:"\u8f6c\u53d1\u7406\u7531...\uff08@\u60a8\u7684\u597d\u53cb\u6216\u8005\u5de5\u4f5c\u5708\u6765\u9605\u8bfb\uff01\uff09",SHARING_SUCCESS:"\u5206\u4eab\u6210\u529f",SHARING_RESOURCES:"\u5206\u4eab\u8d44\u6e90",NO_GENERATE:"\u4e0d\u4ea7\u751f\u52a8\u6001",NOTIFY_INVITEE:"\u6ce1\u6ce1\u901a\u77e5\u88ab\u9080\u8bf7\u8005"},MODEL_REFERENCE:{SUCCESSFUL_REFERENCE:"\u5f15\u7528\u6210\u529f",REFERENCE_LOCATION:"\u5f15\u7528\u4f4d\u7f6e",REFERENCE_TO_TEAM_SPACE:"\u5f15\u7528\u5230\u56e2\u961f\u7a7a\u95f4",QUOTE_TO_WIKI_SITE:"\u5f15\u7528\u5230WIKI\u7ad9\u70b9",ENTER_TEAM_SPACE:"\u8f93\u5165\u6216\u9009\u62e9\u56e2\u961f\u7a7a\u95f4",ENTER_KNOWLEDGE:"\u8f93\u5165\u6216\u9009\u62e9\u77e5\u8bc6\u5e93",KNOWLEDGE_BASE_CLASSIFICATION:"\u77e5\u8bc6\u5e93\u5206\u7c7b",ENTER_KNOWLEDGE_BASE_CLASSIFICATION:"\u8f93\u5165\u6216\u9009\u62e9\u77e5\u8bc6\u5e93\u5206\u7c7b",ENTER_SELECT_SITE:"\u8f93\u5165\u6216\u9009\u62e9\u7ad9\u70b9",SITE_CLASSIFICATION:"\u7ad9\u70b9\u5206\u7c7b",ENTER_SITE_CLASSIFICATION:"\u8f93\u5165\u6216\u9009\u62e9\u7ad9\u70b9\u5206\u7c7b"}},title:{TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4",KNOWLEDGE_BASE:"\u77e5\u8bc6\u5e93",WIKI_SITE:"wiki\u7ad9\u70b9"},release:{SAVE:"\u4fdd\u5b58",modalOk:"\u786e\u5b9a",modalCancel:"\u53d6\u6d88"}}),r),H=function(e){var t=F[e]||F[x];return function(e,n){var a=e.split(".").reduce((function(e,t){return void 0!==e&&null!==e?e[t]:e}),t);return n||"string"!==typeof a?a?a(n):"":a}},Y=["resource","visible","onOk","locale"],G={},V={},W={},B=function(e,t){var n=[];return function e(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,r=0;r<t.length;r++){var i=t[r];if(i.id===a||e(i.children,a))return n.unshift(i.id),!0}}(e,t),n},K=function(e){var t=e.resource,n=e.visible,a=e.onOk,r=e.locale,i=Object(A.a)(e,Y),c=H(r),l="ResourceReference"===t.resource_type,u=t.resource_type||t.class_name,E=t.id||t.id;l&&(u=t.target.resource_type,E=t.target.resource_id);var _=Object(o.useState)("team"),f=Object(d.a)(_,2),p=f[0],O=f[1],T=Object(o.useState)([]),N=Object(d.a)(T,2),g=N[0],S=N[1],b=Object(o.useState)([]),R=Object(d.a)(b,2),L=R[0],D=R[1],k=Object(o.useState)([]),U=Object(d.a)(k,2),P=U[0],x=U[1],F=Object(o.useState)([]),K=Object(d.a)(F,2),z=K[0],q=K[1],X=Object(o.useState)([]),J=Object(d.a)(X,2),Q=J[0],Z=J[1],$=Object(o.useState)({}),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ae=Object(o.useState)(!1),re=Object(d.a)(ae,2),ie=re[0],ce=re[1];Object(o.useEffect)((function(){n&&(ne({}),oe(),se(),l&&le())}),[n]);var oe=function(){Object(y.u)("/reference/teams",{params:{source_type:u,source_id:E}}).then((function(e){return S(e.list)})).catch((function(){return S([])}))},se=function(){Object(y.u)("/reference/wikis",{params:{source_type:u,source_id:E}}).then((function(e){return q(e.list)})).catch((function(){return q([])}))},le=function(){var e=Object(v.a)(C.a.mark((function e(){var n,a,r,i,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.u)("/reference/".concat(t.id,"/edit"));case 2:if("KnowledgeBase"!==(n=e.sent).reference_type){e.next=14;break}return e.next=6,ue(n.team_id);case 6:return a=e.sent,e.next=9,Ee(n.base_id);case 9:r=e.sent,D(a),x(r),i=B(r,n.cat_id),ne({team:n.team_id+"",library:n.base_id+"",libraryCat:i});case 14:if("Wiki"!==n.reference_type){e.next=22;break}return O("wiki"),e.next=18,me(n.base_id);case 18:c=e.sent,Z(c),o=B(c,n.cat_id),ne({wiki:n.base_id+"",wikiCat:o});case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e){return G[e]&&G[e].length?Promise.resolve(G[e]):Object(y.u)("/reference/knowledge_bases",{params:{team_id:e}}).then((function(t){return G[e]=t.list,t.list}))},Ee=function(e){return V[e]&&V[e].length?Promise.resolve(V[e]):Object(y.u)("/reference/knowledge_base_cats",{params:{base_id:e}}).then((function(t){return V[e]=t.list,t.list}))},me=function(e){return W[e]&&W[e].length?Promise.resolve(W[e]):Object(y.u)("/reference/wiki_cats",{params:{base_id:e}}).then((function(t){return W[e]=t.list,t.list}))},de=function(e){O(e.target.value)},_e=function(e){ne(Object(I.a)(Object(I.a)({},te),{},{team:e,library:"",libraryCat:""})),ue(e).then((function(e){return D(e)})).catch((function(){return D([])}))},fe=function(e){ne(Object(I.a)(Object(I.a)({},te),{},{library:e,libraryCat:""})),Ee(e).then((function(e){return x(e)})).catch((function(){return x([])}))},pe=function(e){ne(Object(I.a)(Object(I.a)({},te),{},{libraryCat:e}))},Oe=function(e){ne(Object(I.a)(Object(I.a)({},te),{},{wiki:e,wikiCat:""})),me(e).then((function(e){return Z(e)})).catch((function(){return Z([])}))},he=function(e){ne(Object(I.a)(Object(I.a)({},te),{},{wikiCat:e}))},Te=function(){var e=Object(v.a)(C.a.mark((function e(){var n,r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie){e.next=2;break}return e.abrupt("return");case 2:if(n=l?"/reference/".concat(t.id):"/reference",r=l?"PUT":"POST","team"!==p){e.next=8;break}if(te.team&&te.library&&te.libraryCat&&te.libraryCat.length){e.next=7;break}return e.abrupt("return");case 7:i={reference_type:"KnowledgeBase",base_id:te.library,cat_id:te.libraryCat[te.libraryCat.length-1]};case 8:if("wiki"!==p){e.next=12;break}if(te.wiki&&te.wikiCat&&te.wikiCat.length){e.next=11;break}return e.abrupt("return",m.b.warning("\u8bf7\u9009\u62e9\u5206\u7c7b"));case 11:i={reference_type:"Wiki",base_id:te.wiki,cat_id:te.wikiCat[te.wikiCat.length-1]};case 12:return l||(i.source_id=E,i.source_type=u),e.prev=13,ce(!0),e.next=17,Object(y.u)(n,{method:r,params:i});case 17:m.b.success(c("home.MODEL_REFERENCE.SUCCESSFUL_REFERENCE")),a&&a({resource:t,position:te}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),m.b.error(e.t0.message);case 24:return e.prev=24,ce(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[13,21,24,27]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(h.a,Object.assign({title:c("res.CITATION"),okText:c("member.CONFIRM"),cancelText:c("member.CANCEL"),className:"km-modal km-modal--reference",centered:!0,visible:n,onOk:Te},i),!l||te.team||te.wiki?s.a.createElement("div",{className:"app-settings-form"},s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},c("home.MODEL_REFERENCE.REFERENCE_LOCATION")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(j.a.Group,{onChange:de,value:p},s.a.createElement(j.a,{value:"team"},c("home.MODEL_REFERENCE.REFERENCE_TO_TEAM_SPACE")),s.a.createElement(j.a,{value:"wiki"},c("home.MODEL_REFERENCE.QUOTE_TO_WIKI_SITE"))))),"team"===p&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group__items"},s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},c("title.TEAM_SPACE")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(w.a,{value:te.team,onChange:_e,style:{width:"100%"},placeholder:c("home.MODEL_REFERENCE.ENTER_TEAM_SPACE"),showSearch:!0,optionFilterProp:"children"},g.map((function(e){return s.a.createElement(w.a.Option,{key:e.id},e.name)}))))),!!te.team&&L.length>0&&s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},c("title.KNOWLEDGE_BASE")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(w.a,{value:te.library,onChange:fe,style:{width:"100%"},placeholder:c("home.MODEL_REFERENCE.ENTER_KNOWLEDGE"),showSearch:!0,optionFilterProp:"children"},L.map((function(e){return s.a.createElement(w.a.Option,{key:e.id},e.name)}))))),!!te.library&&P.length>0&&s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},c("home.MODEL_REFERENCE.KNOWLEDGE_BASE_CLASSIFICATION")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(M.a,{value:te.libraryCat,onChange:pe,style:{width:"100%"},placeholder:c("home.MODEL_REFERENCE.ENTER_KNOWLEDGE_BASE_CLASSIFICATION"),options:P,fieldNames:{label:"name",value:"id"},showSearch:!0,changeOnSelect:!0}))))),"wiki"===p&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group__items"},s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},c("title.WIKI_SITE")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(w.a,{value:te.wiki,onChange:Oe,placeholder:c("home.MODEL_REFERENCE.ENTER_SELECT_SITE"),style:{width:"100%"},showSearch:!0,optionFilterProp:"children"},z.map((function(e){return s.a.createElement(w.a.Option,{key:e.id},e.name)}))))),!!te.wiki&&Q.length>0&&s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},c("home.MODEL_REFERENCE.SITE_CLASSIFICATION")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(M.a,{value:te.wikiCat,onChange:he,style:{width:"100%"},placeholder:c("home.MODEL_REFERENCE.ENTER_SITE_CLASSIFICATION"),options:Q,fieldNames:{label:"name",value:"id"},showSearch:!0,changeOnSelect:!0})))))):null)},z=(n(201),n(79)),q=(n(1468),n(530)),X=n(177),J=n.n(X),Q=(n(1470),n(262)),Z=["resource","locale","onOk"],$=function(e){var t=e.onChange,n=e.locale,a=Object(o.useState)(""),r=Object(d.a)(a,2),i=r[0],c=r[1],l=Object(o.useState)({word:"",loading:!1,results:[]}),u=Object(d.a)(l,2),E=u[0],m=u[1],_=H(n),f=J()((function(e){e&&Object(y.u)("/share/search_at",{params:{search:e}}).then((function(t){return m({word:e,results:t.list,loading:!1})})).catch((function(){return m({word:e,results:[],loading:!1})}))}),200);return s.a.createElement(q.a,{rows:4,placeholder:_("home.MODEL_SHARE.REASON_FOR_FORWARD"),filterOption:!1,loading:E.loading,onSearch:function(e){c(e),m({word:e,results:[],loading:!!e}),f(e)},onChange:t},E.word===i&&E.results?E.results.map((function(e){return s.a.createElement(q.a.Option,{key:e.id,value:e.name},e.name)})):null)},ee=function(e){var t=e.resource,n=e.locale,a=e.onOk,r=Object(A.a)(e,Z),i=t.name,c=t.abstract,l=t.body,u=c||Object(Q.r)(l);u=u.length>180?u.substr(0,180)+"...":u;var E=Object(o.useState)(""),_=Object(d.a)(E,2),f=_[0],p=_[1],O=Object(o.useState)(!1),T=Object(d.a)(O,2),N=T[0],g=T[1],S=Object(o.useState)(!1),I=Object(d.a)(S,2),b=I[0],R=I[1],L=Object(o.useState)(!1),D=Object(d.a)(L,2),k=D[0],M=D[1],w=H(n),j=function(){var e=Object(v.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,M(!0),n={target_id:t.id,target_type:t.class_name,text:f,no_action_tracker:Number(N),popo:Number(b)},e.next=7,y.u.post("/share/submit",{params:n});case 7:m.b.success(w("home.MODEL_SHARE.SHARING_SUCCESS")),a&&a(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),m.b.error(e.t0.message);case 14:return e.prev=14,M(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(h.a,Object.assign({title:w("home.MODEL_SHARE.SHARING_RESOURCES"),className:"km-modal modal-share-resource",width:640,centered:!0,destroyOnClose:!0,okText:w("release.modalOk"),cancelText:w("release.modalCancel"),confirmLoading:k,onOk:j},r),s.a.createElement("div",{className:"resource-preview"},s.a.createElement("div",{className:"resource-preview__title"},i),!!u&&s.a.createElement("div",{className:"resource-preview__content"},u)),s.a.createElement("div",{className:"share-input"},s.a.createElement($,{locale:n,onChange:function(e){return p(e)}})),s.a.createElement("div",{className:"share-options"},s.a.createElement(z.a,{onChange:function(e){return g(e.target.checked)}},w("home.MODEL_SHARE.NO_GENERATE")),s.a.createElement(z.a,{onChange:function(e){return R(e.target.checked)}},w("home.MODEL_SHARE.NOTIFY_INVITEE"))))},te=n(71),ne=(n(1471),[]),ae=function e(t){var n=t.dept,a=t.level,r=void 0===a?1:a,i=t.activeId,c=t.onSelect,l=t.onExpand,u=t.expandedId,E=Object(o.useState)(u===n.id),m=Object(d.a)(E,2),_=m[0],p=m[1],O=Object(o.useState)(""),h=Object(d.a)(O,2),T=h[0],N=h[1],g=n.name,S=n.children,I=S&&S.length>0,b=f()("dept-node","dept-node--level-".concat(r),{"dept-node--expanded":_,"dept-node--leaf":!I,"dept-node--active":n.id===i}),C=n.id;Object(o.useEffect)((function(){p(u===C)}),[u,C]);var v=function(e){N(e)};return s.a.createElement("div",{className:b},s.a.createElement("div",{className:"dept-node__title"},s.a.createElement("i",{className:"dept-node__toggle",onClick:function(){return p(!_),void l(_?null:n.id)}}),s.a.createElement("div",{className:"dept-node__name",title:g,onClick:function(){return c(n)}},g)),I&&s.a.createElement("div",{className:"dept-node__list"},S.map((function(t){return s.a.createElement(e,{key:t.id,dept:t,level:r+1,expandedId:T,activeId:i,onSelect:c,onExpand:v})}))))},re=function(e){var t=e.value,n=e.onChange,a=e.locale,r=H(a),i=t.map((function(e){return parseInt(e.key)})),c=Object(o.useState)([]),l=Object(d.a)(c,2),u=l[0],m=l[1],_=Object(o.useState)({}),f=Object(d.a)(_,2),p=f[0],O=f[1],h=Object(o.useState)(null),T=Object(d.a)(h,2),N=T[0],g=T[1],S=Object(o.useState)(""),b=Object(d.a)(S,2),C=b[0],v=b[1];Object(o.useEffect)((function(){(ne&&ne.length?Promise.resolve(ne):Object(y.u)("/cms_api/departments").then((function(e){return ne=e.list,e.list}))).then((function(e){return m(e)}))}),[]);var A=function(e){g(e),p[e.id]||(O(Object(I.a)(Object(I.a)({},p),{},Object(L.a)({},e.id,{loading:!0}))),Object(y.u)("/cms_api/departments/".concat(e.id,"/users")).then((function(t){var n=t.list;O(Object(I.a)(Object(I.a)({},p),{},Object(L.a)({},e.id,{loading:!1,users:n})))})).catch((function(){return O(Object(I.a)(Object(I.a)({},p),{},Object(L.a)({},e.id,{loading:!1})))})))},R=N&&p[N.id]||{},D=R.loading,k=R.users,M=void 0===k?[]:k,w=M.map((function(e){return e.id+""})),j=M.every((function(e){return i.includes(e.id)})),U=function(e,a){a?n&&n(t.concat({key:e.id+"",label:e.name})):n&&n(t.filter((function(t){return t.key!==e.id+""})))},P=function(e){v(e)};return s.a.createElement("div",{className:"dept-container"},s.a.createElement("div",{className:"dept-tree"},u.map((function(e){return s.a.createElement(ae,{key:e.id,dept:e,activeId:N&&N.id,expandedId:C,onSelect:A,onExpand:P})}))),!!N&&s.a.createElement("div",{className:"dept-users"},D&&s.a.createElement("div",{className:"user-loading"},s.a.createElement(E.a,null)),!D&&(!M||!M.length)&&s.a.createElement("div",{className:"user-empty"},r("home.NO_USERS")),M&&M.length>0&&s.a.createElement("div",{className:"user-select"},s.a.createElement("div",{className:"user-all"},s.a.createElement(z.a,{checked:j,onChange:function(e){var a=t.filter((function(e){return!w.includes(e.key)}));e.target.checked&&(a=a.concat(M.map((function(e){return{key:e.id+"",label:e.name}})))),n&&n(a)}},s.a.createElement("span",{className:"user-all__label"},r("home.ALL")))),s.a.createElement("div",{className:"user-list"},M.map((function(e){return s.a.createElement("div",{className:"user-item",key:e.id},s.a.createElement(z.a,{checked:i.includes(e.id),onChange:function(t){return U(e,t.target.checked)}},s.a.createElement("span",{className:"user-item__name"},e.name),s.a.createElement("span",{className:"user-item__mail"},e.pemail)))}))))))},ie=function(e,t){i&&(clearTimeout(i),i=null),c=e;i=setTimeout((function(){Object(y.u)("/cms_api/search_persons",{params:{query:e}}).then((function(n){return c===e&&t(n.list)}))}),200)},ce=function(e){var t=e.onChange,n=e.locale,a=H(n),r=Object(o.useState)(e.value||e.defaultValue||[]),i=Object(d.a)(r,2),c=i[0],l=i[1];"value"in e&&e.value!==c&&l(e.value);var u=Object(o.useState)([]),E=Object(d.a)(u,2),m=E[0],_=E[1],f=function(e){var t=e.id,n=e.name,a=e.person;return a?s.a.createElement(w.a.Option,{key:t,label:s.a.createElement("span",null,n)},"".concat(a.name,"-").concat(a.org_name.split("-").join(" / "),"-").concat(a.pemail)):null},p=function(n){!("value"in e)&&l(n),t&&t(n)};return s.a.createElement("div",{className:"app-user-select"},s.a.createElement("div",{className:"app-user-select-input"},s.a.createElement(w.a,{value:c,onSearch:function(e){e?ie(e,(function(e){return _(e.map(f))})):_([])},onSelect:function(){return _([])},onDeselect:function(){return _([])},onChange:p,mode:"multiple",labelInValue:!0,style:{width:"100%"},placeholder:a("member.SEARCH_NAME_EMAIL"),allowClear:!0,clearIcon:s.a.createElement("a",null,a("member.EMPTY")),filterOption:!1,notFoundContent:null,optionLabelProp:"label",defaultActiveFirstOption:!1,choiceTransitionName:""},m)),s.a.createElement("div",{className:"app-user-select-depts"},s.a.createElement(re,{value:c,onChange:p})))},oe=function(e){var t=e.title,n=e.disabled,a=e.onOk,r=e.locale,i=Object(o.useState)(e.value),c=Object(d.a)(i,2),l=c[0],u=c[1],E=Object(o.useState)(!1),m=Object(d.a)(E,2),_=m[0],f=m[1],p=H(r);Object(o.useEffect)((function(){!_&&u(e.value)}),[_]);return s.a.createElement(o.Fragment,null,s.a.createElement("div",{className:"app-user-select-display",onClick:function(){return f(!0)}},s.a.createElement("div",{className:"display-items"},e.value.map((function(e){return s.a.createElement("span",{key:e.key,className:"display-item"},e.label)}))),!n&&s.a.createElement("span",{className:"edit-hint"},p("member.MODIFY"))),s.a.createElement(h.a,{visible:_,title:t,width:800,centered:!0,okText:p("member.CONFIRM"),cancelText:p("member.CANCEL"),className:"km-modal modal-select-user",onCancel:function(){return f(!1)},onOk:function(){f(!1),a&&a(l)}},s.a.createElement(ce,{value:l,onChange:u,locale:r})))};oe.defaultProps={title:"\u9009\u62e9\u7528\u6237",value:[],locale:x};var se=["onChange","optionRenderer"],le=function(e){var t=e.onChange,n=e.optionRenderer,a=Object(A.a)(e,se),r=Object(o.useState)([]),i=Object(d.a)(r,2),c=i[0],l=i[1];return s.a.createElement(w.a,Object.assign({showSearch:!0,allowClear:!0,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:function(e){if(!e||!e.trim())return l([]);ie(e,(function(e){return l(e)}))},onChange:function(e){e||l([]),t&&t(e)},notFoundContent:null},a),c.map((function(e){return"function"===typeof n?n(e):s.a.createElement(w.a.Option,{key:e.id},e.name)})))},ue=["identifier","resource","onOk","locale"],Ee=Object(te.b)((function(e){return{identifier:e.user.info.identifier}}))((function(e){var t=e.identifier,n=e.resource,a=e.onOk,r=e.locale,i=Object(A.a)(e,ue),c=Object(o.useState)(!1),l=Object(d.a)(c,2),u=l[0],E=l[1],_=Object(o.useState)(null),f=Object(d.a)(_,2),p=f[0],O=f[1],T=n.created_by,N=H(r),g=function(){var e=Object(v.a)(C.a.mark((function e(){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&!u){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,E(!0),r={new_author_mail:p,article_id:n.id},e.next=7,y.u.post("/myprofile/".concat(t,"/cms/xhr_transfer_attachment_author"),{params:r});case 7:m.b.success(N("res.model.TRANSFER_SUCCESSFUL")),a&&a(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),m.b.error(e.t0.message);case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(h.a,Object.assign({className:"km-modal modal-transfer-resource",title:N("res.model.OWNERSHIP_TRANSFER"),centered:!0,confirmLoading:u,destroyOnClose:!0,onOk:g},i),s.a.createElement("div",{className:"app-settings-form"},s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},N("res.model.ORIGINAL_AUTHOR")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement("div",{className:"original-author"},T&&"".concat(T.name,"\uff08").concat(T.identifier,"\uff09")))),s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},N("res.model.TRANSFER_TO")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(le,{style:{width:"100%"},optionLabelProp:"label",optionRenderer:function(e){var t=e.person;return t?s.a.createElement(w.a.Option,{key:t.identifier,label:"".concat(t.name,"\uff08").concat(t.identifier,"\uff09")},t.name,"-",t.org_name,"\uff08",t.pemail,"\uff09"):null},onChange:O})))))})),me=n(280),de=n(18),_e=(n(1615),["locale","detail","onUpdate","handleDelete","togglePresentation","fetchWikipageDetail","fetchWikipageDetailExtra","wikiSite"]),fe=function(e){var t=e.locale,n=e.detail,a=e.onUpdate,r=e.handleDelete,i=e.togglePresentation,c=e.fetchWikipageDetail,l=e.fetchWikipageDetailExtra,u=e.wikiSite,E=Object(A.a)(e,_e),_=n.class_name,f=Object(o.useState)(null),p=Object(d.a)(f,2),O=p[0],T=p[1],b=Object(o.useState)(null),L=Object(d.a)(b,2),k=L[0],M=L[1],w=Object(o.useState)({visible:!1}),j=Object(d.a)(w,2),U=j[0],P=j[1],x=Object(o.useState)({visible:!1}),F=Object(d.a)(x,2),Y=F[0],G=F[1],V=Object(o.useState)({visible:!1}),W=Object(d.a)(V,2),B=W[0],z=W[1],q=Object(o.useState)(!1),X=Object(d.a)(q,2),J=X[0],Q=X[1],Z=Object(o.useState)(!1),$=Object(d.a)(Z,2),te=$[0],ne=$[1],ae=Object(o.useState)(!1),re=Object(d.a)(ae,2),ie=re[0],ce=re[1],oe=Object(o.useRef)(null),se=Object(o.useRef)(null),le=H(t),ue=Object(g.h)(),fe=(n||{}).allow_share;Object(o.useEffect)((function(){var e=function(e){var t=document.getElementsByClassName("km-common-qrcode-popover");se.current==e.target||se.current.contains(e.target)?ne((function(e){return!e})):oe.current&&(oe.current.contains(e.target)||oe.current==e.target)||t.length>0&&t[0].contains(e.target)||ne(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]),Object(o.useEffect)((function(){n.site_recommend&&M(n.site_recommend),n.team_recommend&&T(n.team_recommend)}),[n]);var pe=function(){c(ue.id).then((function(){l(ue.id)}))},Oe=function(){var e=Object(v.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.u.post("/km_java_api/home/fileConvert/html2Pdf/submitTask",{data:{resource_id:n.id,resource_type:"WikiPage"},requestType:"json"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(v.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=2;break}return e.abrupt("return");case 2:if(a=ue.profile,r=n.wiki_id,t="".concat(D,"/").concat(a,"/wikis/").concat(r,"/resources")+"/".concat(n.id,"/internal_recommend")){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,Q(!0),e.next=9,Object(y.u)(t,{method:O.is_recommended?"DELETE":"POST"});case 9:T(Object(I.a)(Object(I.a)({},O),{},{is_recommended:!O.is_recommended})),m.b.success(O.is_recommended?le("res.CANCEL_SUCCESS"):le("res.RECOMMENDED_SUCCESS")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),m.b.error(e.t0.message);case 16:return e.prev=16,Q(!1),e.finish(16);case 19:case"end":return e.stop()}var a,r}),e,null,[[5,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(v.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=2;break}return e.abrupt("return");case 2:if(t="/km_java_api/wiki/pages/".concat(n.id,"/recommend")){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,Q(!0),e.next=9,Object(y.u)(t,{method:k.is_recommended?"DELETE":"POST"});case 9:M(Object(I.a)(Object(I.a)({},k),{},{is_recommended:!k.is_recommended})),m.b.success(k.is_recommended?le("res.CANCEL_SUCCESS"):le("res.RECOMMENDED_SUCCESS")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),m.b.error(e.t0.message);case 16:return e.prev=16,Q(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),Ne=s.a.createElement("div",{className:"action-items"},s.a.createElement("div",{className:"action-group"},("Blog"===_||"WikiPage"===_)&&s.a.createElement("div",{className:"action-item",title:le("res.DEMO_MODE"),onClick:function(){return i(!0)}},le("res.DEMO_MODE")),n.allow_protect&&s.a.createElement(N.a,{placement:"bottom",title:s.a.createElement("div",null,le("res.LOCK_CURRENT_VERSION"),s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:12}},le("res.AFTER_LOCKING_VERSION")))},s.a.createElement("div",{className:"action-item",onClick:function(){n.protected_info?y.u.delete("/km_java_api/wiki/pages/".concat(n.id,"/protect")).then((function(){m.b.success("\u89e3\u9664\u9501\u5b9a\u7248\u672c\u6210\u529f"),pe()})).catch((function(e){m.b.error(e.message)})):y.u.post("/km_java_api/wiki/pages/".concat(n.id,"/protect")).then((function(){m.b.success("\u9501\u5b9a\u7248\u672c\u6210\u529f"),pe()})).catch((function(e){m.b.error(e.message)}))}},n.protected_info?le("res.CLICK_TO_UNLOCK"):le("res.LOCK_VERSION"))),n.allow_exp_pdf&&s.a.createElement("div",{className:"action-item",onClick:function(){ie||h.a.confirm({title:le("res.SECURITY"),icon:s.a.createElement(R.a,null),okText:le("release.modalOk"),cancelText:le("release.modalCancel"),onOk:function(){ce(!0);var e,t,a=m.b.loading("\u6b63\u5728\u5bfc\u51fa...",0);(e=Oe,t=1,function(){return e.apply(void 0,arguments).then(function(){var e=Object(v.a)(C.a.mark((function e(n){var a,r,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,r={},i=new Promise((function(e,t){r.resolve=e,r.reject=t})),a||r.reject("\u672a\u83b7\u53d6\u5230\u4efb\u52a1"),c=function(){var e=Object(v.a)(C.a.mark((function e(t){var n,a,i,o=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=o.length>1&&void 0!==o[1]?o[1]:1)>120)){e.next=4;break}return r.reject("\u8d85\u51fa\u9650\u5236"),e.abrupt("return");case 4:return e.next=6,Object(y.u)("/km_java_api/home/fileConvert/html2Pdf/queryTask?taskId=".concat(t));case 6:(a=e.sent)||r.reject("\u672a\u83b7\u53d6\u5230\u4efb\u52a1\u72b6\u6001~"),i=a.status,e.t0=i,e.next=0===e.t0?12:1===e.t0?14:16;break;case 12:return setTimeout((function(){c(t,n+1)}),1e3),e.abrupt("break",18);case 14:return r.resolve(a),e.abrupt("break",18);case 16:return r.reject(a),e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a&&c(a,t),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})().then((function(e){var t;m.b.destroy(a),(t=e.url,fetch(t).then((function(e){if(!e.ok)throw new Error("Failed to fetch image: ".concat(e.status," ").concat(e.statusText));return e.blob()}))).then((function(e){var t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="".concat(n.name,".pdf"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)})).finally((function(){m.b.success("\u5bfc\u51fa\u6210\u529f")}))})).catch((function(){m.b.destroy(a),m.b.error("\u5bfc\u51fa\u5931\u8d25")})).finally((function(){ce(!1)}))}})},style:{cursor:ie?"not-allowed":"pointer"}},le("res.EXPORT_TO_PDF"))),s.a.createElement("div",{className:"action-group"},s.a.createElement("div",{className:"action-item",onClick:function(){return G({visible:!0})}},le("res.CITATION")),s.a.createElement("div",{className:"action-item",onClick:function(){"Blog"!==_&&"Attachment"!==_||window.open("/article/".concat(n.id,"/history")),"WikiPage"===_&&(Object(y.t)()?window.open("/wiki/".concat(n.wiki_id,"/history/").concat(n.id)):window.open("/wiki/".concat(ue.site,"/history/").concat(n.id)))}},le("res.HISTORIC_VERSION")),s.a.createElement(me.Qrcode,{url:function(){var e=798590052;return Object(y.q)()&&(e=656782523),"popo://miniprogram?appId=".concat(e).concat(Object(y.s)()?"":"&env=STAGING","&targetPage=wikidetail&resourceId=").concat(n.binding_category_id)}(),placement:"leftTop",trigger:"click",local:t},s.a.createElement("div",{className:"action-item",ref:oe},le("res.VIEW_ON_YOUR_PHONE"))),fe&&s.a.createElement("div",{className:"action-item",onClick:function(){return z({visible:!0})}},le("res.SITE_SHARED"))),(Object(y.t)()&&O&&O.allowed||k&&k.allowed)&&s.a.createElement("div",{className:"action-group"},n.team_recommend&&n.team_recommend.allowed&&Object(y.t)()&&s.a.createElement("div",{className:"action-item",onClick:he},O.is_recommended?le("res.CANCEL_THE_ESSENTIALS"):le("res.RECOMMEND_READING")),k&&k.allowed&&u&&u.allow_view&&s.a.createElement("div",{className:"action-item",onClick:Te},k.is_recommended?le("res.CANCEL_SITE_RECOMMENDATION"):le("res.RECOMMENDED_HOME_PAGE"))),n.allow_edit&&s.a.createElement("div",{className:"action-item action-item--danger",onClick:function(){return r(n)}},le("res.DELETE")));return s.a.createElement(o.Fragment,null,s.a.createElement(S.a,Object.assign({overlay:Ne,locale:t,overlayClassName:"dropdown-actions dropdown-detail-more-actions",align:{points:["tl","bl"],offset:[0,8]},visible:te},E),s.a.createElement("span",{className:"action-item",title:le("member.MORE"),ref:se},s.a.createElement(de.a,{type:"icon-gengduo2x"}))),s.a.createElement(Ee,Object.assign({resource:n,locale:t},U,{onCancel:function(){return P({visible:!1})},onOk:function(){P({visible:!1}),a&&a()}})),s.a.createElement(K,Object.assign({resource:n,locale:t},Y,{onCancel:function(){return G({visible:!1})},onOk:function(){return G({visible:!1})}})),s.a.createElement(ee,Object.assign({resource:n},B,{locale:t,onCancel:function(){return z({visible:!1})},onOk:function(){return z({visible:!1})}})))},pe=n(55),Oe=n.n(pe),he=n(1733),Te=["type"],Ne=Object(he.a)({scriptUrl:"//at.alicdn.com/t/font_2268619_9v8d6kg9xc.js"}),ge=function(e){var t=e.type,a=Object(A.a)(e,Te);return/^ii-/.test(t)?s.a.createElement("img",Object.assign({src:n(638)("./".concat(t,".svg")),alt:"icon"},a)):s.a.createElement(Ne,Object.assign({type:t},a))},Se=n(151),Ie=n.n(Se),be=(n(507),n(1646),function(e){return s.a.createElement("svg",Object.assign({},e,{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.91983 4.00002L2.06035 6.85952C1.97988 6.93998 1.97989 7.07044 2.06035 7.1509L2.35172 7.44228C2.43218 7.52274 2.56264 7.52274 2.6431 7.44228L5.93965 4.14571C6.02012 4.06524 6.02012 3.93479 5.93965 3.85433L2.6431 0.557755C2.56264 0.477293 2.43218 0.477293 2.35172 0.557755L2.06035 0.849134C1.97989 0.929596 1.97989 1.06005 2.06035 1.14051L4.91983 4.00002Z",fill:""}))}),Ce=function(e){var t=Object(o.useState)(!1),a=Object(d.a)(t,2),r=a[0],i=a[1],c=e.detail,l=e.locale,u=e.userInfo,E=e.togglePresentation,m=e.fetchWikipageDetailExtra,_=e.fetchWikipageDetail,p=e.wikiSite,S=c?c.info:{},I=H(l),b=Object(g.h)(),C=S.allow_share_horizon,v=Object(y.z)((function(e){return e.wikiAction})).showDeleteModal;return s.a.createElement("div",{className:"wiki-header"},s.a.createElement("h1",{className:"resource-title"},s.a.createElement("div",{className:"resource-title--name"},S.name,S.is_site_recommend&&s.a.createElement("span",{className:"resource-title__tag resource-title__tag--recommend"},"\u63a8\u8350"),S.protected_info&&function(){var e=S.protected_info,t=S.allow_protect,n=S.protected_by;return(t||e)&&e?t?s.a.createElement(N.a,{placement:"bottom",title:I("res.CURRENT_VERSION_LOCKED")},s.a.createElement(de.a,{type:"icon-suo1",style:{color:"#999"}})):"\u82f1\u8bed"===I("en")?s.a.createElement("div",{className:"resource-meta"},s.a.createElement(N.a,{placement:"bottom",title:s.a.createElement("div",null,"\u5f53\u524d\u7248\u672c\u5df2\u88ab",n&&s.a.createElement(Ie.a,{locale:l,requestUrl:"/ps/get_user_info_card?identifier=".concat(n.identifier),placement:"bottom",key:n.id,avatarUrl:"/zone/".concat(n.identifier),canFollow:n.identifier!==u.identifier},n.name),"\u9501\u5b9a")},s.a.createElement(de.a,{type:"icon-suo1"}))):s.a.createElement("div",{className:"resource-meta"},s.a.createElement(N.a,{placement:"bottom",title:s.a.createElement("div",null,"The current version has been locked by",n&&s.a.createElement(Ie.a,{locale:l,requestUrl:"/ps/get_user_info_card?identifier=".concat(n.identifier),placement:"bottom",key:n.id,avatarUrl:"/zone/".concat(n.identifier),canFollow:n.identifier!==u.identifier},n.name))},s.a.createElement(de.a,{type:"icon-suo1"}))):null}()),s.a.createElement("div",{className:"resource-title--action"},S.allow_edit&&!S.protected_info&&s.a.createElement(O.a,{disabled:S.protected,type:"primary",onClick:function(){var e=S.protected,t=S.protected_by,a=S.editor_type;if(e){var r=s.a.createElement("div",null,s.a.createElement("span",null,I("res.BEEN_LOCKED_CONTACT")),t&&s.a.createElement(o.Fragment,null,s.a.createElement("a",{href:Object(y.j)(t),target:"_blank",rel:"noopener noreferrer",style:{color:"#5c86bc"}},t.name),s.a.createElement("a",{href:Object(y.g)(t.email)},s.a.createElement("img",{style:{width:20,height:20,verticalAlign:-5},alt:"",src:n(484)}))),s.a.createElement("span",null,I("res.UNLOCK"),"~"));h.a.info({title:I("member.TIPS_SHORT"),className:"km-modal",content:r,centered:!0,okText:I("res.CONTACT_TA"),onOk:function(){return window.location.href=Object(y.g)(t.email)}})}else{var i=Object(y.t)()?"/".concat(1===a?"editor":"rms","/edit?post_location=").concat(b.profile,"&parent_type=WikiPage&id=").concat(S.id):"/".concat(1===a?"editor":"rms","/edit?from_location=wiki&parent_type=WikiPage&base_type=Wiki&base_id=").concat(b.site,"&id=").concat(S.id,"&isFixdSite=true");Object(y.v)(i)}}},I("home.EDIT")),s.a.createElement(fe,{locale:l,detail:S,scan_hash:S.scan_hash,togglePresentation:function(){return E(!0)},fetchWikipageDetailExtra:m,fetchWikipageDetail:_,wikiSite:p,handleDelete:v}))),s.a.createElement("div",{className:"resource-meta"},s.a.createElement("div",{className:"mate-left"},function(){var e=S.editors,t=S.last_editor;if(!e||!e.length)return null;var n=s.a.createElement("div",{className:"resource-meta__user-list-d"},e.map((function(e){return e?s.a.createElement("a",{key:e.id,className:"resource-meta__user-item-d",href:Object(y.j)(e),rel:"noopener noreferrer",target:"_blank"},s.a.createElement("img",{className:"resource-meta__user-item-d__avatar",src:e.head_image,alt:""}),s.a.createElement("div",{className:"resource-meta__user-item-d__name"},e.name)):null})));return s.a.createElement("div",{className:"resource-meta__editors"},s.a.createElement("div",{className:"name-list"},e.slice(0,2).map((function(e,t){return e?s.a.createElement(Ie.a,{locale:l,requestUrl:"/ps/get_user_info_card?identifier=".concat(e.identifier),placement:"bottom",key:e.id,avatarUrl:"/zone/".concat(e.identifier),canFollow:e.identifier!==u.identifier},s.a.createElement("span",null,1===t?"\u3001":"",e.nick_name?"".concat(e.nick_name,"(").concat(e.name,")"):e.name)):null}))),e.length>2&&s.a.createElement("span",{style:{marginLeft:3}}," ",I("res.OTHER_COLLABORATE",{num:e.length})),e.length>2&&s.a.createElement(T.a,{overlayClassName:"popover-resource-detail-editors",content:n,placement:"bottom",trigger:["click"]},s.a.createElement(de.a,{type:"icon-jiantou2x",className:"icon-more"})),s.a.createElement("div",{className:"resource-meta-divided"}),S.page_last_update_at?s.a.createElement("span",{className:"user-time"},s.a.createElement("span",null,I("home.RECENTLY_UPDATED")," : "),Oe()(S.page_last_update_at,"YYYY.MM.DD HH:mm").format("YYYY-M-D HH:mm")," (",t.name,")"):s.a.createElement("span",{className:"user-time"},s.a.createElement("span",null,I("res.POSTED_ON")," :"),Oe()(S.created_at,"YYYY.MM.DD HH:mm").format("YYYY-M-D HH:mm")))}()),s.a.createElement("div",{className:"resource-meta-divided"}),s.a.createElement("div",{className:"resource-meta__actions"},function(){var e,t=[{key:"view_num",label:I("res.related.PAGEVIEWS")}],n=null!==(e=c.statistic)&&void 0!==e?e:{};return s.a.createElement(o.Fragment,null,s.a.createElement("div",{className:"resource-statistics"},t.map((function(e){var t=e.key,a=e.label;return s.a.createElement("div",{className:"resource-statistics__item",key:t},s.a.createElement("span",{className:"clear-view_num resource-statistics__"+t}," ",a," : "),s.a.createElement("span",{className:"resource-statistics__value "},Object(y.f)(n[t])))})),!!C&&u.can_share_to_popo_zone&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:f()("share-btn",{"share-btn-wiki":!Object(y.t)()}),onClick:function(){i(!0)}},s.a.createElement(ge,{type:"iconpo",className:"icon-more"}),I("res.SHARE_POPO")),s.a.createElement(me.ModalShareToPopo,{visible:r,locale:u.language_version||x,hideVisible:function(){return i(!1)},id:c.info.binding_category_id,type:"WikiCategory",title:c.info.name,img:c.image||"http://g.fp.ps.netease.com/km/file/6006d49f7f9d2a1df70bd97a5N0H7SJV03"}))))}())),!!S.doi_code&&s.a.createElement("div",{className:"resource-doi-code",onClick:function(){return window.open("https://doi.netease.com","_blank")}},s.a.createElement("span",{className:"resource-doi-code_name"},I("home.NETEASE_DOI")),s.a.createElement("span",{className:"resource-doi-code_code"},S.doi_code),s.a.createElement(be,null)))},ve=(n(1647),[{key:"view_authority",label:"VIEWING_PERMISSION"},{key:"edit_authority",label:"EDIT_PERMISSION"},{key:"download_authority",label:"DOWNLOAD_PERMISSION"}]),Ae=function(e){var t=e.detail,n=e.locale,a=Object(o.useRef)(null),r=Object(o.useState)({expandable:!1,expanded:!1}),i=Object(d.a)(r,2),c=i[0],l=i[1],u=H(n);Object(o.useEffect)((function(){return!c.expanded&&E()}),[t]);var E=function(){for(var e=Array.from(a.current.querySelectorAll(".resource-auth__item")),t=!1,n=0,r=0,i=0;i<e.length;i++){var o=e[i],s=window.getComputedStyle(o),u=s.lineHeight,E=s.height,m=s.marginTop,d=parseInt(E),_=parseInt(u),f=parseInt(m),p=Math.ceil(d/_);if(n+p>2){n<2&&(r+=f+(2-n)*_),t=!0;break}n+=p,r+=f+d}l(Object(I.a)(Object(I.a)({},c),{},{expandable:t,collapsedHeight:r}))},m=function(e,t){var n=t.key,a=t.label,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=e[n];if(!i)return null;var c=i.authorities,o=i.public;return s.a.createElement("div",{className:"resource-auth__item",key:n},s.a.createElement("span",{className:"resource-auth__label"},r+u("res.".concat(a)),"\uff1a"),s.a.createElement("span",{className:"resource-auth__value"},i.public_all_for_km?u("res.public_all_for_km"):o?u("home.MODEL_AUTH.EVERYONE"):c&&c.length>0?c.map((function(e){return e.selected_name})).join("\u3001"):u("res.AUTHOR_ONLY")))},_=c.expandable&&!c.expanded;return s.a.createElement("div",{className:"resource-auth",ref:a},s.a.createElement("div",{className:"resource-auth__title"},s.a.createElement("i",{className:"icon-lock"}),u("res.THIS_FOLLOWING_USERS"),_&&s.a.createElement("span",{className:"resource-auth__expand",onClick:function(){l(Object(I.a)(Object(I.a)({},c),{},{expanded:!c.expanded}))}},u("res.EXPAND_PERMISSIONS"))),s.a.createElement("div",{className:f()("resource-auth__content",{"resource-auth__content_close":c}),style:{height:_?c.collapsedHeight:""}},s.a.createElement("div",{className:"resource-auth__list"},ve.map((function(e){return m(t,e)})),t.info.attachment_files&&t.info.attachment_files.map((function(e,t){return ve.map((function(n){return m(e,n,"".concat(u("res.ATTACHMENT")).concat(t+1))}))})))))},Re=n(52),ye=n(53),Le=n(63),De=n(64),ke=n(413),Me=n.n(ke),we=n(414),je=n.n(we),Ue=(n(701),n(1651),n(415)),Pe=n.n(Ue),xe=n(152),Fe=n(281),He=n.n(Fe),Ye=(n(1655),function(e,t){var n=new window.Image;return new Promise((function(a,r){n.onload=function(){var t=n.width/(e.clientWidth||1),r=n.height/(e.clientHeight||1);a({minScale:Math.min(t,r),imageWidth:n.width,imageHeight:n.height})},n.src=t}))}),Ge=function(e){He()(e),document.body.style.overflow=e?"":"hidden"},Ve=function(e){Object(Le.a)(n,e);var t=Object(De.a)(n);function n(e){var a;return Object(Re.a)(this,n),(a=t.call(this,e)).toggleFullScreen=function(e){var t=a.state,n=t.originalScale,r=t.fullscreenScale;a.setState({fullscreen:e,scale:e?Math.min(r,1):Math.min(n,1),angle:0,moveX:0,moveY:0})},a.handleAnimationStart=function(e){var t=a.fullscreenImage.current;t&&function(e,t){var n=e.style;["Webkit","Moz","Ms","ms"].forEach((function(e){n["".concat(e,"TransformOrigin")]=t})),n.transformOrigin=t}(t,"".concat(e.x,"px ").concat(e.y,"px"))},a.handlePrev=function(){var e=a.props.onImageChange;e&&e(-1)},a.handleNext=function(){var e=a.props.onImageChange;e&&e(1)},a.handleZoom=function(e){var t=a.state,n=t.fullscreen,r=t.originalScale,i=t.fullscreenScale,c=n?i:r,o=t.scale/c,s=o>.2&&o<=1.2?.1:.2,l=Pe()(o+e*s,.2,50);a.setState({scale:l*c}),e<0&&a.setState({moveX:0,moveY:0})},a.handleRotate=function(){var e=a.state.angle;a.setState({angle:e+90})},a.handleMouseDown=function(e){var t=a.state,n=t.scale,r=t.fullscreen;if(e.preventDefault(),!r&&n>=1||r){a.isMouseDown=!0;var i=a.state,c=i.moveX,o=i.moveY;a.startX=e.clientX-c,a.startY=e.clientY-o}},a.handleMouseMove=function(e){if(a.isMouseDown){var t=e.clientX-a.startX,n=e.clientY-a.startY;a.setState({moveX:t,moveY:n})}},a.handleMouseUp=function(){a.isMouseDown=!1},a.handleOriginal=function(){var e=a.state.isOriginal;a.setState({isOriginal:!e,scale:1})},a.handleLoaded=Object(v.a)(C.a.mark((function e(){var t,n,r,i,c,o,s,l,u,E;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.image,r=t.onImageLoaded,i=document.querySelector(".image-viewer"),e.next=4,Ye(i,n.display_src);case 4:return c=e.sent,o=c.minScale,s=c.imageWidth,l=c.imageHeight,e.next=10,Ye(document.documentElement,n.display_src);case 10:u=e.sent,E=u.minScale,a.imgSrcSize.width=s,a.imgSrcSize.height=l,a.setState({originalScale:o,fullscreenScale:E,angle:0,moveX:0,moveY:0}),r&&r();case 16:case"end":return e.stop()}}),e)}))),a.handleCloseFullscreen=function(){var e=a.props,t=e.onClose;e.fullscreenOnly?t&&t():a.toggleFullScreen(!1)},a.isMouseDown=!1,a.embedImage=s.a.createRef(),a.fullscreenImage=s.a.createRef(),a.state={fullscreen:!!e.fullscreenOnly,scale:1,angle:0,moveX:0,moveY:0,lastScale:1,originalScale:1,isOriginal:!1},a.imgSrcSize={width:0,height:0},a}return Object(ye.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fullscreenOnly,n=e.mousePosition;t&&(this.noScrolling="hidden"===document.body.style.overflow,!this.noScrolling&&Ge(),n&&this.handleAnimationStart(n))}},{key:"componentDidUpdate",value:function(e,t){if(this.state.fullscreen&&!t.fullscreen&&this.embedImage.current){var n=this.embedImage.current.getBoundingClientRect(),a=n.left,r=n.top,i={x:a+n.width/2,y:r+n.height/2};this.handleAnimationStart(i)}}},{key:"componentWillUnmount",value:function(){this.props.fullscreenOnly&&!this.noScrolling&&Ge(!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.maskClosable,a=t.fullscreenOnly,r=t.image,i=t.loading;if(!r)return null;var c=this.state,o=c.fullscreen,l=c.angle,u=c.moveX,m=c.moveY,d=c.scale,_=c.isOriginal,f={};o&&(f=_?{width:"100vw",height:"100vh"}:{width:"".concat(this.imgSrcSize.width,"px"),height:"".concat(this.imgSrcSize.height,"px")});var p=Object(I.a)({transform:"translate3d(".concat(u,"px, ").concat(m,"px, 0) scale(").concat(d,") rotate(").concat(l,"deg)")},f);return s.a.createElement("div",{className:"image-viewer"},s.a.createElement("div",{className:"embed-viewer",onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,style:{display:a?"none":""}},i&&s.a.createElement("div",{className:"image-viewer__loading"},s.a.createElement(E.a,null)),r.display_src&&s.a.createElement("img",{ref:this.embedImage,src:r.display_src||"",alt:"",style:o?{}:p,onMouseDown:this.handleMouseDown,onLoad:this.handleLoaded}),s.a.createElement("div",{className:"image-viewer__controls",style:{display:o?"none":"block"}},r.pre_img&&s.a.createElement("div",{className:"image-viewer__prev",onClick:this.handlePrev}),r.next_img&&s.a.createElement("div",{className:"image-viewer__next",onClick:this.handleNext}),s.a.createElement("div",{className:"image-viewer__toolbar"},s.a.createElement("span",{className:"toolbar-icon toolbar-icon--original",onClick:this.handleOriginal}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--increase",onClick:function(){return e.handleZoom(1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--decrease",onClick:function(){return e.handleZoom(-1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--rotate",onClick:function(){return e.handleRotate()}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--fullscreen",onClick:function(){return e.toggleFullScreen(!0)}})))),s.a.createElement("div",{className:"fullscreen-viewer",style:{display:o?"":"none"},onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp},s.a.createElement(xe.a,{transitionName:"fade",transitionAppear:!0},o&&s.a.createElement("div",{key:"mask",className:"fullscreen-viewer-mask",onClick:function(){return n&&e.handleCloseFullscreen()}})),s.a.createElement(xe.a,{transitionName:"zoom",transitionAppear:!0},o&&s.a.createElement("div",{key:"image",className:"fullscreen-viewer-image",ref:this.fullscreenImage},s.a.createElement("img",{src:r.display_src,alt:"",style:p,onMouseDown:this.handleMouseDown}))),s.a.createElement(xe.a,{transitionName:"fade",transitionAppear:!0},o&&s.a.createElement("div",{key:"controls",className:"fullscreen-viewer-controls"},s.a.createElement("span",{className:"fullscreen-viewer-close",onClick:this.handleCloseFullscreen}),r.pre_img&&s.a.createElement("div",{className:"image-viewer__prev",onClick:this.handlePrev}),r.next_img&&s.a.createElement("div",{className:"image-viewer__next",onClick:this.handleNext}),s.a.createElement("div",{className:"image-viewer__toolbar"},s.a.createElement("span",{className:"toolbar-icon toolbar-icon--original",onClick:this.handleOriginal}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--increase",onClick:function(){return e.handleZoom(1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--decrease",onClick:function(){return e.handleZoom(-1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--rotate",onClick:function(){return e.handleRotate()}}),!a&&s.a.createElement("span",{className:"toolbar-icon toolbar-icon--exit-fullscreen",onClick:function(){return e.toggleFullScreen(!1)}}))))))}}]),n}(o.Component);Ve.defaultProps={maskClosable:!1,onClose:function(){},image:{},onImageChange:function(){}};n(702);var We=function(e){return e.includes("/ckeditor/plugins/smiley")},Be=function(e){Object(Le.a)(a,e);var t=Object(De.a)(a);function a(e){var r;return Object(Re.a)(this,a),(r=t.call(this,e)).loadDependencies=function(){var e=r.props.language;1!==e||window.WYSIWYG_LOADING_PROMISE||(window.WYSIWYG_LOADING_PROMISE=Promise.all([])),2!==e||window.MARKDOWN_LOADING_PROMISE||(window.MARKDOWN_LOADING_PROMISE=Promise.all([Object(y.n)({url:"/javascripts/libs/katex/katex.min.css",internal:!1}),Object(y.o)("/javascripts/libs/raphael/raphael.min.js"),Object(y.o)("/javascripts/libs/katex/katex.min.js"),Object(y.o)("/javascripts/libs/mermaid/mermaid.min.js")]))},r.renderContent=function(){var e=r.props,t=e.body,a=e.language,i=e.editorType;if(a&&t){r.loadDependencies();var c=r.container.current;1===a&&(c.innerHTML=1===i?t:Me()(t),window.WYSIWYG_LOADING_PROMISE.then((function(){return Object(y.m)(c,i,a)})).then((function(){return r.adjustContent()}))),2===a&&(r.clearContent(),window.MARKDOWN_LOADING_PROMISE.then((function(){return n.e(0).then(n.t.bind(null,1945,7))})).then((function(e){var n=e.default;r.mdViewer=new n({el:c,initialValue:t,exts:["flowchart","sequence","mermaid"]})})).then((function(){return Object(y.m)(c,i,a)})).then((function(){return r.adjustContent()})))}},r.clearContent=function(){r.mdViewer&&r.mdViewer.remove(),r.container.current&&(r.container.current.innerHTML="")},r.adjustContent=function(){var e=r.container.current;if(e){var t=Array.from(e.querySelectorAll("table,iframe")),n=Array.from(e.querySelectorAll("img"));t.forEach((function(t){for(var n=t.parentNode,a=!0;n&&n!==e;){if(n.classList.contains("syntaxhighlighter")||"TABLE"===n.tagName){a=!1;break}n=n.parentNode}if(a){var r=document.createElement("div");r.classList.add("overflow-wrapper"),t.parentNode.insertBefore(r,t),r.appendChild(t)}})),n.forEach((function(e){var t=parseInt(e.style.height||e.getAttribute("height")),n=parseInt(e.style.width||e.getAttribute("width"));n>720&&(n&&t&&(e.style.maxHeight=t/n*720+"px"),e.style.maxWidth="720px")})),"presentation"===r.props.mode&&r.adjustPresentation(),r.setState({loaded:!0}),setTimeout((function(){return r.generateDirectory()}),0),setTimeout((function(){return r.scrollToAnchor(0)}),200)}},r.adjustPresentation=function(){var e=r.container.current;e&&Array.from(e.querySelectorAll("*")).forEach((function(e){if(e.style&&e.style.fontSize){var t=parseInt(window.getComputedStyle(e).fontSize);e.style.fontSize=Math.round(1.8*t)+"px"}if("TABLE"===e.tagName&&(e.style.width||e.width)){var n=parseInt(window.getComputedStyle(e).width);e.style.width=2*n+"px"}}))},r.generateDirectory=function(){var e=r.props,t=e.anchorable,n=e.onParseDir,a=r.container.current;if(a){var i=new je.a,c=Array.from(a.querySelectorAll("h1,h2,h3,h4,h5,h6")).filter((function(e){return e.textContent.trim()}));t&&c.forEach((function(e){var t=i.slug(e.textContent.trim()),n=document.createElement("a");n.id="h-"+t,n.className="heading-anchor heading-anchor--".concat(e.tagName.toLowerCase()),n.href="#"+t,n.addEventListener("click",(function(e){if(e.preventDefault(),e.stopPropagation(),window.location.hash===n.hash){var a=(document.body.scrollTop||document.documentElement.scrollTop)+n.getBoundingClientRect().top;Object(y.w)(a-60)}else window.location.hash="#"+t})),e.dataset.anchor=t,e.insertBefore(n,e.firstChild||null)})),n&&n(c)}},r.scrollToAnchor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;if(r.props.anchorable){var t=decodeURIComponent(window.location.hash.substr(1));if(t){var n=window.CSS.escape(t),a=document.querySelector(window.CSS.escape("#".concat(n,",[name=").concat(n,"]"))),i=document.querySelector("#h-".concat(t));if(a||i){var c=(document.body.scrollTop||document.documentElement.scrollTop)+(a||i).getBoundingClientRect().top;Object(y.w)(c-60,{duration:a?0:e})}}}},r.handleHashChange=function(){r.scrollToAnchor()},r.handleClick=function(e){var t=e.target;if(r.props.imageViewable&&"IMG"===t.tagName){var n="A"===t.parentNode.tagName&&t.parentNode,a=n&&n.getAttribute("href");a&&!r.compareLinks(a,t.src,/https?:\/\/(.*?)(?=\?)/)||We(t.src)||(e.preventDefault(),r.showImageViewer(t.src,{x:e.clientX,y:e.clientY}))}if("A"===t.tagName){var i=t.getAttribute("href");window.location.hash===i&&(window.location.hash="",window.location.hash=i)}},r.showImageViewer=function(e,t){var n=r.container.current,a=Array.from(n.querySelectorAll("img")).filter((function(e){return!We(e.src)})).map((function(e){return e.src})),i=a.indexOf(e),c={visible:!0,image:{display_src:e,pre_img:i>0,next_img:i<a.length-1},mousePosition:t};r.setState({imageList:a,imageIndex:i,imageViewer:c})},r.closeImageViewer=function(){var e=Object(I.a)(Object(I.a)({},r.state.imageViewer),{},{visible:!1});r.setState({imageViewer:e})},r.handleChangeImage=function(e){var t=r.state,n=t.imageList,a=t.imageIndex+e,i=n[a],c=Object(I.a)(Object(I.a)({},r.state.imageViewer),{},{image:{display_src:i,pre_img:a>0,next_img:a<n.length-1}});r.setState({imageIndex:a,imageViewer:c})},r.container=s.a.createRef(),r.state={loaded:!1,imageList:[],imageViewer:{}},r}return Object(ye.a)(a,[{key:"componentDidMount",value:function(){this.renderContent(),window.addEventListener("hashchange",this.handleHashChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.body;t.language===e.language&&n===e.body||this.renderContent()}},{key:"componentWillUnmount",value:function(){this.clearContent(),window.removeEventListener("hashchange",this.handleHashChange)}},{key:"compareLinks",value:function(e,t,n){return(e.match(n)[1]||e)===(t.match(n)[1]||t)}},{key:"render",value:function(){var e,t=this.props,n=t.body,a=t.language,r=t.mode,i=t.copyable,c=t.imageViewable,l=t.editorType,u=this.state.imageViewer;if(!a||!n)return null;var E=f()((e={"app-detail-content":1!==l},Object(L.a)(e,"app-detail-content--".concat(2===a?"markdown":"html"),1!==l),Object(L.a)(e,"app-detail-content--".concat(r),r),Object(L.a)(e,"app-detail-content--unselectable",!i),Object(L.a)(e,"app-detail-content--loaded",this.state.loaded),Object(L.a)(e,"app-detail-content--image-viewable",c),Object(L.a)(e,"rock-editor__renderer",1===l),e));return s.a.createElement(o.Fragment,null,s.a.createElement("div",{className:E,ref:this.container,onClick:this.handleClick}),u.visible&&s.a.createElement(Ve,{fullscreenOnly:!0,maskClosable:!0,image:u.image,mousePosition:u.mousePosition,onImageChange:this.handleChangeImage,onClose:this.closeImageViewer}))}}]),a}(o.Component);Be.defaultProps={body:"",language:1,copyable:!0,imageViewable:!0,editorType:0};var Ke=n(760),ze=n.n(Ke),qe=(n(1656),n(1657),function(e){var t=e.detail,n=e.onDownload,a=e.locale,r=H(a);if(!t.doc_info||!t.doc_info.viewable)return null;var i=t.doc_info;if(i.html_playable){if(i.preview_url_str)return s.a.createElement("div",{className:"resource-document resource-document--iframe"},s.a.createElement("div",{className:"iframe-actions"},s.a.createElement("a",{href:t.doc_info.preview_url_str,target:"_blank",rel:"noopener noreferrer"},r("res.document.FULL_SCREEN_VIEW"))),s.a.createElement("div",{className:"iframe-content"},s.a.createElement("iframe",{src:t.doc_info.preview_url_str})));if(i.km_file_id){return s.a.createElement("div",{className:"resource-document resource-document--viewer"},s.a.createElement(ze.a,{title:t.name,file:i.km_file_id,locale:"zh-CN",pageCount:i.html_doc_pages,resourceHost:i.html_resource_host,token:i.html_token,startPage:i.study_record&&i.study_record.page,allowDownload:t.allow_download,onDownload:n,onPageLoaded:function(e){i.study_record&&i.study_record.page===e&&m.b.info(r("res.document.READING_POSITION"))},onPageChanged:function(e){Object(y.u)("/km_doc_api/study_record/7576",{method:"PUT",params:{page:e}})},pageUrl:function(e){var n=i.km_file_id,a=t.class_name,r=t.id;return n?"/km_java_api/home/preview/".concat(a,"/").concat(r,"/").concat(e+1):""},appointedCssUrl:"/km_java_api/home/preview/".concat(t.class_name,"/").concat(t.id,"/css?resourceName=").concat(i.km_file_id,".css")}))}return null}return s.a.createElement("div",{className:"resource-document resource-document--converting"},r("res.document.IN_DOCUMENT_CONVERSION"),s.a.createElement("br",null),r("res.document.CONVERSION_TIME")," :)")}),Xe=(n(1658),["name","hoverable","className"]),Je=function(e){var t=e.name,n=e.hoverable,a=e.className,r=Object(A.a)(e,Xe);return s.a.createElement("i",Object.assign({className:f()("image-icon","image-icon--".concat(t),{"image-icon--hoverable":n},a)},r))},Qe=(n(1659),function(e){var t=e.data,n=e.noLink,a=e.onDownload,r=e.onPreview,i=e.locale,c=H(i),l=t.id,u=t.name,E=t.file_size,m=t.download_points,d=t.doc_info;return s.a.createElement("div",{className:"attachment-item"},s.a.createElement("div",{className:"attachment-item__icon"},s.a.createElement(de.a,{type:"icon-fujian2x"})),s.a.createElement("div",{className:"attachment-item__info"},s.a.createElement("div",{className:"attachment-item__name"},n?s.a.createElement("span",{title:u},u):s.a.createElement("a",{href:"/article/".concat(l),target:"_blank",rel:"noopener noreferrer",title:u},u)),s.a.createElement("div",{className:"attachment-item__meta"},s.a.createElement("div",{className:"attachment-item__size"},"(",E,")"),d&&d.image_playable&&s.a.createElement(o.Fragment,null,s.a.createElement(Je,{className:"attachment-item__view",name:"view",onClick:function(e){return r(e,d.image_url_str)}}),s.a.createElement("img",{className:"attachment-item__cached-image",src:d.image_url_str,alt:""})))),s.a.createElement(O.a,{type:"text",className:f()("attachment-item__download"),disabled:!t.allow_download,onClick:function(){h.a.confirm({title:c("res.SECURITY_INFO"),icon:s.a.createElement(R.a,null),okText:c("release.modalOk"),cancelText:c("release.modalCancel"),onOk:a})}},s.a.createElement(de.a,{type:"icon-xiazai2x"}),m||0," ",c("res.POINTS")))}),Ze=function(e){var t=e.detail,n=e.onDownload,a=e.locale,r="Attachment"===t.class_name,i=r?[t]:t.attachment_authorities,c=Object(o.useMemo)((function(){return i.filter((function(e){return e.doc_info&&e.doc_info.image_playable})).map((function(e){return e.doc_info.image_url_str}))}),[t]),l=Object(o.useState)({visible:!1}),u=Object(d.a)(l,2),E=u[0],m=u[1],_=function(e,t){var n=c.indexOf(t),a={display_src:t,pre_img:n>0,next_img:n<c.length-1};m({visible:!0,image:a,index:n,mousePosition:{x:e.clientX,y:e.clientY}})};return s.a.createElement(o.Fragment,null,s.a.createElement("div",{className:"resource-attachments"},s.a.createElement("div",{className:f()("attachment-list",{"attachment-list--single":1===i.length})},i.map((function(e){return s.a.createElement(Qe,{locale:a,key:e.id,data:e,noLink:r,onDownload:function(){return n(e)},onPreview:_})})))),E.visible&&s.a.createElement(Ve,{fullscreenOnly:!0,maskClosable:!0,image:E.image,mousePosition:E.mousePosition,onClose:function(){m(Object(I.a)(Object(I.a)({},E),{},{visible:!1}))},onImageChange:function(e){var t=E.index+e,n={display_src:c[t],pre_img:t>0,next_img:t<c.length-1};m(Object(I.a)(Object(I.a)({},E),{},{image:n,index:t}))}}))},$e=(n(1660),function(e){var t=e.detail,n=e.locale,a=t.class_name,r=t.info&&t.info.tags||[],i=H(n);return s.a.createElement("div",{className:"resource-tags"},("Blog"===a||"Attachment"===a)&&s.a.createElement("span",{className:"resource-tags__item"},t.is_original?i("res.ORIGINAL"):i("res.REPRINT")),r&&r.map((function(e,t){return s.a.createElement("span",{className:"resource-tags__item",key:t},s.a.createElement(de.a,{type:"icon-xiangqingbiaoqian2x"}),e)})))}),et=n(25),tt=(n(1661),function(e){var t=e.detail,n=e.statistic,a=e.locale,r=H(a),i=Object(o.useState)(!1),c=Object(d.a)(i,2),l=c[0],u=c[1],E=Object(o.useState)(!1),_=Object(d.a)(E,2),p=_[0],O=_[1],h=Object(o.useState)(!1),T=Object(d.a)(h,2),N=T[0],g=T[1],S=Object(o.useState)({collect_num:0,like_num:0}),b=Object(d.a)(S,2),A=b[0],R=b[1];Object(o.useEffect)((function(){n&&R({collect_num:n.collect_num,like_num:n.like_num})}),[n]),Object(o.useEffect)((function(){t.user_interactive&&(u(t.user_interactive.is_liked),O(t.user_interactive.is_collected))}),[t]),Object(o.useEffect)((function(){if(t.allow_edit)return document.addEventListener("scroll",y),function(){return document.removeEventListener("scroll",y)}}),[]);var y=J()((function(){}),100),L=function(){var e=Object(v.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=2;break}return e.abrupt("return");case 2:if(!l){e.next=4;break}return e.abrupt("return",m.b.success(r("res.float.YOU_HAVE_LIKED")));case 4:try{g(!0),et.b.wikiPageLike(t.id).then((function(){u(!0),R(Object(I.a)(Object(I.a)({},A),{},{like_num:A.like_num+1}))}))}catch(n){m.b.error(n.message)}finally{g(!1)}case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=2;break}return e.abrupt("return");case 2:return n=p?"DELETE":"POST",e.prev=3,g(!0),e.next=7,et.b.wikiPageCollect(t.id,n);case 7:p?m.b.success(r("res.float.REMOVE_FAVORITE")):m.b.success(r("res.float.FAVORITE_SUCCESS")),R(Object(I.a)(Object(I.a)({},A),{},{collect_num:p?A.collect_num-1:A.collect_num+1})),O(!p),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),m.b.warn(e.t0.message);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:f()("resource-floating-actions")},s.a.createElement("div",{className:"action-button action-button--".concat(p?"active":""),onClick:D},r(p?"res.float.FAVORITED":"res.float.FAVORITE"),s.a.createElement("span",null,A.collect_num)),s.a.createElement("div",{className:"action-button action-button--".concat(l?"active":""),onClick:L},r(l?"res.float.LIKED":"res.LIKES"),s.a.createElement("span",null,A.like_num)))}),nt=(n(173),n(81)),at=n(282),rt=n.n(at),it=(n(1665),["loading","onOk","locale"]),ct=J()((function(e,t){Object(y.u)("/detail/parse_extend_url",{method:"POST",params:{link:e}}).then(t)}),100),ot=function(e){var t=e.loading,n=e.onOk,a=e.locale,r=Object(A.a)(e,it),i=Object(o.useState)(""),c=Object(d.a)(i,2),l=c[0],u=c[1],E=Object(o.useState)(""),_=Object(d.a)(E,2),f=_[0],p=_[1],O=H(a);Object(o.useEffect)((function(){u(""),p("")}),[r.visible]);return s.a.createElement(h.a,Object.assign({title:O("res.ADD_FURTHER_READING"),className:"km-modal modal-add-extend-resource",width:480,centered:!0,confirmLoading:t,okButtonProps:{disabled:!l||!f},onOk:function(){t||l&&f&&function(e){if(""!==e){return!!/[a-zA-z]+:\/\/[^\s]*/.test(e)||(m.b.warn(O("res.extend.URL_INCORRECT")),!1)}}(l)&&n&&n({link:l,name:f})}},r),s.a.createElement("div",{className:"app-settings-form form-add-extend-resource"},s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},"url"),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(nt.a,{placeholder:O("res.extend.ENTER_URL"),value:l,onChange:function(e){var t=e.target.value;u(t),ct(t,(function(e){return e.valid&&p(e.name)}))}}))),s.a.createElement("div",{className:"form-item"},s.a.createElement("div",{className:"form-item__label"},O("res.extend._TITLE")),s.a.createElement("div",{className:"form-item__input"},s.a.createElement(nt.a,{placeholder:O("res.extend.TITLE"),value:f,onChange:function(e){var t=e.target.value;p(t)}})))))},st=function(e){var t=e.detail,n=e.locale,a=t.class_name,r=t.extend_resources,i=t.allow_edit,c="WikiPage"===a,l=Object(o.useState)(r||[]),u=Object(d.a)(l,2),E=u[0],_=u[1],p=Object(o.useState)({visible:!1}),O=Object(d.a)(p,2),T=O[0],N=O[1],g=H(n);Object(o.useEffect)((function(){_(r)}),[r]);var S=function(){var e=Object(v.a)(C.a.mark((function e(n){var a,r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(Object(I.a)(Object(I.a)({},T),{},{loading:!0})),a=k(t.id)+"/extend_resources",r=c?n:Object(I.a)(Object(I.a)({},n),{},{article_id:t.id}),e.next=6,Object(y.u)(a,{params:r,method:"POST"});case 6:i=e.sent,m.b.success(g("res.extend.ADD_SUCCESSFULLY")),_(E.concat(i)),N({visible:!1,loading:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),m.b.error(e.t0.message),N(Object(I.a)(Object(I.a)({},T),{},{loading:!1}));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(v.a)(C.a.mark((function e(n){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=k(t.id)+"/extend_resources/".concat(n.id),r=c?"DELETE":"POST",e.next=5,Object(y.u)(a,{method:r});case 5:_(E.filter((function(e){return e.id!==n.id}))),m.b.success(g("res.extend.SUCCESSFULLY_DELETED")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return i||E&&E.length?s.a.createElement("div",{className:"resource-extend"},s.a.createElement("div",{className:"resource-extend__title"},g("res.FURTHER_READING")),s.a.createElement("div",{className:"resource-extend__content"},E&&E.length>0?s.a.createElement("div",{className:"resource-extend__list"},E.map((function(e){return s.a.createElement("div",{className:f()("resource-extend__item",{deletable:i}),key:e.id},s.a.createElement("a",{className:"item-link",href:e.link,title:e.name,rel:"noopener noreferrer",target:"_blank"},s.a.createElement(rt.a,{clamp:2},e.name)),i&&s.a.createElement("i",{className:"item-delete",onClick:function(){return function(e){h.a.confirm({className:"km-modal modal-delete-extend-resource",centered:!0,title:g("res.extend.DELETE_EXTENDED"),content:g("res.extend.DELETE_EXTENDED_READING"),onOk:function(){return b(e)}})}(e)},title:g("res.extend.DELETE_EXTENDED")}))}))):s.a.createElement("div",{className:"resource-extend__empty"},g("res.NO_FURTHER_READING_ADDED")),i&&s.a.createElement("div",{className:"resource-extend__add"},s.a.createElement("a",{onClick:function(){return N({visible:!0})}},"+ ",g("res.ADD_FURTHER_READING")))),s.a.createElement(ot,Object.assign({},T,{onCancel:function(){return N({visible:!1})},onOk:S}))):null},lt=n(31),ut=(n(1666),n(231)),Et=(n(1674),function(e){var t=e.headings,n=e.scrollOffset,a=void 0===n?60:n,r=e.scrollContainerId,i=e.anchorable,c=e.closeSlide,l=e.miniMenu,u=e.locale,E=e.maxHeight,m=H(u),_=Object(o.useRef)(null),p=Object(o.useRef)(null),O=Object(o.useState)(0),h=Object(d.a)(O,2),T=h[0],N=h[1];Object(o.useEffect)((function(){var e=r?document.querySelector("#".concat(r)):document;return e.addEventListener("scroll",g),function(){return e.removeEventListener("scroll",g)}}),[t]),Object(o.useEffect)((function(){var e=_.current,t=e.querySelector(".resource-detail-directory__item--active");if(t){var n=t.offsetHeight,a=t.offsetTop,r=a+n/2;p.current&&(p.current.style.top=r+"px");var i=a-e.scrollTop;i<60?e.scrollTop=a-60:i>e.clientHeight-60&&(e.scrollTop=a-e.clientHeight+n+60)}}),[T]);var g=function(){S()},S=J()((function(){for(var e=0,n=t.length;e<n;){var r=Math.floor((e+n)/2);t[r].getBoundingClientRect().top>a+20?n=r:e=r+1}N(Math.max(e-1,0))}),50),I=function(e){var n=parseInt(e.currentTarget.dataset.index),c=t[n],o=r&&document.querySelector("#".concat(r)),s=o?o.scrollTop:document.body.scrollTop||document.documentElement.scrollTop,l=c.getBoundingClientRect().top+s;ut.animateScroll.scrollTo(l-a,{duration:300,containerId:r}),i&&window.history.pushState(null,null,"#".concat(c.dataset.anchor))};return s.a.createElement("div",{className:f()("resource-detail-directory"),style:{height:E}},s.a.createElement("div",{className:"resource-detail-directory__title"},m("res.TABLE_OF_CONTENT"),!l&&s.a.createElement("span",{onClick:c,title:"\u82f1\u8bed"===m("en")?"Put away":"\u6536\u8d77"},s.a.createElement(de.a,{type:"icon-cha2x"}))),s.a.createElement("div",{className:"resource-detail-directory__content",ref:_,onMouseEnter:function(){},onMouseLeave:function(){},style:{maxHeight:"calc(100% - 36px"}},s.a.createElement("div",{className:"resource-detail-directory__list"},t.map((function(e,t){var n=f()("resource-detail-directory__item","resource-detail-directory__item--".concat(e.tagName.toLowerCase()),{"resource-detail-directory__item--active":T===t});return s.a.createElement("div",{key:t,"data-index":t,className:n,onClick:I,title:e.textContent},s.a.createElement(rt.a,{clamp:1},e.textContent&&e.textContent.trim()))})),T>=0&&s.a.createElement("span",{className:"resource-detail-directory__indicator",ref:p}))))}),mt=Object(y.i)(),dt=function(e){He()(e),document.body.style.overflow=e?"":"hidden"},_t=function(e){var t=e.detail,n=e.allowCopy,a=e.visible,r=e.onClose,i=e.locale,c=H(i);Object(o.useEffect)((function(){a?(dt(),document.documentElement[mt.requestFullscreen]()):(dt(!0),document[mt.fullscreenElement]&&document[mt.exitFullscreen]());var e=function(){return!document[mt.fullscreenElement]&&r()};return document.addEventListener(mt.fullscreenchange,e),function(){dt(!0),document.removeEventListener(mt.fullscreenchange,e)}}),[a]);var l=Object(o.useState)([]),u=Object(d.a)(l,2),E=u[0],m=u[1],_=Object(o.useState)(!1),p=Object(d.a)(_,2),O=p[0],h=p[1],T=E&&E.length>0;return a?Object(lt.createPortal)(s.a.createElement("div",{className:"resource-presentation-wrapper"},s.a.createElement("div",{className:"presentation-container"},s.a.createElement("div",{className:"presentation-header"},s.a.createElement("div",{className:"presentation-header__exit",onClick:r},c("member.QUIT")),T&&s.a.createElement("div",{className:"presentation-header__menu",onClick:function(){return h(!0)}})),s.a.createElement("div",{className:"presentation-content",id:"presentation-content-container"},s.a.createElement("div",{className:"presentation-content__title"},t.name),t.abstract&&s.a.createElement("div",{className:"presentation-content__abstract"},t.abstract),s.a.createElement("div",{className:"presentation-content__body"},s.a.createElement(Be,{body:t.body,language:t.language,mode:"presentation",copyable:n,onParseDir:m,editorType:t.editor_type}))),T&&s.a.createElement("div",{className:f()("presentation-directory",{"presentation-directory--show":O})},s.a.createElement("div",{className:"presentation-directory__header"},s.a.createElement("i",{className:"presentation-directory__close",onClick:function(){return h(!1)}})),s.a.createElement(Et,{headings:E,scrollOffset:64,scrollContainerId:"presentation-content-container"})))),document.body):null},ft=n(761),pt=function(e){var t=e.dragWidth,n=e.siderVisible,a=e.id,r=e.detailLayoutAction,i=e.detailLayout,c=e.breadcrumbHeight,s=void 0===c?62:c,l=e.toggleSider,u=r.setDetailMenuVisible,E=r.setDetailMenuNormal,m=r.setDetailMenuStyle,d=Object(o.useRef)(!1),_=Object(o.useRef)(i);Object(o.useEffect)((function(){_.current=e}),[e]),Object(o.useEffect)((function(){return p(),window.addEventListener("resize",p),document.addEventListener("click",f),function(){window.removeEventListener("resize",p),document.removeEventListener("click",f)}}),[]),Object(o.useEffect)((function(){var e=window.innerWidth-(n?t:0)<1190;d.current=e,a&&p("props")}),[a,n,t,1090]);var f=function(e){var t=_.current.detailLayout,n=t.detailMenuNormal,a=t.detailMenuVisible;if(!n){var r=document.getElementsByClassName("resource-toggle-side");if(!(r&&r[0]&&r[0].contains(e.target))&&a){var i=document.getElementsByClassName("resource-directory-wrapper")[0];i&&(i.contains(e.target)||u(!1))}}},p=function(e){var t=_.current,n=t.siderVisible,a=t.dragWidth,r=window.innerWidth,i=document.getElementsByClassName("resource-detail-directory__list");setTimeout((function(){if(i[0]){var t=Math.min(i[0].offsetHeight+84,window.innerHeight-(140+s)),c=Math.min(i[0].offsetHeight+84,window.innerHeight-(303+s)),o=r-(n?a:0)<1170;d.current=o,"props"!==e&&o&&u(!1),r<1170&&n&&"props"!==e&&l(!1),E(!o),m({top:o?"unset":s+60+"px",left:o?"unset":(r-(n?a:0)-1090)/2+(n?a:0)+800+20,maxHeight:o?c:t})}}),10)};return null},Ot=(n(1679),function(e){var t=Object(o.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(!1),c=Object(d.a)(i,2),l=c[0],_=c[1],O=Object(o.useState)([]),h=Object(d.a)(O,2),T=h[0],N=h[1],S=e.siteId,I=e.detail,b=e.userInfo,C=e.loading,v=e.detailError,A=e.updataDetail,R=e.fetchWikipageDetailExtra,L=e.fetchWikipageDetail,D=e.wikiSite,k=e.team,M=void 0===k?{}:k,w=e.menuConfig,j=e.detailLayout,U=e.detailLayoutAction,P=e.toggleSider,F=j.detailMenuNormal,Y=j.detailMenuVisible,G=j.detailMenuStyle,V=U.setDetailMenuVisible,W=I?I.info:{},B=b.language_version||x,K=H(B),z=W.class_name,q=Object(o.useRef)(null),X=Object(o.useRef)(null),J=Object(o.useRef)(null),Q=Object(o.useRef)(null),Z=Object(g.h)().id;Object(y.A)({name:W?W.name:"",type:"detail",site:D,teamName:M.name?M.name:""}),Object(o.useEffect)((function(){v&&4003===v.status&&$()}),[v]);var $=function(){et.b.getPageEdits(Z).then((function(e){N(e)})).catch((function(e){m.b.warn(e.message)}))};if(C)return s.a.createElement("div",{className:"wiki-detail wiki-detail_empty"},s.a.createElement("div",{className:"center-spin"},s.a.createElement(E.a,null)));if(v&&4003===v.status)return s.a.createElement("div",{className:"wiki-detail wiki-detail_empty"},s.a.createElement(p.b,{desc:K("res.NO_AUTH_RES"),users:T||[]}));if(!I)return s.a.createElement("div",{className:"wiki-detail wiki-detail_empty"},s.a.createElement(p.a,{desc:"\u6682\u65e0\u8d44\u6e90"}));var ee=function(e){Object(y.u)("/kp_attachment/download",{params:{article_id:e.id,from_original_article:1}}).then((function(e){var t=e.file_url;t&&(window.location.href=t)})).catch((function(e){return m.b.error(e.message)}))},te=function(e){_(e)},ne=function(){V(!Y)};return s.a.createElement("div",{className:f()("wiki-detail"),ref:J},s.a.createElement("div",{className:f()("wiki-detail-content"),ref:Q},s.a.createElement("div",{className:"content-module"},s.a.createElement(Ce,{siteId:S,detail:I,locale:B,wikiSite:D,userInfo:b,togglePresentation:te,fetchWikipageDetailExtra:R,fetchWikipageDetail:L}),s.a.createElement("div",{className:"resource-copyright"},K("res.STATEMENTL")),s.a.createElement(Ae,{detail:I,locale:B}),"WikiPage"===z&&s.a.createElement("div",{className:"resource-content"},s.a.createElement(Be,{locale:B,body:W.body,language:W.language,copyable:W.allow_copy,anchorable:!0,onParseDir:function(e){return r(e)},editorType:W.editor_type})),"Attachment"===z&&s.a.createElement(qe,{locale:B,detail:W,onDownload:ee}),s.a.createElement(u.a,null),("Attachment"===z||W.attachment_authorities&&W.attachment_authorities.length>0)&&s.a.createElement(ut.Element,{name:"attachments"},s.a.createElement(Ze,{detail:W,locale:B,onDownload:ee})),s.a.createElement($e,{detail:W,locale:B}),s.a.createElement(tt,{locale:B,statistic:I.statistic,detail:W,reload:function(e,t){A({type:e,isAdd:t})}})),s.a.createElement("div",{className:"content-module"},s.a.createElement("div",{className:"resource-expansion-card"},s.a.createElement(st,{locale:B,detail:W}))),s.a.createElement("div",{className:"content-module"},s.a.createElement("div",{className:"resource-extra"},s.a.createElement(me.Comment,{UserPopoverComponent:y.p?Ie.a:ft.UserPopover,userInfo:{info:b},authorId:W.author_id,allow_comment:W.allow_comment,csrf:{token:y.y.get("csrfToken"),exp:y.y.get("csrfExp")},locale:B,id:W.id,type:"WikiPage"}))),s.a.createElement(_t,{detail:W,allowCopy:W.allow_copy,visible:l,onClose:function(){return te(!1)},locale:B})),a&&a.length>0&&s.a.createElement("div",{className:f()("resource-side",{"resource-side-hide-ani":!F&&!Y}),style:{width:F&&Y?270:0},ref:q},s.a.createElement("div",{className:f()("resource-directory-wrapper",{"resource-directory-wrapper-fixed-mini":!F,"resource-directory-wrapper-hide":!Y&&F,"resource-directory-wrapper-hide-ani":!F&&!Y}),style:G||{visibility:"hidden"},ref:X},s.a.createElement(Et,{headings:a,anchorable:!0,miniMenu:!F,maxHeight:G?G.maxHeight:"unset",closeSlide:function(){return ne()},locale:B})),s.a.createElement(pt,{id:Z,menuConfig:w,toggleSider:P,siderVisible:!w.siderClose,dragWidth:w.siderWidth,detailLayout:j,detailLayoutAction:U,breadcrumbHeight:40})),a&&a.length>0&&(!Y&&F||!F)&&s.a.createElement("div",{className:f()("resource-toggle-side"),onClick:function(e){return ne()}},s.a.createElement("i",null)))});Ot.defaultProps={text:"",color:""};var ht=Ot,Tt=n(762);n(707),t.default=function(){var e=Object(l.n)(),t=Object(l.q)((function(e){return e.pwiki})),n=t.site,a=t.siteId,r=Object(l.q)((function(e){return e.user.info})),i=Object(l.q)((function(e){return e.pageDetail})),c=Object(l.q)((function(e){return e.config})),o=c.siderClose,u=c.siderWidth,E=Object(l.q)((function(e){return e.detailLayout})),m=Object(l.k)((function(e){return e.pageDetail})),d=m.fetchWikipageDetail,_=m.fetchWikipageDetailExtra,f=Object(l.k)((function(e){return e.detailLayout})),p=Object(l.k)((function(e){return e.config})).handleMenuClose,O=Object(l.m)().query,h=Object(l.l)();return Object(l.p)((function(){d(e.id).then((function(t){t&&4003===t.status?O.has_child&&h.replace({pathname:"/wiki/".concat(e.site,"/category/").concat(O.parent_id),query:{resauth:!0}}):_(e.id)}))}),[e.id]),s.a.createElement("div",{className:"main-content detail-content"},s.a.createElement(Tt.a,null,s.a.createElement("title",null,i.detail?i.detail.info.name+"_WIKI":"WIKI_KM")),s.a.createElement(ht,{menuConfig:{siderWidth:u,siderClose:o},detailLayout:E,detailLayoutAction:f,toggleSider:function(e){return p(!e)},siteId:a,detail:i.detail,loading:i.detailLoading,detailError:i.detailError,userInfo:r,wikiSite:n,fetchWikipageDetailExtra:_,fetchWikipageDetail:d}))}},379:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(92),c=(n(84),n(30)),o=(n(161),n(80)),s=(n(102),n(49)),l=(n(74),n(12)),u=n(6),E=n(71),m=(n(1454),n(173),n(81)),d=n(205),_=n.n(d),f=(n(1455),n(121)),p=n(9),O=(n(1458),n(654),n(235)),h=n(1740),T=n(18),N=n(21),g=(n(1460),function(e){var t=e.tagList,n=e.tagListAdd,i=e.tagListDelete,o=Object(N.a)(N.c),s=Object(h.a)(!1),E=Object(u.a)(s,2),d=E[0],_=E[1].toggle,f=Object(a.useState)(""),g=Object(u.a)(f,2),S=g[0],I=g[1],b=Object(a.useRef)(!1),C=function(e){return 0===e.length?l.b.warn(o("create.DEFAULT_INFO.LABEL_EMPTY_WARN")):Object(p.r)(e)?(I(""),void l.b.warn(o("create.DEFAULT_INFO.LABEL_WARN"))):void(e&&(n(e),I(""),_()))},v=function(e){if("compositionstart"!==e.type){var t=e.target;if(I(t.value),"compositionend"===e.type&&(b.current=!1),!b.current){var n=t.value.split(""),a=n.map((function(e,n){return t.value.charCodeAt(n)>=0&&t.value.charCodeAt(n)<=128?1:2})),r=0;(a.length>0&&a.reduce((function(e,t,n){return 40!==e&&39!==e||(r=n),e+t})))>40&&(t.value=n.slice(0,r).join("")),I(t.value)}}else b.current=!0};return r.a.createElement("div",{className:"edit-tags"},t&&0!==t.length&&t.map((function(e,t){return r.a.createElement(O.a,{className:"edit-tags__tag",key:"".concat(e,"+").concat(t),color:"blue",closable:!0,onClose:function(){return function(e){i(e)}(e)}},e)})),!d&&t.length<=4&&r.a.createElement(O.a,{className:"edit-tags__add",color:"blue",onClick:function(){return _()}},r.a.createElement(T.a,{type:"icon-jiahao"})," ",o("create.DEFAULT_INFO.ADD_TAG")),d&&r.a.createElement("div",{className:"edit-tags__input"},r.a.createElement(m.a,{type:"text",value:S,onPressEnter:function(){return C(S)},placeholder:o("create.DEFAULT_INFO.TAG_FONT_NUM"),onChange:function(e){return v(e)},onCompositionStart:function(e){return v(e)},onCompositionEnd:function(e){return v(e)}}),r.a.createElement(c.a,{onClick:function(){return _()}},o("create.DEFAULT_INFO.CANCEL")),r.a.createElement(c.a,{onClick:function(){return C(S)},style:{color:"#54A5FF"}},o("create.DEFAULT_INFO.CREATE_TAG"))))}),S=n(108),I=(n(1461),n(83)),b=n(52),C=n(53),v=n(63),A=n(64),R=n(754),y=(n(619),n(1462),["aspectRatio","previewSizes"]),L=Object(N.a)(N.c),D=function(e){Object(v.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).handleClick=function(){a.fileInput.click()},a.handleFileChange=function(e){var t=e.target.files;if(t&&t[0]){var n=t[0];if(!n.type.includes("image"))return l.b.error(L("album.IMAGE_INCORRECT"));if(n.size>1024*a.props.maxFileSize*1024)return l.b.error(L("album.MAX_SIZE"));a.setState({file:n}),a.readFile(n)}},a.readFile=function(e){var t=new window.FileReader;t.onload=function(){a.setState({base64:t.result})},t.readAsDataURL(e)},a.getBlob=function(e,t){return new Promise((function(n){e.toBlob((function(e){e.name=t,n(e)}),"image/png")}))},a.upload=function(e){var t=new window.FormData;return t.append("upload",e,e.name),Object(p.u)("/cms_api/upload_image",{method:"POST",data:t})},a.handleOk=function(){var e=a.props,t=e.onCancel,n=e.onOk,r=a.state,i=r.file,c=r.loading;if(!i)return t();if(!c){var o=a.cropRef.current.cropper.getCroppedCanvas();o&&(a.setState({loading:!0}),a.getBlob(o,i.name).then((function(e){return a.upload(e)})).then((function(e){a.setState({loading:!1}),n&&n(e.url)})).catch((function(e){return a.setState({loading:!1,error:e.message})})))}},a.state={file:null,base64:null,loading:!1},a.cropRef=r.a.createRef(),a}return Object(C.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.visible,a=t.file;!e.visible&&n&&a&&(this.setState({file:a}),this.readFile(a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.aspectRatio,a=t.previewSizes,i=Object(I.a)(t,y),o=this.state,l=o.base64,u=o.loading;return r.a.createElement(s.a,Object.assign({width:680,centered:!0,className:"km-modal modal-image-crop",okText:L("member.CONFIRM"),cancelText:L("member.CANCEL"),maskClosable:!1},i,{confirmLoading:u,onOk:this.handleOk}),r.a.createElement("div",{className:"modal-image-crop__container"},r.a.createElement("div",{className:"modal-image-crop__edit"},r.a.createElement("input",{type:"file",onChange:this.handleFileChange,ref:function(t){return e.fileInput=t},accept:"image/*"}),r.a.createElement("div",{className:"modal-image-crop__crop"},l?r.a.createElement(R.a,{src:l,style:{height:300,width:300},aspectRatio:n,preview:".modal-image-crop .preview-image",ref:this.cropRef}):r.a.createElement(c.a,{type:"primary",onClick:this.handleClick},L("album.SELECT_IMAGE"))),!!l&&r.a.createElement("div",{className:"modal-image-crop__actions"},r.a.createElement(c.a,{onClick:this.handleClick},L("album.REUPLOAD")))),r.a.createElement("div",{className:"modal-image-crop__preview"},r.a.createElement("div",{className:"preview-title"},L("album.PREVIEW")),a.map((function(e){return r.a.createElement("div",{className:"preview-item",key:e},r.a.createElement("div",{className:"preview-image",style:{width:e,height:e}}),r.a.createElement("div",{className:"preview-size"},e,"x",e))})))))}}]),n}(a.Component);D.defaultProps={title:L("album.EDIT_PICTURE"),maxFileSize:5,aspectRatio:1,previewSizes:[55,35]};var k,M,w=Object(a.forwardRef)((function(e,t){var n=e.value,i=e.onChange,o=e.maxSize,s=void 0===o?p.a:o,E=Object(N.a)(N.c),m=Object(a.useRef)(null),d=Object(a.useState)(null),_=Object(u.a)(d,2),f=_[0],O=_[1],h=Object(a.useState)(!1),T=Object(u.a)(h,2),g=T[0],S=T[1];return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"app-upload-logo"},r.a.createElement("div",{className:"app-upload-logo__image",ref:t},n&&r.a.createElement("img",{src:n,alt:"logo"})),r.a.createElement("div",{className:"app-upload-logo__action"},r.a.createElement("input",{ref:m,type:"file",style:{display:"none"},onChange:function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];if(!t.type.includes("image"))return l.b.error(E("album.IMAGE_INCORRECT"));if(t.size>1024*s*1024)return l.b.error(E("album.MAX_SIZE"));S(!0),O(t),e.target.value=""}}}),r.a.createElement(c.a,{onClick:function(){m&&m.current&&m.current.click()},style:{background:"#F1F4F8",borderRadius:4,border:"none"}},E("album.UPLOAD")),r.a.createElement("div",{className:"app-upload-logo__hint"},E("album.MAX_SIZE_TIPS")))),r.a.createElement(D,{title:E("album.SITE_LOGO"),visible:g,file:f,maxFileSize:s,onCancel:function(){S(!1),O(null)},previewSizes:[60,32],onOk:function(e){S(!1),O(null),i&&i(e)}}))})),j=n(25),U=(n(174),n(61)),P=(n(1464),n(201),n(79)),x=(n(85),n(39)),F=n(33),H=n(8),Y=n(3),G=n.n(Y),V=[],W=function e(t){var n=t.dept,i=t.level,c=void 0===i?1:i,o=t.activeId,s=t.onSelect,l=t.onExpand,E=t.expandedId,m=Object(a.useState)(E===n.id),d=Object(u.a)(m,2),_=d[0],f=d[1],p=Object(a.useState)(""),O=Object(u.a)(p,2),h=O[0],T=O[1],N=n.name,g=n.children,S=g&&g.length>0,I=G()("dept-node","dept-node--level-".concat(c),{"dept-node--expanded":_,"dept-node--leaf":!S,"dept-node--active":n.id===o});Object(a.useEffect)((function(){f(E===n.id)}),[E,n.id]);var b=function(e){T(e)};return r.a.createElement("div",{className:I},r.a.createElement("div",{className:"dept-node__title"},r.a.createElement("i",{className:"dept-node__toggle",onClick:function(){return f(!_),void l(_?null:n.id)}}),r.a.createElement("div",{className:"dept-node__name",title:N,onClick:function(){return s(n)}},N)),S&&r.a.createElement("div",{className:"dept-node__list"},g.map((function(t){return r.a.createElement(e,{key:t.id,dept:t,level:c+1,expandedId:h,activeId:o,onSelect:s,onExpand:b})}))))},B=function(e){var t=e.value,n=e.onChange,i=Object(N.a)(N.c),c=Object(a.useState)([]),o=Object(u.a)(c,2),s=o[0],l=o[1],E=Object(a.useState)({}),m=Object(u.a)(E,2),d=m[0],_=m[1],f=Object(a.useState)(null),O=Object(u.a)(f,2),h=O[0],T=O[1],g=Object(a.useState)(""),S=Object(u.a)(g,2),I=S[0],b=S[1],C=Object(a.useState)([]),v=Object(u.a)(C,2),A=v[0],R=v[1];Object(a.useEffect)((function(){R(t.map((function(e){return e.key})))}),[t]),Object(a.useEffect)((function(){(V&&V.length?Promise.resolve(V):Object(p.u)("/cms_api/departments").then((function(e){return V=e.list,e.list}))).then((function(e){return l(e)}))}),[]);var y=function(e){T(e),d[e.id]||(_(Object(H.a)(Object(H.a)({},d),{},Object(F.a)({},e.id,{loading:!0}))),Object(p.u)("/cms_api/departments/".concat(e.id,"/users")).then((function(t){var n=t.list;_(Object(H.a)(Object(H.a)({},d),{},Object(F.a)({},e.id,{loading:!1,users:n})))})).catch((function(){return _(Object(H.a)(Object(H.a)({},d),{},Object(F.a)({},e.id,{loading:!1})))})))},L=h&&d[h.id]||{},D=L.loading,k=L.users,M=void 0===k?[]:k,w=M.map((function(e){return e.id+""})),j=M.every((function(e){return A.includes(e.id.toString())})),U=function(e,a){a?n&&n(t.concat({key:e.id+"",label:e.name})):n&&n(t.filter((function(t){return t.key!==e.id+""})))},Y=function(e){b(e)};return r.a.createElement("div",{className:"dept-container"},r.a.createElement("div",{className:"dept-tree"},s.map((function(e){return r.a.createElement(W,{key:e.id,dept:e,activeId:h&&h.id,expandedId:I,onSelect:y,onExpand:Y})}))),!!h&&r.a.createElement("div",{className:"dept-users"},D&&r.a.createElement("div",{className:"user-loading"},r.a.createElement(x.a,null)),!D&&(!M||!M.length)&&r.a.createElement("div",{className:"user-empty"},i("home.NO_USERS")),M&&M.length>0&&r.a.createElement("div",{className:"user-select"},r.a.createElement("div",{className:"user-all"},r.a.createElement(P.a,{checked:j,onChange:function(e){var a=t.filter((function(e){return!w.includes(e.key)}));e.target.checked&&(a=a.concat(M.map((function(e){return{key:e.id+"",label:e.name}})))),n&&n(a)}},r.a.createElement("span",{className:"user-all__label"},i("home.ALL")))),r.a.createElement("div",{className:"user-list"},M.map((function(e){return r.a.createElement("div",{className:"user-item",key:e.id},r.a.createElement(P.a,{checked:A.includes(e.id.toString()),onChange:function(t){return U(e,t.target.checked)}},r.a.createElement("span",{className:"user-item__name"},e.name),r.a.createElement("span",{className:"user-item__mail"},e.pemail)))}))))))},K=function(e){var t=Object(N.a)(N.c),n=e.onChange,i=e.value,o=Object(a.useState)([]),s=Object(u.a)(o,2),l=s[0],E=s[1],m=function(e){var t=e.id,n=e.name,a=e.person;return a?r.a.createElement(U.a.Option,{key:t,label:r.a.createElement("span",null,n)},"".concat(a.name,"-").concat(a.org_name.split("-").join(" / "),"-").concat(a.pemail)):null},d=function(e){n&&n(e)};return r.a.createElement("div",{className:"app-user-select"},r.a.createElement("div",{className:"app-user-select-input"},r.a.createElement(U.a,{value:i,onSearch:function(e){e?function(e,t){k&&(clearTimeout(k),k=null),M=e;k=setTimeout((function(){Object(p.u)("/cms_api/search_persons",{params:{query:e}}).then((function(n){return M===e&&t(n.list)}))}),200)}(e,(function(e){return E(e.map(m))})):E([])},onSelect:function(){return E([])},onDeselect:function(){return E([])},onChange:d,mode:"multiple",labelInValue:!0,style:{width:"100%"},placeholder:t("member.SEARCH_NAME_EMAIL"),allowClear:!0,clearIcon:r.a.createElement(c.a,{type:"link",style:{margin:0,padding:0,position:"relative",left:-10,top:-10}},t("member.EMPTY")),filterOption:!1,notFoundContent:null,optionLabelProp:"label",defaultActiveFirstOption:!1,choiceTransitionName:""},l)),r.a.createElement("div",{className:"app-user-select-depts"},r.a.createElement(B,{value:i,onChange:d})))},z=["visible","onOk","value"],q=function(e){var t=e.visible,n=e.onOk,i=e.value,c=Object(I.a)(e,z),o=Object(N.a)(N.c),l=Object(a.useState)([]),E=Object(u.a)(l,2),m=E[0],d=E[1],_=Object(a.useState)(!1),f=Object(u.a)(_,2),p=f[0],O=f[1];Object(a.useEffect)((function(){t&&d([]),d(i)}),[t,i]);return r.a.createElement(s.a,Object.assign({visible:t,width:600,title:o("member.INVITE_MEMBERS_DIRECTLY"),centered:!0,okButtonProps:{disabled:!m||!m.length},className:"km-modal modal-select-member",confirmLoading:p,onOk:function(){m&&m.length&&n(m,O)}},c),r.a.createElement(K,{value:m,onChange:function(e){d(e)}}))},X=[],J=Object(E.b)((function(e){var t=e.user,n=e.wikiSetting;return{userInfo:t.info,mg:n.managers}}),(function(){return{}}))((function(e){var t=e.isEditPage,n=e.id,i=e.userInfo,c=e.mg,o=Object(N.a)(N.c),s=Object(a.useState)(!1),E=Object(u.a)(s,2),m=E[0],d=E[1],_=Object(S.a)([]),f=Object(u.a)(_,2),O=f[0],h=f[1];Object(a.useEffect)((function(){h((function(e){var t=c.map((function(e){return{key:String(e.id),label:e.name}}));return X=X.concat(t),e.concat(t)}))}),[c]),Object(a.useEffect)((function(){t||h((function(e){var t=[{key:String(i.id),label:i.name}];return X=X.concat(t),e.concat(t)}))}),[i]);var g=function(e,t){t&&t(!0),j.c.setWikiManagers(n,e).then((function(e){t&&t(!1),e&&l.b.success(o("create.DEFAULT_INFO.MANAGER_MODIFIED_SUCCESS"))}))};return Object(p.C)((function(){X=[]})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wiki-authority__finput",style:{padding:"0 40px 0 12px"},onClick:function(){return d(!0)}},r.a.createElement("div",{className:"wiki-authority__finput__managers-name"},O.map((function(e,t){return r.a.createElement("span",{style:{lineHeight:"36px"},key:t},"string"===typeof e.label?e.label:e.label.props.children)}))),r.a.createElement(T.a,{className:"wiki-authority__ficon",type:"icon-bianjixiao2x",style:{color:"rgb(175, 175, 175)"}})),r.a.createElement(q,{visible:m,value:O,onCancel:function(){return d(!1)},onOk:function(e,n){h((function(){return e})),X=e,d(!1);var a=e.map((function(e){return+e.key}));t&&g(a,n)}}))})),Q={labelCol:{span:2},wrapperCol:{span:12}},Z={wrapperCol:{offset:2,span:12}},$={wrapperCol:{span:18}},ee=window.location.origin,te="".concat(ee,"/wikis/"),ne=r.a.forwardRef((function(e,t){var n=e.isEditPage,o=e.id,s=e.setCreateSaveLoading,E=e.editAuthorities,d=e.viewAuthorities,O=e.userInfo,h=e.wiki,T=e.profile,I=e.profileId,b=(Object(i.f)(),Object(N.a)(N.c)),C=Object(S.a)({cname:"",ename:"",path:"",cintro:"",eintro:"",tagList:[],logo:"http://fp-dev.webapp.163.com/km/file/5f508c6054b2d3541803c9b3U5xq3xji02"}),v=Object(u.a)(C,2),A=v[0],R=v[1],y=f.a.useForm(),L=Object(u.a)(y,1)[0];Object(a.useEffect)((function(){if(h){var e=h.wiki_type,t=h.profile_id,n=h.created_by_id,a=h.name,r=h.name_en,i=h.path,c=h.abstract_info,o=h.abstract_info_en,s=h.tags,l=h.image_url;R((function(u){u.type=e,u.profileId=t,u.createdById=n,u.cname=a||"",u.ename=r||"",u.path=i,u.cintro=c||"",u.eintro=o||"",u.tagList=s,u.logo=l})),L.setFieldsValue({cname:a,ename:r,cintro:c,eintro:o})}}),[h]);var D=Object(a.useState)(!1),k=Object(u.a)(D,2),M=k[0],U=k[1];Object(a.useImperativeHandle)(t,(function(){return{wikiObj:A,checkForm:L.validateFields,getFieldsError:L.getFieldsError,finish:P}}));var P=function(){if(n)U(!0),j.c.setWikiInfo(o,{name:A.cname,nameEn:A.ename,abstractInfo:A.cintro,abstractInfoEn:A.eintro,tags:A.tagList,imageUrl:A.logo}).then((function(e){U(!1),e&&l.b.success({content:b("setting.DEFAULT_INFO.SAVE_SUCCESS"),duration:2})})).catch((function(e){U(!1),l.b.error(e.message),"wiki\u7ad9\u70b9\u4e2d\u6587\u540d\u79f0\u91cd\u590d"===e.message?L.setFields([{name:"cname",errors:[e.message]}]):"wiki\u7ad9\u70b9URL\u91cd\u590d"===e.message&&L.setFields([{name:"path",errors:[e.message]}])}));else{s(!0);var e={createdById:O.id,name:A.cname,nameEn:A.ename,abstractInfo:A.cintro,abstractInfoEn:A.eintro,tags:A.tagList,imageUrl:A.logo,path:A.path,person_ids:X.map((function(e){return+e.key})),allowShareHorizon:!0,allowShare:!0,allowComment:!0,allowCopy:!0,allowExpPdf:!0};E.public?e.editPublic=!0:(e.editPublic=!1,e.editAuthorities=(E.authorities||[]).map((function(e){return e.type+"-"+e.id}))),d.public?e.viewPublic=!0:(e.viewPublic=!1,e.viewAuthorities=(d.authorities||[]).map((function(e){return e.type+"-"+e.id}))),Object(p.t)()&&(e.profileId=I),j.c.createWikiSite(e).then((function(e){e&&(s(!1),Object(p.t)()?Object(p.u)(function(e,t){return"/team_space/".concat(e,"/wikis/").concat(t,"/bind")}(T,e.id),{method:"POST"}).then((function(){window.location.href="/team/".concat(T,"/wiki/site/").concat(e.id)})).catch((function(e){l.b.error(e.message)})):window.location.href="/wiki/".concat(e.id))})).catch((function(e){s(!1),l.b.error(e.message),"wiki\u7ad9\u70b9\u4e2d\u6587\u540d\u79f0\u91cd\u590d"===e.message?L.setFields([{name:"cname",errors:[e.message]}]):"wiki\u7ad9\u70b9URL\u91cd\u590d"===e.message&&L.setFields([{name:"path",errors:[e.message]}])}))}};return r.a.createElement(f.a,Object.assign({},Q,{className:"wiki-edit",name:"wiki-info",form:L,initialValues:!n&&{cname:"",ename:"",cintro:"",eintro:""},onFinish:P,onValuesChange:function(e){var t=_()(e)[0];t&&R((function(n){n[t]=e[t].trim()}))},labelAlign:"left"}),r.a.createElement(f.a.Item,{label:b("create.DEFAULT_INFO.TITLE"),name:"cname",required:!0,rules:[{required:!0,message:b("create.DEFAULT_INFO.ENTER_TITLE",{language:"\u4e2d\u6587"})}]},r.a.createElement(m.a,{autoComplete:"off",placeholder:b("create.DEFAULT_INFO.ENTER_TITLE",{language:"\u4e2d\u6587"}),maxLength:50,prefix:"CN",suffix:r.a.createElement("span",{style:{color:"#bbbbbb"}},L.getFieldValue("cname")?L.getFieldValue("cname").length:0,"/50")})),r.a.createElement(f.a.Item,Object.assign({},Z,{name:"ename",style:{marginBottom:6},rules:[]}),r.a.createElement(m.a,{autoComplete:"off",placeholder:b("create.DEFAULT_INFO.ENTER_TITLE",{language:"\u82f1\u6587"}),maxLength:50,prefix:"EN",suffix:r.a.createElement("span",{style:{color:"#bbbbbb"}},L.getFieldValue("ename")?L.getFieldValue("ename").length:0,"/50")})),r.a.createElement(f.a.Item,Z,r.a.createElement("small",{style:{marginBottom:12,marginLeft:10}},b("create.DEFAULT_INFO.LAST_ONE_CTITLE"))),n?r.a.createElement(f.a.Item,{label:b("create.DEFAULT_INFO.PATH"),style:{marginBottom:11}},r.a.createElement("div",{style:{paddingLeft:10}},h?"".concat(ee,"/").concat(h.path):"")):r.a.createElement(f.a.Item,{label:b("create.DEFAULT_INFO.PATH"),name:"path",rules:[{required:!0,message:b("create.DEFAULT_INFO.PATH_TIP_ONE")},{validator:function(){return/^[a-z0-9-_]{2,15}$/.test(L.getFieldValue("path"))?Promise.resolve():Promise.reject(b("create.DEFAULT_INFO.PATH_TIP_TWO"))}}],style:{marginBottom:6}},r.a.createElement(m.a,{addonBefore:te,autoComplete:"off",onBlur:function(){var e=L.getFieldValue("path");!L.getFieldError("path").length&&e&&j.c.checkPathName(e).then((function(e){e.result||(l.b.error(b("create.DEFAULT_INFO.PATH_EXISTS")),L.setFields([{name:"path",errors:[b("create.DEFAULT_INFO.PATH_EXISTS")]}]))}))},suffix:r.a.createElement("span",{style:{color:"#bbbbbb"}},L.getFieldValue("path")?L.getFieldValue("path").length:0,"/15")})),r.a.createElement(f.a.Item,Z,r.a.createElement("small",{style:{marginBottom:12,marginLeft:10}},b("create.DEFAULT_INFO.PATH_TIPS"))),r.a.createElement(f.a.Item,{label:b("create.DEFAULT_INFO.INTRO"),style:{position:"relative",marginBottom:0}},r.a.createElement("span",{className:"wiki-edit__area-prefix"},"CN"),r.a.createElement(f.a.Item,{name:"cintro",rules:[]},r.a.createElement(m.a.TextArea,{placeholder:b("create.DEFAULT_INFO.ENTER_INTRO",{language:"\u4e2d\u6587"}),maxLength:300,autoSize:{minRows:3,maxRows:10},style:{textIndent:42,padding:"11px 11px 24px 11px",overflowX:"hidden"}})),r.a.createElement("span",{className:"wiki-edit__area-suffix"},L.getFieldValue("cintro")?L.getFieldValue("cintro").trim().length:0,"/300")),r.a.createElement(f.a.Item,Object.assign({},Z,{style:{position:"relative"}}),r.a.createElement("span",{className:"wiki-edit__area-prefix"},"EN"),r.a.createElement(f.a.Item,{name:"eintro",rules:[]},r.a.createElement(m.a.TextArea,{placeholder:b("create.DEFAULT_INFO.ENTER_INTRO",{language:"\u82f1\u6587"}),maxLength:300,autoSize:{minRows:3,maxRows:10},style:{textIndent:42,padding:"11px 11px 24px 11px",overflowX:"hidden"}})),r.a.createElement("span",{className:"wiki-edit__area-suffix"},L.getFieldValue("eintro")?L.getFieldValue("eintro").trim().length:0,"/300")),r.a.createElement(f.a.Item,Object.assign({label:b("create.DEFAULT_INFO.TAGS")},$,{style:{marginBottom:40}}),r.a.createElement(g,{tagListAdd:function(e){-1===A.tagList.indexOf(e)?R((function(t){t.tagList.push(e)})):l.b.warning(b("create.DEFAULT_INFO.SAME_TAG"))},tagListDelete:function(e){R((function(t){t.tagList=t.tagList.filter((function(t){return t!==e}))}))},tagList:A.tagList})),r.a.createElement(f.a.Item,Object.assign({},$,{label:"Logo"}),r.a.createElement(w,{onChange:function(e){R((function(t){t.logo=e}))},value:A.logo})),n&&r.a.createElement(f.a.Item,{style:{marginTop:50}},r.a.createElement(c.a,{type:"primary",htmlType:"button",loading:M,onClick:L.submit},b(n?"create.DEFAULT_INFO.SAVE":"create.DEFAULT_INFO.NEW"))))})),ae=(n(246),n(105)),re=n(45),ie=n.n(re),ce=n(180),oe=n(285),se=Object(E.b)((function(e){var t=e.user,n=e.wikiSetting;return{userInfo:t.info,viewAuthorities:n.viewAuthorities,editAuthorities:n.editAuthorities,wiki:n.info}}),(function(e){return{setViewAuthoritiesEffect:e.wikiSetting.setViewAuthoritiesEffect,setEditAuthoritiesEffect:e.wikiSetting.setEditAuthoritiesEffect,fetchWikiAuths:e.wikiSetting.fetchAuths}}))((function(e){var t=e.isEditPage,n=e.id,i=e.auths,c=e.editAuthorities,o=e.viewAuthorities,s=e.setEditAuthoritiesEffect,E=e.setViewAuthoritiesEffect,m=(e.fetchWikiAuths,Object(N.a)(N.c)),d=Object(a.useState)(!1),_=Object(u.a)(d,2),f=_[0],p=_[1],O=Object(a.useState)(0),h=Object(u.a)(O,2),T=h[0],g=h[1],S=Object(a.useState)([]),I=Object(u.a)(S,2),b=I[0],C=I[1],v=Object(a.useState)(!1),A=Object(u.a)(v,2),R=A[0],y=A[1],L=Object(a.useMemo)((function(){return!!c.authorities&&!c.authorities.every((function(e){return e.older}))}),[c]);Object(a.useEffect)((function(){if(i){var e=ie()(i.publish_authorities.authorities.resource_publish);e.authorities.length&&e.authorities.map((function(e){return e.older=!0,e})),s(e)}}),[i]);var D=function(){var e=ie()(o),t=ie()(c);e.authorities.length&&e.authorities.map((function(e){return e.older||(e.older=!0),e})),t.authorities.length&&t.authorities.map((function(e){return e.older||(e.older=!0),e})),E(e),s(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wiki-authority__finput"},r.a.createElement(ce.a,{value:c,onOk:function(e){return function(e,n){s(n),t&&p(!0),l.b.warning({content:m("create.DEFAULT_INFO.AUTH_PUBLISH_TIPS"),duration:3})}(0,e)},isSettingPage:!0})),r.a.createElement(oe.a,{visible:f,onOk:function(){y(!0);var e={},t={};c.public?e.editPublic=!0:(e.editPublic=!1,e.editAuthorities=(c.authorities||[]).map((function(e){return e.type+"-"+e.id}))),o.public?t.viewPublic=!0:(t.viewPublic=!1,t.viewAuthorities=(o.authorities||[]).map((function(e){return e.type+"-"+e.id}))),2===T?(e.sync=!0,e.cover=!1,t.sync=!0,t.cover=!1):3===T?(e.sync=!0,e.cover=!1,e.cat_ids=b,t.sync=!0,t.cover=!1,t.cat_ids=b):4===T?(e.sync=!0,e.cover=!0,t.sync=!0,t.cover=!0):5===T?(e.sync=!0,e.cover=!0,e.cat_ids=b,t.sync=!0,t.cover=!0,t.cat_ids=b):(e.sync=!1,e.cover=!1,t.sync=!1,t.cover=!1),Promise.all([j.c.setWikieditAuth(n,e),j.c.setWikiViewAuth(n,t)]).then((function(e){y(!1),e&&(D(),l.b.success(m("create.DEFAULT_INFO.PUBLISH_MODIFIED_SUCCESS")),p(!1))})).catch((function(e){y(!1),l.b.error(e.message)}))},onCancel:function(){var e={sync:!1,cover:!1},t={sync:!1,cover:!1};c.public?e.editPublic=!0:(e.editPublic=!1,e.editAuthorities=(c.authorities||[]).map((function(e){return e.type+"-"+e.id}))),o.public?t.viewPublic=!0:(t.viewPublic=!1,t.viewAuthorities=(o.authorities||[]).map((function(e){return e.type+"-"+e.id}))),Promise.all([j.c.setWikieditAuth(n,e),j.c.setWikiViewAuth(n,t)]).then((function(e){e&&(D(),l.b.success(m("create.DEFAULT_INFO.PUBLISH_MODIFIED_SUCCESS")),p(!1))})).catch((function(e){l.b.error(e.message)}))},onChange:s,value:c,authType:"\u53d1\u5e03",isOnlyAdd:L,radioValue:T,onRadioChange:function(e){g(e.target.value)},onSelectedCheck:function(e){C(e)},confirmLoading:R}))})),le=Object(E.b)((function(e){var t=e.user,n=e.wikiSetting;return{userInfo:t.info,viewAuthorities:n.viewAuthorities,editAuthorities:n.editAuthorities,wiki:n.info}}),(function(e){return{setViewAuthoritiesEffect:e.wikiSetting.setViewAuthoritiesEffect,setEditAuthoritiesEffect:e.wikiSetting.setEditAuthoritiesEffect,fetchWikiAuths:e.wikiSetting.fetchAuths}}))((function(e){var t=e.isEditPage,n=e.id,i=e.auths,c=e.setViewAuthoritiesEffect,o=e.setEditAuthoritiesEffect,s=e.viewAuthorities,E=e.editAuthorities,m=(e.fetchWikiAuths,Object(N.a)(N.c)),d=Object(a.useState)(!1),_=Object(u.a)(d,2),f=_[0],p=_[1],O=Object(a.useState)(0),h=Object(u.a)(O,2),T=h[0],g=h[1],S=Object(a.useState)([]),I=Object(u.a)(S,2),b=I[0],C=I[1],v=Object(a.useState)(!1),A=Object(u.a)(v,2),R=A[0],y=A[1],L=Object(a.useMemo)((function(){return!!s.authorities&&!s.authorities.every((function(e){return e.older}))}),[s]);Object(a.useEffect)((function(){if(i){var e=ie()(i.view_authorities.authorities.view);e.authorities.map((function(e){return e.older=!0,e})),c(e)}}),[i]);var D=function(){var e=ie()(s),t=ie()(E);e.authorities.length&&e.authorities.map((function(e){return e.older||(e.older=!0),e})),t.authorities.length&&t.authorities.map((function(e){return e.older||(e.older=!0),e})),c(e),o(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wiki-authority__finput"},r.a.createElement(ce.a,{value:s,onOk:function(e){return function(e,n){c(n),t&&p(!0),l.b.warning({content:m("create.DEFAULT_INFO.AUTH_VIEW_TIPS"),duration:3})}(0,e)},isSettingPage:!0})),r.a.createElement(oe.a,{visible:f,onOk:function(){y(!0);var e={},t={};s.public?e.viewPublic=!0:(e.viewPublic=!1,e.viewAuthorities=(s.authorities||[]).map((function(e){return e.type+"-"+e.id}))),E.public?t.editPublic=!0:(t.editPublic=!1,t.editAuthorities=(E.authorities||[]).map((function(e){return e.type+"-"+e.id}))),2===T?(e.sync=!0,e.cover=!1,t.sync=!0,t.cover=!1):3===T?(e.sync=!0,e.cover=!1,e.cat_ids=b,t.sync=!0,t.cover=!1,t.cat_ids=b):4===T?(e.sync=!0,e.cover=!0,t.sync=!0,t.cover=!0):5===T?(e.sync=!0,e.cover=!0,e.cat_ids=b,t.sync=!0,t.cover=!0,t.cat_ids=b):(e.sync=!1,e.cover=!1,t.sync=!1,t.cover=!1),Promise.all([j.c.setWikieditAuth(n,t),j.c.setWikiViewAuth(n,e)]).then((function(e){y(!1),e&&(D(),l.b.success(m("create.DEFAULT_INFO.VIEW_MODIFIED_SUCCESS")),p(!1))})).catch((function(e){y(!1),l.b.error(e.message)}))},onCancel:function(){var e={sync:!1,cover:!1},t={sync:!1,cover:!1};s.public?e.viewPublic=!0:(e.viewPublic=!1,e.viewAuthorities=(s.authorities||[]).map((function(e){return e.type+"-"+e.id}))),E.public?t.editPublic=!0:(t.editPublic=!1,t.editAuthorities=(E.authorities||[]).map((function(e){return e.type+"-"+e.id}))),Promise.all([j.c.setWikieditAuth(n,t),j.c.setWikiViewAuth(n,e)]).then((function(e){e&&(D(),l.b.success(m("create.DEFAULT_INFO.VIEW_MODIFIED_SUCCESS")),p(!1))})).catch((function(e){l.b.error(e.message)}))},onChange:c,value:s,authType:"\u8bbf\u95ee",isOnlyAdd:L,radioValue:T,onRadioChange:function(e){g(e.target.value)},onSelectedCheck:function(e){C(e)},confirmLoading:R}))})),ue=(n(1465),Object(E.b)((function(e){var t=e.wikiSetting;return{wiki:t.info,auths:t.auths}}),(function(){return{}}))((function(e){var t=e.isEditPage,n=e.id,i=e.auths,o=e.wiki,E=Object(N.a)(N.c),m=Object(a.useState)(!1),d=Object(u.a)(m,2),_=d[0],f=d[1],p=Object(a.useState)(!1),O=Object(u.a)(p,2),h=O[0],g=O[1],S=Object(a.useState)(!1),I=Object(u.a)(S,2),b=I[0],C=I[1],v=Object(a.useState)(!1),A=Object(u.a)(v,2),R=A[0],y=A[1],L=Object(a.useState)(!1),D=Object(u.a)(L,2),k=D[0],M=D[1],w=Object(a.useState)(!1),U=Object(u.a)(w,2),x=U[0],F=U[1];return Object(a.useEffect)((function(){if(o){var e=o.allow_comment,t=o.allow_copy,n=o.allow_exp_pdf,a=o.allow_share,r=o.allow_share_horizon;y(!e),M(!t),F(!n),C(!a),g(!r)}}),[o]),r.a.createElement("div",{className:"wiki-authority"},r.a.createElement("div",{className:"wiki-authority__fitem"},r.a.createElement("div",{className:G()("wiki-authority__ftitle","\u82f1\u8bed"===E("en")&&"wiki-authority__ftitle--eg")},E("create.DEFAULT_INFO.VIEW_PERMISSION")),r.a.createElement(le,{auths:i,id:n,isEditPage:t}),r.a.createElement(ae.a,{placement:"rightTop",title:E("create.DEFAULT_INFO.AUTH_VIEW_TIPS")},r.a.createElement(T.a,{type:"icon-wenhao",className:"wiki-authority__wenhao"}))),r.a.createElement("div",{className:"wiki-authority__fitem"},r.a.createElement("div",{className:G()("wiki-authority__ftitle","\u82f1\u8bed"===E("en")&&"wiki-authority__ftitle--eg")},E("create.DEFAULT_INFO.PUBLISH_PERMISSION")),r.a.createElement(se,{auths:i,id:n,isEditPage:t}),r.a.createElement(ae.a,{placement:"rightTop",title:E("create.DEFAULT_INFO.AUTH_PUBLISH_TIPS")},r.a.createElement(T.a,{type:"icon-wenhao",className:"wiki-authority__wenhao"}))),r.a.createElement("div",{className:"wiki-authority__fitem"},r.a.createElement("div",{className:G()("wiki-authority__ftitle","\u82f1\u8bed"===E("en")&&"wiki-authority__ftitle--eg")},E("create.DEFAULT_INFO.MANAGER")),r.a.createElement(J,{id:n,isEditPage:t})),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wiki-authority__fitem wiki-authority__fitem-others"},r.a.createElement("div",{className:G()("wiki-authority__ftitle","\u82f1\u8bed"===E("en")&&"wiki-authority__ftitle--eg","wiki-authority__ftitle-others")},r.a.createElement("div",null,E("create.DEFAULT_INFO.SITE_RESOURCE_AUTH_CONFIG")),r.a.createElement("div",{className:"wiki-authority__ftitle-tips"},E("create.DEFAULT_INFO.SITE_RESOURCE_AUTH_CONFIG_TIP"))),r.a.createElement("div",{className:"wiki-authority__fitem-checkboxes"},r.a.createElement(P.a,{checked:h,onChange:function(e){return g(e.target.checked)}},E("create.DEFAULT_INFO.NO_MOMENT")),r.a.createElement(P.a,{checked:b,onChange:function(e){return C(e.target.checked)}},E("create.DEFAULT_INFO.NO_SITE_SHARE")),r.a.createElement(P.a,{checked:R,onChange:function(e){return y(e.target.checked)}},E("create.DEFAULT_INFO.NO_COMMENT")),r.a.createElement(P.a,{checked:k,onChange:function(e){return M(e.target.checked)}},E("create.DEFAULT_INFO.NO_COPY")),r.a.createElement(P.a,{checked:x,onChange:function(e){return F(e.target.checked)}},E("create.DEFAULT_INFO.NO_PDF")))),r.a.createElement("div",null,r.a.createElement(c.a,{type:"primary",htmlType:"button",loading:_,onClick:function(){s.a.confirm({title:E("create.DEFAULT_INFO.SAVE_AUTH_TITLE"),content:E("create.DEFAULT_INFO.SAVE_AUTH_CONTENT"),centered:!0,okText:E("setting.DEFAULT_INFO.SAVE_AUTH_CONFIRM"),okType:"primary",autoFocusButton:null,onOk:function(){f(!0),j.c.editWikiSiteAllowAuth(n,{allow_share_horizon:!h,allow_share:!b,allow_comment:!R,allow_copy:!k,allow_exp_pdf:!x}).then((function(e){e&&(l.b.success({content:E("setting.DEFAULT_INFO.SAVE_SUCCESS"),duration:2}),f(!1))})).catch((function(e){l.b.error(e.message),f(!1)}))}})}},E("create.DEFAULT_INFO.SAVE")))))}))),Ee=n(87),me=Object(i.i)(Object(E.b)((function(e){var t=e.user,n=e.wikiSetting;return{userInfo:t.info,viewAuthorities:n.viewAuthorities,editAuthorities:n.editAuthorities,wiki:n.info,wikiDetail:n.wikiDetail,noAuth:n.noAuth}}),(function(e){return{fetchWikiSettingInfo:e.wikiSetting.fetchInfo,fetchWikiAuths:e.wikiSetting.fetchAuths}}))((function(e){var t=e.id,n=e.fetchWikiSettingInfo,i=e.fetchWikiAuths,E=e.profile,m=void 0===E?null:E,d=e.profileId,_=e.editAuthorities,f=e.viewAuthorities,O=e.userInfo,h=e.wiki,T=e.team,g=void 0===T?{}:T,S=e.noAuth,I=!!t,b=Object(N.a)(N.c),C=Object(a.useRef)(),v=Object(a.useState)(!1),A=Object(u.a)(v,2),R=A[0],y=A[1],L=Object(a.useState)(!1),D=Object(u.a)(L,2),k=D[0],M=D[1];Object(p.A)({type:"set",site:h?{wiki:h}:null,teamName:g.name?g.name:""}),Object(a.useEffect)((function(){I&&n(t)}),[]),Object(a.useEffect)((function(){h&&i(t)}),[h]);return S?r.a.createElement("div",{className:"pcreate-setting__noauth"},r.a.createElement(Ee.b,{desc:b("wiki.NO_AUTH_ACCESS")})):I&&!h?null:r.a.createElement("section",{className:"pcreate-setting"},r.a.createElement("div",{className:"pcreate-setting__container"},r.a.createElement("div",{className:"pcreate-setting__info"},r.a.createElement("h1",null,b(I?"setting.DEFAULT_INFO.BASIC_INFO":"create.DEFAULT_INFO.CREATE_WIKI")),r.a.createElement(o.a,null),r.a.createElement(ne,{setCreateSaveLoading:y,ref:C,id:t,isEditPage:I,profile:m,profileId:d,editAuthorities:_,viewAuthorities:f,userInfo:O,wiki:h})),r.a.createElement("div",{className:"pcreate-setting__authority",style:I?{marginTop:30}:{marginTop:0}},I&&r.a.createElement("h1",null,b("setting.DEFAULT_INFO.AUTH_INFO")),r.a.createElement(o.a,{style:{marginBottom:48}}),r.a.createElement(ue,{isEditPage:I,id:t})),r.a.createElement("div",{className:"pcreate-setting__operating",style:I?{marginTop:30}:{marginTop:0}},I?r.a.createElement("div",{className:"pcreate-setting__delete"},r.a.createElement("h1",null,b("setting.DEFAULT_INFO.APPLY_DELETE")),r.a.createElement(o.a,null),r.a.createElement("p",{style:{marginBottom:24}},b("setting.DEFAULT_INFO.DELETE_TIPS")),r.a.createElement(c.a,{type:"primary",danger:!0,onClick:function(){s.a.confirm({title:b("setting.DELETE_MODAL.DELETE_CONFIRM"),content:b("setting.DELETE_MODAL.DELETE_CONFIRM_TIPS"),centered:!0,okText:b("setting.DEFAULT_INFO.REQUEST_DELETE"),okType:"primary",okButtonProps:{danger:!0},autoFocusButton:null,onOk:function(){j.c.deleteWikiSite(t).then((function(e){e&&(l.b.success(b("setting.DELETE_MODAL.DELETE_APPLY")),M(!0))})).catch((function(e){l.b.success("\u82f1\u8bed"===b("en")?e.message:"\u5df2\u63d0\u4ea4\u7533\u8bf7"),M(!0)}))}})},disabled:k},b(k?"setting.DEFAULT_INFO.REQUEST_DELETE_ING":"setting.DEFAULT_INFO.REQUEST_DELETE"))):r.a.createElement(c.a,{type:"primary",onClick:function(){C.current.checkForm().then((function(){C.current.finish()})).catch((function(){l.b.error(b("create.DEFAULT_INFO.VALIDATE_ERROR"))}))},loading:R},b(I?"create.DEFAULT_INFO.SAVE":"create.DEFAULT_INFO.NEW")))))})));t.default=function(){var e=Object(i.h)().site;return r.a.createElement(me,{id:e})}},380:function(e,t,n){"use strict";n.r(t);n(85);var a,r=n(39),i=(n(74),n(12)),c=n(6),o=n(0),s=n.n(o),l=(n(161),n(80)),u=(n(84),n(30)),E=n(47),m=n.n(E),d=(n(708),n(102),n(49)),_=n(3),f=n.n(_),p=n(55),O=n.n(p),h=function(e){var t=e.canEdit,n=e.data,a=e.onSelectedChange,r=e.isSelected,i=e.isCurrent,c=e.onCoverOk,o=e.coverLoading;return s.a.createElement("div",{className:f()("history-menu__card",r&&"history-menu__card--selected"),onClick:function(){return a(n.version,n.id)}},s.a.createElement("div",{className:"history-menu__card--top"},s.a.createElement("p",null,m.a.get("history.EDITION",{num:n.version})),i?s.a.createElement(u.a,{className:"history-menu__card-btn",size:"small"},m.a.get("history.CURRENT_VERSION")):t&&s.a.createElement(u.a,{size:"small",type:"link",onClick:function(e){e.stopPropagation(),d.a.confirm({title:m.a.get("history.RESTORE_CONFIRMATION"),content:m.a.get("history.RESTORE_TEXT"),centered:!0,okText:m.a.get("history.RESTORE"),okType:"primary",okButtonProps:{loading:o},onOk:function(e){c&&c(e,n)}})}},m.a.get("history.RESTORE"))),s.a.createElement("div",{className:"history-menu__card--middle"},n.comments?n.comments:""),s.a.createElement("div",{className:"history-menu__card--bottom"},s.a.createElement("span",null,O()(n.updated_at).format("YYYY-MM-DD HH:mm")),s.a.createElement("span",null,m.a.get("history.UPDATED_BY"),"\uff1a",n.author.name)))},T=n(19),N=function(e){var t=e.onChange,n=e.onCoverOk,a=e.coverLoading,r=Object(T.n)(),i=Object(T.l)(),E=Object(T.q)((function(e){return e.pageDetail.detailVersionsList})),d=Object(o.useState)(0),_=Object(c.a)(d,2),f=_[0],p=_[1];Object(o.useEffect)((function(){E.length&&p(E[0].version)}),[E]);var O=function(e,n){p(e),t&&t(e,n)};return s.a.createElement("div",{className:"history-menu"},s.a.createElement("header",{className:"history-menu__header"},s.a.createElement("h1",null,m.a.get("history.VERSION_HISTORY")),E.length>1&&s.a.createElement(u.a,{type:"primary",shape:"round",onClick:function(){return i.push({pathname:"/wiki/".concat(r.site,"/history_diff/").concat(r.id)})}},m.a.get("history.COMPARE_VERSIONS"))),s.a.createElement(l.a,{style:{marginBottom:5,marginTop:16}}),E.map((function(e,t){return s.a.createElement(h,{canEdit:E.canEdit,data:e,key:e.id,isSelected:f===e.version,isCurrent:0===t,onSelectedChange:O,onCoverOk:n,coverLoading:a})})))},g=(n(246),n(105)),S=n(33),I="zh-CN",b="en",C=~[I,b].indexOf(navigator.language)?navigator.language:I,v=(a={},Object(S.a)(a,b,{en:"en",article:{MENU:"Menu"},res:{SORT:"Sort",KM_APP_QR:"KM APP QR",ADJUSTMENT_ATTRIBUTION:"Adjustment attribution",SWITCH_VIEWS:"Switch views",CITATION:"Citation",HISTORIC_VERSION:"Historic version",VIEW_ON_YOUR_PHONE:"View on your phone",NO_AUTH:"No Access",NO_ENTRY:"No Resources",SITE_SHARED:"Site shared",RECOMMEND_READING:"Recommend to essential reading",DELETE:"Delete",THIS_FOLLOWING_USERS:"This article is only open to the following users, please protect content confidentiality",VIEWING_PERMISSION:"Viewing permission",DOWNLOAD_PERMISSION:"Download permission",EDIT_PERMISSION:"Edit permission",ORIGINAL:"Original",STATEMENTL:"*This content expresses personal opinions and does not represent the views or opinions of NetEase Games. Intended for internal sharing and communication only. Do not disseminate in any form, or risk being held liable.",FURTHER_READING:"Further reading",NO_FURTHER_READING_ADDED:"No further reading added",ADD_FURTHER_READING:"Add further reading",TABLE_OF_CONTENT:"Table of Content",POINTS:"points",LIKES:"Likes",ANONYMOUS:"Anonymous",COMMENT:"Comment",ALL_COMMENTS:"All comments",FIRST_TO_COMMENT:"Come and be the first to comment!",COMMENT_NO_EMPTY:"Comments can't be empty~",REPLY:"Reply",CONFIRM_DELETE_RESOURCE:"Confirm to delete linked resource?",SUCCESSFULLY_DELETED:"Successfully deleted",CONFIRM_DEL_RESOURCE:"Confirm to delete this resource?",TOP_SUCCESS:"Pinned",CANCELLED:"Unpinned",CANCEL_SUCCESS:"Cancelled",RECOMMENDED_SUCCESS:"Recommended",REFERENCE_TO_OTHER_LOCATIONS:"Link to other locations",CANCEL_THE_ESSENTIALS:"Cancel recommendation",CANCEL_SITE_RECOMMENDATION:"Cancel site frontpage recommendation",EDIT:"Edit",RECOMMENDED_HOME_PAGE:"Recommend to site frontpage",TOP:"Pin to top",PINNED:"Pinned",CANCEL:"Cancel",EXPORT_TO_PDF:"Export to PDF",DEMO_MODE:"Demo mode",AUTHOR_ONLY:"Author only",public_all_for_km:"All NetEase employees (IEG & non-IEG)",EXPAND_PERMISSIONS:"Expand permissions",ATTACHMENT:"Attachment",REPRINT:"Repost",COLLAPSE:"Collapse",POSTED_ON:"Posted on ",IN_TOTAL:"{num} in total",MANAGE_PINNED_CONTENT:"Manage pinned content",NO_QUALITY_RESOURCES:"No quality resources",BEEN_LOCKED_CONTACT:"The current version has been locked. If necessary, please contact ",CONTACT_TA:"Contact TA",OTHER_COLLABORATE:"and other {num} people collaborate",AFTER_LOCKING_VERSION:"*After locking the version, you need to unlock to re-edit",LOCK_CURRENT_VERSION:"Lock the current version",CURRENT_VERSION_LOCKED:"The current version is locked",CURRENT_LOCKED_BY:"The current version has been locked by {name}",CLICK_TO_UNLOCK:"Click to unlock",UNLOCK:"Unlock",LOCK_VERSION:"Locked version",reward:{YOU_REWARD_TO_AUTHOR:"The points you tip will be sent to the author.",POINTS_PER_DAY:"Can tip up to 100 points per day",REWARD_DEDUCT_POINTS:"Tipping will use your own points",POINTS_REDEEMED:"Points can be redeemed for prizes",CANT_REWARD:"Can't tip your own article",POINTS_USED_UP:"You have used up points for today, please come back tomorrow.",CURRENTLY_RECEIVING:"Currently received tips from {person} people, total {point, plural, =0 {(no point)} =1 {(one point)} other {(# points)}}",LIKE_THIS_ARTICLE:"really likes this article and have rewarded {num, plural, =0 {(no point)} =1 {(one point)} other {(# points)}}",NO_ENOUGH_POINT:"Your don't have enough KM points~",THE_FIRST:"Be the first person to tip the author~",NO_ONE:"No one has tipped yet"},related:{ETC:" etc.",_ETC:"",NUMBER_OF_RESOURCES:"Number of resources",PAGEVIEWS:"Pageviews",INCLUSION:"Included in topics"},extend:{URL_INCORRECT:"URL format is incorrect. Please refill",DELETE_EXTENDED:"Remove further reading",DELETE_EXTENDED_READING:"Sure you want to remove further reading?",SUCCESSFULLY_DELETED:"Removed",ADD_SUCCESSFULLY:"Added",TITLE:"Resource title",_TITLE:"Title",ENTER_URL:"Please enter url address"},document:{IN_DOCUMENT_CONVERSION:"Converting document...",CONVERSION_TIME:"conversion takes about 3 minutes",FULL_SCREEN_VIEW:"Fullscreen",READING_POSITION:"Restored previous reading position~"},model:{OWNERSHIP_TRANSFER:"Ownership transfer",ORIGINAL_AUTHOR:"Original author",TRANSFER_TO:"Transfer to",TRANSFER_SUCCESSFUL:"Transfer successful"},float:{LIKED:"Liked",FAVORITED:"Favorited",FAVORITE:"Favorite",FAVORITE_SUCCESS:"Added to favorite",YOU_HAVE_LIKED:"You have liked"},comment:{NO_COMMENTS_ALLOWED:"No comments allowed",COMMENT_SUCCESSFUL:"Comment successful",MORE_COMMENTS:"More comments",PLEASE_REPLY:"Write down your reply",DELETE_COMMENT:"Sure you want to delete this comment?",SUB_COMMENT:"Submit  a comment",COLLAPSE_COMMENT:"Collapse comment",INPUT_COMMENT:"Input your comment"}},home:{MODEL_SHARE:{REASON_FOR_FORWARD:"Reason for sharing... (Tag your friends or work circle and invite them to read!)",SHARING_SUCCESS:"Shared",SHARING_RESOURCES:"Share resources",NO_GENERATE:"Do not post to timeline",NOTIFY_INVITEE:"Notify mentioned users on POPO"},MODEL_REFERENCE:{SUCCESSFUL_REFERENCE:"Link successful",REFERENCE_LOCATION:"Link location",REFERENCE_TO_TEAM_SPACE:"Link to TeamSpace",QUOTE_TO_WIKI_SITE:"Link to Wiki site",ENTER_TEAM_SPACE:"Enter or select TeamSpace",ENTER_KNOWLEDGE:"Enter or select a knowledge base",KNOWLEDGE_BASE_CLASSIFICATION:"Knowledge base category",ENTER_KNOWLEDGE_BASE_CLASSIFICATION:"Enter or select a knowledge base category",ENTER_SELECT_SITE:"Enter or select a site",SITE_CLASSIFICATION:"Site category",ENTER_SITE_CLASSIFICATION:"Enter or select a site category"}},title:{TEAM_SPACE:"Team space",KNOWLEDGE_BASE:"Knowledge Base",WIKI_SITE:"Wiki Site"},release:{SAVE:"Save",modalOk:"OK",modalCancel:"Cancel"}}),Object(S.a)(a,I,{en:"\u82f1\u8bed",article:{MENU:"\u76ee\u5f55"},res:{SORT:"\u6392\u5e8f",KM_APP_QR:"KM APP\u626b\u4e00\u626b",ADJUSTMENT_ATTRIBUTION:"\u8c03\u6574\u5f52\u5c5e",SWITCH_VIEWS:"\u5207\u6362\u89c6\u56fe",CITATION:"\u5f15\u7528",HISTORIC_VERSION:"\u5386\u53f2\u7248\u672c",VIEW_ON_YOUR_PHONE:"\u7528\u624b\u673a\u67e5\u770b",NO_AUTH:"\u65e0\u6743\u8bbf\u95ee",NO_ENTRY:"\u6682\u65e0\u8d44\u6e90",SITE_SHARED:"\u7ad9\u5185\u5206\u4eab",RECOMMEND_READING:"\u63a8\u8350\u5230\u5fc5\u8bfb\u7cbe\u534e",DELETE:"\u5220\u9664",THIS_FOLLOWING_USERS:"\u672c\u6587\u4ec5\u9762\u5411\u4ee5\u4e0b\u7528\u6237\u5f00\u653e\uff0c\u8bf7\u6ce8\u610f\u5185\u5bb9\u4fdd\u5bc6\u8303\u56f4",VIEWING_PERMISSION:"\u67e5\u770b\u6743\u9650",DOWNLOAD_PERMISSION:"\u4e0b\u8f7d\u6743\u9650",EDIT_PERMISSION:"\u7f16\u8f91\u6743\u9650",ORIGINAL:"\u539f\u521b",STATEMENTL:"\u672c\u5185\u5bb9\u4ec5\u4ee3\u8868\u4e2a\u4eba\u89c2\u70b9\uff0c\u4e0d\u4ee3\u8868\u7f51\u6613\uff0c\u4ec5\u4f9b\u5185\u90e8\u5206\u4eab\u4f20\u64ad\uff0c\u4e0d\u5141\u8bb8\u4ee5\u4efb\u4f55\u5f62\u5f0f\u5916\u6cc4\uff0c\u5426\u5219\u8ffd\u7a76\u6cd5\u5f8b\u8d23\u4efb",FURTHER_READING:"\u62d3\u5c55\u9605\u8bfb",NO_FURTHER_READING_ADDED:"\u6682\u65e0\u62d3\u5c55\u9605\u8bfb\u54e6~",ADD_FURTHER_READING:"\u6dfb\u52a0\u62d3\u5c55\u9605\u8bfb",TABLE_OF_CONTENT:"\u76ee\u5f55",POINTS:"\u79ef\u5206",LIKES:"\u70b9\u8d5e",ANONYMOUS:"\u533f\u540d",COMMENT:"\u8bc4\u8bba",ALL_COMMENTS:"\u5168\u90e8\u8bc4\u8bba",FIRST_TO_COMMENT:"\u5feb\u6765\u505a\u7b2c\u4e00\u4e2a\u8bc4\u8bba\u7684\u4eba\u5427",COMMENT_NO_EMPTY:"\u8bc4\u8bba\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a~",REPLY:"\u56de\u590d",CONFIRM_DELETE_RESOURCE:"\u786e\u8ba4\u5220\u9664\u8be5\u5f15\u7528\u8d44\u6e90\uff1f",SUCCESSFULLY_DELETED:"\u5220\u9664\u6210\u529f",CONFIRM_DEL_RESOURCE:"\u786e\u8ba4\u5220\u9664\u8be5\u8d44\u6e90\uff1f",TOP_SUCCESS:"\u7f6e\u9876\u6210\u529f",CANCELLED:"\u5df2\u53d6\u6d88\u7f6e\u9876",CANCEL_SUCCESS:"\u53d6\u6d88\u6210\u529f",RECOMMENDED_SUCCESS:"\u63a8\u8350\u6210\u529f",REFERENCE_TO_OTHER_LOCATIONS:"\u5f15\u7528\u5230\u5176\u4ed6\u4f4d\u7f6e",CANCEL_THE_ESSENTIALS:"\u53d6\u6d88\u5fc5\u8bfb\u7cbe\u534e\u63a8\u8350",CANCEL_SITE_RECOMMENDATION:"\u53d6\u6d88\u7ad9\u70b9\u9996\u9875\u63a8\u8350",EDIT:"\u7f16\u8f91",RECOMMENDED_HOME_PAGE:"\u63a8\u8350\u5230\u7ad9\u70b9\u9996\u9875",TOP:"\u7f6e\u9876",PINNED:"\u7f6e\u9876",CANCEL:"\u53d6\u6d88\u7f6e\u9876",EXPORT_TO_PDF:"\u5bfc\u51faPDF",DEMO_MODE:"\u6f14\u793a\u6a21\u5f0f",public_all_for_km:"\u5168\u96c6\u56e2\u6b63\u5f0f\u5458\u5de5(\u5305\u62ec\u4e92\u5a31\u4e0e\u975e\u4e92\u5a31)",AUTHOR_ONLY:"\u4ec5\u4f5c\u8005",EXPAND_PERMISSIONS:"\u5c55\u5f00\u6743\u9650",ATTACHMENT:"\u9644\u4ef6",REPRINT:"\u8f6c\u8f7d",COLLAPSE:"\u6536\u8d77",POSTED_ON:"\u53d1\u5e03\u4e8e",IN_TOTAL:"\u5171{num}\u4e2a",MANAGE_PINNED_CONTENT:"\u7f6e\u9876\u7ba1\u7406",NO_QUALITY_RESOURCES:"\u6682\u65e0\u7cbe\u534e\u8d44\u6e90",BEEN_LOCKED_CONTACT:"\u5f53\u524d\u7248\u672c\u5df2\u88ab\u9501\u5b9a\uff0c\u5982\u6709\u9700\u8981\u8bf7\u8054\u7cfb",CONTACT_TA:"\u8054\u7cfbTA",OTHER_COLLABORATE:"\u7b49{num}\u4eba\u534f\u4f5c",AFTER_LOCKING_VERSION:"*\u9501\u5b9a\u7248\u672c\u540e\u9700\u89e3\u9501\u624d\u80fd\u91cd\u65b0\u7f16\u8f91",LOCK_CURRENT_VERSION:"\u9501\u5b9a\u5f53\u524d\u7248\u672c",CURRENT_VERSION_LOCKED:"\u5f53\u524d\u7248\u672c\u5df2\u9501\u5b9a",CURRENT_LOCKED_BY:"\u5f53\u524d\u7248\u672c\u5df2\u88ab{name}\u9501\u5b9a",CLICK_TO_UNLOCK:"\u89e3\u9664\u9501\u5b9a",UNLOCK:"\u89e3\u9501",LOCK_VERSION:"\u9501\u5b9a\u7248\u672c",reward:{YOU_REWARD_TO_AUTHOR:"\u4f60\u6253\u8d4f\u7684\u79ef\u5206\u5c06\u4f1a\u5168\u90e8\u5956\u52b1\u7ed9\u4f5c\u8005",POINTS_PER_DAY:"\u6bcf\u5929\u6700\u591a\u53ea\u80fd\u6253\u8d4f100\u79ef\u5206",REWARD_DEDUCT_POINTS:"\u6253\u8d4f\u4f1a\u6263\u9664\u81ea\u5df1\u76f8\u5e94\u7684\u79ef\u5206",POINTS_REDEEMED:"\u79ef\u5206\u53ef\u7528\u4e8e\u79ef\u5206\u5546\u57ce\u5151\u6362\u5956\u54c1",CANT_REWARD:"\u4e0d\u80fd\u6253\u8d4f\u81ea\u5df1\u7684\u6587\u7ae0\u5594~",POINTS_USED_UP:"\u60a8\u4eca\u5929\u53ef\u6253\u8d4f\u79ef\u5206\u5df2\u7528\u5b8c\uff0c\u660e\u5929\u518d\u6765\u6253\u8d4f\u5427",CURRENTLY_RECEIVING:"\u76ee\u524d\u6536\u5230{person}\u4eba\u6253\u8d4f\uff0c\u5171{point}\u79ef\u5206",LIKE_THIS_ARTICLE:"\u5f88\u559c\u6b22\u8fd9\u7bc7\u6587\u7ae0\uff0c\u5e76\u6253\u8d4f\u4e86{point}\u4e2a\u79ef\u5206\u3002",NO_ENOUGH_POINT:"\u60a8\u7684\u79ef\u5206\u4e0d\u8db3\u5594~",THE_FIRST:"\u5feb\u6765\u6210\u4e3a\u7b2c\u4e00\u4e2a\u6253\u8d4f\u7684\u4eba\u5427~",NO_ONE:"\u6682\u65f6\u8fd8\u6ca1\u4eba\u6253\u8d4f"},related:{ETC:" \u7b49\u7f16",_ETC:" \u7f16",NUMBER_OF_RESOURCES:"\u8d44\u6e90\u6570",PAGEVIEWS:"\u6d4f\u89c8\u91cf",INCLUSION:"\u4e13\u9898\u6536\u5f55"},extend:{URL_INCORRECT:"URL\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u91cd\u586b!",DELETE_EXTENDED:"\u89e3\u9664\u62d3\u5c55\u9605\u8bfb",DELETE_EXTENDED_READING:"\u786e\u5b9a\u8981\u89e3\u9664\u62d3\u5c55\u9605\u8bfb\u5417\uff1f",SUCCESSFULLY_DELETED:"\u89e3\u9664\u6210\u529f",ADD_SUCCESSFULLY:"\u6dfb\u52a0\u6210\u529f",TITLE:"\u8d44\u6e90\u6807\u9898",_TITLE:"\u6807\u9898",ENTER_URL:"\u8bf7\u8f93\u5165url\u5730\u5740"},document:{IN_DOCUMENT_CONVERSION:"\u6587\u6863\u8f6c\u5316\u4e2d\u2026",CONVERSION_TIME:"\u8f6c\u5316\u5e73\u5747\u9700\u89813\u5206\u949f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85",FULL_SCREEN_VIEW:"\u5168\u5c4f\u67e5\u770b",READING_POSITION:"\u5df2\u5b9a\u4f4d\u5230\u4e0a\u6b21\u9605\u8bfb\u7684\u4f4d\u7f6e~"},model:{OWNERSHIP_TRANSFER:"\u5f52\u5c5e\u8f6c\u79fb",ORIGINAL_AUTHOR:"\u539f\u4f5c\u8005",TRANSFER_TO:"\u8f6c\u79fb\u7ed9",TRANSFER_SUCCESSFUL:"\u8f6c\u79fb\u6210\u529f"},float:{LIKED:"\u5df2\u70b9\u8d5e",FAVORITED:"\u5df2\u6536\u85cf",FAVORITE:"\u6536\u85cf",FAVORITE_SUCCESS:"\u6536\u85cf\u6210\u529f",YOU_HAVE_LIKED:"\u4f60\u5df2\u7ecf\u70b9\u8d5e\u4e86\u5594"},comment:{NO_COMMENTS_ALLOWED:"\u8be5\u8d44\u6e90\u6682\u65f6\u4e0d\u5141\u8bb8\u8bc4\u8bba",COMMENT_SUCCESSFUL:"\u8bc4\u8bba\u6210\u529f",MORE_COMMENTS:"\u66f4\u591a\u8bc4\u8bba",PLEASE_REPLY:"\u5199\u4e0b\u4f60\u7684\u56de\u590d",DELETE_COMMENT:"\u786e\u5b9a\u8981\u5220\u9664\u8bc4\u8bba\uff1f",SUB_COMMENT:"\u6dfb\u52a0\u8bc4\u8bba",COLLAPSE_COMMENT:"\u6536\u8d77\u8bc4\u8bba",INPUT_COMMENT:"\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba"}},home:{MODEL_SHARE:{REASON_FOR_FORWARD:"\u8f6c\u53d1\u7406\u7531...\uff08@\u60a8\u7684\u597d\u53cb\u6216\u8005\u5de5\u4f5c\u5708\u6765\u9605\u8bfb\uff01\uff09",SHARING_SUCCESS:"\u5206\u4eab\u6210\u529f",SHARING_RESOURCES:"\u5206\u4eab\u8d44\u6e90",NO_GENERATE:"\u4e0d\u4ea7\u751f\u52a8\u6001",NOTIFY_INVITEE:"\u6ce1\u6ce1\u901a\u77e5\u88ab\u9080\u8bf7\u8005"},MODEL_REFERENCE:{SUCCESSFUL_REFERENCE:"\u5f15\u7528\u6210\u529f",REFERENCE_LOCATION:"\u5f15\u7528\u4f4d\u7f6e",REFERENCE_TO_TEAM_SPACE:"\u5f15\u7528\u5230\u56e2\u961f\u7a7a\u95f4",QUOTE_TO_WIKI_SITE:"\u5f15\u7528\u5230WIKI\u7ad9\u70b9",ENTER_TEAM_SPACE:"\u8f93\u5165\u6216\u9009\u62e9\u56e2\u961f\u7a7a\u95f4",ENTER_KNOWLEDGE:"\u8f93\u5165\u6216\u9009\u62e9\u77e5\u8bc6\u5e93",KNOWLEDGE_BASE_CLASSIFICATION:"\u77e5\u8bc6\u5e93\u5206\u7c7b",ENTER_KNOWLEDGE_BASE_CLASSIFICATION:"\u8f93\u5165\u6216\u9009\u62e9\u77e5\u8bc6\u5e93\u5206\u7c7b",ENTER_SELECT_SITE:"\u8f93\u5165\u6216\u9009\u62e9\u7ad9\u70b9",SITE_CLASSIFICATION:"\u7ad9\u70b9\u5206\u7c7b",ENTER_SITE_CLASSIFICATION:"\u8f93\u5165\u6216\u9009\u62e9\u7ad9\u70b9\u5206\u7c7b"}},title:{TEAM_SPACE:"\u56e2\u961f\u7a7a\u95f4",KNOWLEDGE_BASE:"\u77e5\u8bc6\u5e93",WIKI_SITE:"wiki\u7ad9\u70b9"},release:{SAVE:"\u4fdd\u5b58",modalOk:"\u786e\u5b9a",modalCancel:"\u53d6\u6d88"}}),a),A=function(e){var t=v[e]||v[C];return function(e,n){var a=e.split(".").reduce((function(e,t){return void 0!==e&&null!==e?e[t]:e}),t);return n||"string"!==typeof a?a?a(n):"":a}},R=n(18),y=n(151),L=n.n(y),D=(n(507),n(1680),function(e){var t=e.detail,n=e.locale,a=e.userInfo,r=t||{},i=A(n);return s.a.createElement("div",{className:"wiki-header"},s.a.createElement("h1",{className:"resource-title"},s.a.createElement("div",{className:"resource-title--name"},r.name,r.is_site_recommend&&s.a.createElement("span",{className:"resource-title__tag resource-title__tag--recommend"},"\u63a8\u8350"),r.is_auth_locked&&function(){var e=r.protected,t=r.allow_protect,c=r.protected_by;return(t||e)&&e?t?s.a.createElement(g.a,{placement:"bottom",title:i("res.CURRENT_VERSION_LOCKED")},s.a.createElement("div",{className:"resource-meta__lock resource-meta__lock--locked resource-meta__lock--enabled"},s.a.createElement(R.a,{type:"icon-suo1"}))):"\u82f1\u8bed"===i("en")?s.a.createElement("div",{className:"resource-meta"},s.a.createElement(g.a,{placement:"bottom",title:s.a.createElement("div",null,"\u5f53\u524d\u7248\u672c\u5df2\u88ab",c&&s.a.createElement(L.a,{locale:n,requestUrl:"/ps/get_user_info_card?identifier=".concat(c.identifier),placement:"bottom",key:c.id,avatarUrl:"/zone/".concat(c.identifier),canFollow:c.identifier!==a.identifier},c.name),"\u9501\u5b9a")},s.a.createElement(R.a,{type:"icon-suo1"}))):s.a.createElement("div",{className:"resource-meta"},s.a.createElement(g.a,{placement:"bottom",title:s.a.createElement("div",null,"The current version has been locked by",c&&s.a.createElement(L.a,{requestUrl:"/ps/get_user_info_card?identifier=".concat(c.identifier),placement:"bottom",key:c.id,avatarUrl:"/zone/".concat(c.identifier),canFollow:c.identifier!==a.identifier},c.name))},s.a.createElement(R.a,{type:"icon-suo1"}))):null}())))}),k=n(8),M=n(52),w=n(53),j=n(63),U=n(64),P=n(413),x=n.n(P),F=n(414),H=n.n(F),Y=(n(701),n(702),n(1681),n(10)),G=n.n(Y),V=n(22),W=n(415),B=n.n(W),K=n(152),z=n(281),q=n.n(z),X=(n(1682),function(e,t){var n=new window.Image;return new Promise((function(a,r){n.onload=function(){var t=n.width/(e.clientWidth||1),r=n.height/(e.clientHeight||1);a({minScale:Math.min(t,r),imageWidth:n.width,imageHeight:n.height})},n.src=t}))}),J=function(e){q()(e),document.body.style.overflow=e?"":"hidden"},Q=function(e){Object(j.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(M.a)(this,n),(a=t.call(this,e)).toggleFullScreen=function(e){var t=a.state,n=t.originalScale,r=t.fullscreenScale;a.setState({fullscreen:e,scale:e?Math.min(r,1):Math.min(n,1),angle:0,moveX:0,moveY:0})},a.handleAnimationStart=function(e){var t=a.fullscreenImage.current;t&&function(e,t){var n=e.style;["Webkit","Moz","Ms","ms"].forEach((function(e){n["".concat(e,"TransformOrigin")]=t})),n.transformOrigin=t}(t,"".concat(e.x,"px ").concat(e.y,"px"))},a.handlePrev=function(){var e=a.props.onImageChange;e&&e(-1)},a.handleNext=function(){var e=a.props.onImageChange;e&&e(1)},a.handleZoom=function(e){var t=a.state,n=t.fullscreen,r=t.originalScale,i=t.fullscreenScale,c=n?i:r,o=t.scale/c,s=o>.2&&o<=1.2?.1:.2,l=B()(o+e*s,.2,50);a.setState({scale:l*c}),e<0&&a.setState({moveX:0,moveY:0})},a.handleRotate=function(){var e=a.state.angle;a.setState({angle:e+90})},a.handleMouseDown=function(e){var t=a.state,n=t.scale,r=t.fullscreen;if(e.preventDefault(),!r&&n>=1||r){a.isMouseDown=!0;var i=a.state,c=i.moveX,o=i.moveY;a.startX=e.clientX-c,a.startY=e.clientY-o}},a.handleMouseMove=function(e){if(a.isMouseDown){var t=e.clientX-a.startX,n=e.clientY-a.startY;a.setState({moveX:t,moveY:n})}},a.handleMouseUp=function(){a.isMouseDown=!1},a.handleOriginal=function(){var e=a.state.isOriginal;a.setState({isOriginal:!e,scale:1})},a.handleLoaded=Object(V.a)(G.a.mark((function e(){var t,n,r,i,c,o,s,l,u,E;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.image,r=t.onImageLoaded,i=document.querySelector(".image-viewer"),e.next=4,X(i,n.display_src);case 4:return c=e.sent,o=c.minScale,s=c.imageWidth,l=c.imageHeight,e.next=10,X(document.documentElement,n.display_src);case 10:u=e.sent,E=u.minScale,a.imgSrcSize.width=s,a.imgSrcSize.height=l,a.setState({originalScale:o,fullscreenScale:E,angle:0,moveX:0,moveY:0}),r&&r();case 16:case"end":return e.stop()}}),e)}))),a.handleCloseFullscreen=function(){var e=a.props,t=e.onClose;e.fullscreenOnly?t&&t():a.toggleFullScreen(!1)},a.isMouseDown=!1,a.embedImage=s.a.createRef(),a.fullscreenImage=s.a.createRef(),a.state={fullscreen:!!e.fullscreenOnly,scale:1,angle:0,moveX:0,moveY:0,lastScale:1,originalScale:1,isOriginal:!1},a.imgSrcSize={width:0,height:0},a}return Object(w.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fullscreenOnly,n=e.mousePosition;t&&(this.noScrolling="hidden"===document.body.style.overflow,!this.noScrolling&&J(),n&&this.handleAnimationStart(n))}},{key:"componentDidUpdate",value:function(e,t){if(this.state.fullscreen&&!t.fullscreen&&this.embedImage.current){var n=this.embedImage.current.getBoundingClientRect(),a=n.left,r=n.top,i={x:a+n.width/2,y:r+n.height/2};this.handleAnimationStart(i)}}},{key:"componentWillUnmount",value:function(){this.props.fullscreenOnly&&!this.noScrolling&&J(!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.maskClosable,a=t.fullscreenOnly,i=t.image,c=t.loading;if(!i)return null;var o=this.state,l=o.fullscreen,u=o.angle,E=o.moveX,m=o.moveY,d=o.scale,_=o.isOriginal,f={};l&&(f=_?{width:"100vw",height:"100vh"}:{width:"".concat(this.imgSrcSize.width,"px"),height:"".concat(this.imgSrcSize.height,"px")});var p=Object(k.a)({transform:"translate3d(".concat(E,"px, ").concat(m,"px, 0) scale(").concat(d,") rotate(").concat(u,"deg)")},f);return s.a.createElement("div",{className:"image-viewer"},s.a.createElement("div",{className:"embed-viewer",onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,style:{display:a?"none":""}},c&&s.a.createElement("div",{className:"image-viewer__loading"},s.a.createElement(r.a,null)),i.display_src&&s.a.createElement("img",{ref:this.embedImage,src:i.display_src||"",alt:"",style:l?{}:p,onMouseDown:this.handleMouseDown,onLoad:this.handleLoaded}),s.a.createElement("div",{className:"image-viewer__controls",style:{display:l?"none":"block"}},i.pre_img&&s.a.createElement("div",{className:"image-viewer__prev",onClick:this.handlePrev}),i.next_img&&s.a.createElement("div",{className:"image-viewer__next",onClick:this.handleNext}),s.a.createElement("div",{className:"image-viewer__toolbar"},s.a.createElement("span",{className:"toolbar-icon toolbar-icon--original",onClick:this.handleOriginal}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--increase",onClick:function(){return e.handleZoom(1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--decrease",onClick:function(){return e.handleZoom(-1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--rotate",onClick:function(){return e.handleRotate()}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--fullscreen",onClick:function(){return e.toggleFullScreen(!0)}})))),s.a.createElement("div",{className:"fullscreen-viewer",style:{display:l?"":"none"},onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp},s.a.createElement(K.a,{transitionName:"fade",transitionAppear:!0},l&&s.a.createElement("div",{key:"mask",className:"fullscreen-viewer-mask",onClick:function(){return n&&e.handleCloseFullscreen()}})),s.a.createElement(K.a,{transitionName:"zoom",transitionAppear:!0},l&&s.a.createElement("div",{key:"image",className:"fullscreen-viewer-image",ref:this.fullscreenImage},s.a.createElement("img",{src:i.display_src,alt:"",style:p,onMouseDown:this.handleMouseDown}))),s.a.createElement(K.a,{transitionName:"fade",transitionAppear:!0},l&&s.a.createElement("div",{key:"controls",className:"fullscreen-viewer-controls"},s.a.createElement("span",{className:"fullscreen-viewer-close",onClick:this.handleCloseFullscreen}),i.pre_img&&s.a.createElement("div",{className:"image-viewer__prev",onClick:this.handlePrev}),i.next_img&&s.a.createElement("div",{className:"image-viewer__next",onClick:this.handleNext}),s.a.createElement("div",{className:"image-viewer__toolbar"},s.a.createElement("span",{className:"toolbar-icon toolbar-icon--original",onClick:this.handleOriginal}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--increase",onClick:function(){return e.handleZoom(1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--decrease",onClick:function(){return e.handleZoom(-1)}}),s.a.createElement("span",{className:"toolbar-icon toolbar-icon--rotate",onClick:function(){return e.handleRotate()}}),!a&&s.a.createElement("span",{className:"toolbar-icon toolbar-icon--exit-fullscreen",onClick:function(){return e.toggleFullScreen(!1)}}))))))}}]),n}(o.Component);Q.defaultProps={maskClosable:!1,onClose:function(){},image:{},onImageChange:function(){}};var Z=n(9),$=function(e){return e.includes("/ckeditor/plugins/smiley")},ee=function(e){Object(j.a)(a,e);var t=Object(U.a)(a);function a(e){var r;return Object(M.a)(this,a),(r=t.call(this,e)).loadDependencies=function(){var e=r.props.language;1!==e||window.WYSIWYG_LOADING_PROMISE||(window.WYSIWYG_LOADING_PROMISE=Promise.all([])),2!==e||window.MARKDOWN_LOADING_PROMISE||(window.MARKDOWN_LOADING_PROMISE=Promise.all([Object(T.f)({url:"/javascripts/libs/katex/katex.min.css",internal:!1}),Object(T.g)("/javascripts/libs/raphael/raphael.min.js"),Object(T.g)("/javascripts/libs/katex/katex.min.js"),Object(T.g)("/javascripts/libs/mermaid/mermaid.min.js")]))},r.renderContent=function(){var e=r.props,t=e.body,a=e.language,i=e.editorType;if(a&&t){r.loadDependencies();var c=r.container.current;1===a&&(c.innerHTML=1===i?t:x()(t),window.WYSIWYG_LOADING_PROMISE.then((function(){return Object(Z.m)(c,i,a)})).then((function(){return r.adjustContent()}))),2===a&&(r.clearContent(),window.MARKDOWN_LOADING_PROMISE.then((function(){return n.e(0).then(n.t.bind(null,1945,7))})).then((function(e){var n=e.default;r.mdViewer=new n({el:c,initialValue:t,exts:["flowchart","sequence","mermaid"]})})).then((function(){return Object(Z.m)(c,i,a)})).then((function(){return r.adjustContent()})))}},r.clearContent=function(){r.mdViewer&&r.mdViewer.remove(),r.container.current&&(r.container.current.innerHTML="")},r.adjustContent=function(){var e=r.container.current;e&&(Array.from(e.querySelectorAll("table,iframe")).forEach((function(t){for(var n=t.parentNode,a=!0;n&&n!==e;){if(n.classList.contains("syntaxhighlighter")||"TABLE"===n.tagName){a=!1;break}n=n.parentNode}if(a){var r=document.createElement("div");r.classList.add("overflow-wrapper"),t.parentNode.insertBefore(r,t),r.appendChild(t)}})),"presentation"===r.props.mode&&r.adjustPresentation(),r.setState({loaded:!0}),setTimeout((function(){return r.generateDirectory()}),0),setTimeout((function(){return r.scrollToAnchor(0)}),200))},r.adjustPresentation=function(){var e=r.container.current;e&&Array.from(e.querySelectorAll("*")).forEach((function(e){if(e.style&&e.style.fontSize){var t=parseInt(window.getComputedStyle(e).fontSize);e.style.fontSize=Math.round(1.8*t)+"px"}if("TABLE"===e.tagName&&(e.style.width||e.width)){var n=parseInt(window.getComputedStyle(e).width);e.style.width=2*n+"px"}}))},r.generateDirectory=function(){var e=r.props,t=e.anchorable,n=e.onParseDir,a=r.container.current;if(a){var i=new H.a,c=Array.from(a.querySelectorAll("h1,h2,h3, h4, h5,h6")).filter((function(e){return e.textContent.trim()}));t&&c.forEach((function(e){var t=i.slug(e.textContent.trim()),n=document.createElement("a");n.id="h-"+t,n.className="heading-anchor heading-anchor--".concat(e.tagName.toLowerCase()),n.href="#"+t,n.addEventListener("click",(function(e){if(e.preventDefault(),e.stopPropagation(),window.location.hash===n.hash){var a=(document.body.scrollTop||document.documentElement.scrollTop)+n.getBoundingClientRect().top;Object(T.i)(a-60)}else window.location.hash="#"+t})),e.dataset.anchor=t,e.insertBefore(n,e.firstChild||null)})),n&&n(c)}},r.scrollToAnchor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;if(r.props.anchorable){var t=decodeURIComponent(window.location.hash.substr(1));if(t){var n=window.CSS.escape(t),a=document.querySelector(window.CSS.escape("#".concat(n,",[name=").concat(n,"]"))),i=document.querySelector("#h-".concat(t));if(a||i){var c=(document.body.scrollTop||document.documentElement.scrollTop)+(a||i).getBoundingClientRect().top;Object(T.i)(c-60,{duration:a?0:e})}}}},r.handleHashChange=function(){r.scrollToAnchor()},r.handleClick=function(e){var t=e.target;if(r.props.imageViewable&&"IMG"===t.tagName){var n="A"===t.parentNode.tagName&&t.parentNode,a=n&&n.getAttribute("href");a&&!r.compareLinks(a,t.src,/https?:\/\/(.*?)(?=\?)/)||$(t.src)||(e.preventDefault(),r.showImageViewer(t.src,{x:e.clientX,y:e.clientY}))}if("A"===t.tagName){var i=t.getAttribute("href");if(i&&i.startsWith("#")){e.preventDefault();var c=i.substr(1),o=window.CSS.escape(c),s=r.container.current.querySelector("#".concat(o,",[name=").concat(o,"]"));if(!s)return;s.id="",s.name="";var l=(document.body.scrollTop||document.documentElement.scrollTop)+s.getBoundingClientRect().top;Object(T.i)(l-60,{callback:function(){window.location.hash=i,s.id=c}})}}},r.showImageViewer=function(e,t){var n=r.container.current,a=Array.from(n.querySelectorAll("img")).filter((function(e){return!$(e.src)})).map((function(e){return e.src})),i=a.indexOf(e),c={visible:!0,image:{display_src:e,pre_img:i>0,next_img:i<a.length-1},mousePosition:t};r.setState({imageList:a,imageIndex:i,imageViewer:c})},r.closeImageViewer=function(){var e=Object(k.a)(Object(k.a)({},r.state.imageViewer),{},{visible:!1});r.setState({imageViewer:e})},r.handleChangeImage=function(e){var t=r.state,n=t.imageList,a=t.imageIndex+e,i=n[a],c=Object(k.a)(Object(k.a)({},r.state.imageViewer),{},{image:{display_src:i,pre_img:a>0,next_img:a<n.length-1}});r.setState({imageIndex:a,imageViewer:c})},r.container=s.a.createRef(),r.state={loaded:!1,imageList:[],imageViewer:{}},r}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.renderContent(),window.addEventListener("hashchange",this.handleHashChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.body;t.language===e.language&&n===e.body||this.renderContent()}},{key:"componentWillUnmount",value:function(){this.clearContent(),window.removeEventListener("hashchange",this.handleHashChange)}},{key:"compareLinks",value:function(e,t,n){return(e.match(n)[1]||e)===(t.match(n)[1]||t)}},{key:"render",value:function(){var e,t=this.props,n=t.body,a=t.language,r=t.mode,i=t.copyable,c=t.imageViewable,l=t.editorType,u=this.state.imageViewer;if(!a||!n)return null;var E=f()((e={"app-detail-content":1!==l},Object(S.a)(e,"app-detail-content--".concat(2===a?"markdown":"html"),1!==l),Object(S.a)(e,"app-detail-content--".concat(r),r),Object(S.a)(e,"app-detail-content--unselectable",!i),Object(S.a)(e,"app-detail-content--loaded",this.state.loaded),Object(S.a)(e,"app-detail-content--image-viewable",c),Object(S.a)(e,"rock-editor__renderer",1===l),e));return s.a.createElement(o.Fragment,null,s.a.createElement("div",{className:E,ref:this.container,onClick:this.handleClick}),u.visible&&s.a.createElement(Q,{fullscreenOnly:!0,maskClosable:!0,image:u.image,mousePosition:u.mousePosition,onImageChange:this.handleChangeImage,onClose:this.closeImageViewer}))}}]),a}(o.Component);ee.defaultProps={body:"",language:1,copyable:!0,imageViewable:!0,editorType:0};n(1683);var te=function(e){var t=e.detail.tags;return s.a.createElement("div",{className:"resource-tags"},t&&t.map((function(e,t){return s.a.createElement("span",{className:"resource-tags__item",key:t},s.a.createElement(R.a,{type:"icon-xiangqingbiaoqian2x"}),e)})))},ne=n(177),ae=n.n(ne),re=n(231),ie=n(282),ce=n.n(ie),oe=(n(1684),function(e){var t=e.headings,n=e.scrollOffset,a=void 0===n?60:n,r=e.scrollContainerId,i=e.anchorable,l=e.sideHidden,u=e.callback,E=e.closeSlide,m=e.sideFixed2,d=e.locale,_=Object(o.useRef)(null),p=Object(o.useRef)(null),O=Object(o.useState)(0),h=Object(c.a)(O,2),T=h[0],N=h[1],g=A(d||C);Object(o.useEffect)((function(){var e=r?document.querySelector("#".concat(r)):document;return e.addEventListener("scroll",S),function(){return e.removeEventListener("scroll",S)}}),[]),Object(o.useEffect)((function(){var e=_.current,t=e.querySelector(".resource-detail-directory__item--active");if(t){var n=t.offsetHeight,a=t.offsetTop,r=a+n/2;p.current&&(p.current.style.top=r+"px");var i=a-e.scrollTop;i<60?e.scrollTop=a-60:i>e.clientHeight-60&&(e.scrollTop=a-e.clientHeight+n+60)}}),[T]);var S=function(){I()},I=ae()((function(){for(var e=0,n=t.length;e<n;){var r=Math.floor((e+n)/2);t[r].getBoundingClientRect().top>a+20?n=r:e=r+1}u&&u(!0),N(Math.max(e-1,0))}),50),b=function(e){var n=parseInt(e.currentTarget.dataset.index),c=t[n],o=r&&document.querySelector("#".concat(r)),s=o?o.scrollTop:document.body.scrollTop||document.documentElement.scrollTop,l=c.getBoundingClientRect().top+s;re.animateScroll.scrollTo(l-a,{duration:300,containerId:r}),i&&(window.location.hash=c.dataset.anchor)};return s.a.createElement("div",{className:f()("resource-detail-directory",{"resource-side--show":l})},s.a.createElement("div",{className:"resource-detail-directory__title"},g("res.TABLE_OF_CONTENT"),!m&&s.a.createElement("a",{onClick:E},"\u82f1\u8bed"===g("en")?"\u6536\u8d77":"")),s.a.createElement("div",{className:"resource-detail-directory__content",ref:_},s.a.createElement("div",{className:"resource-detail-directory__list"},t.map((function(e,t){var n=f()("resource-detail-directory__item","resource-detail-directory__item--".concat(e.tagName.toLowerCase()),{"resource-detail-directory__item--active":T===t});return s.a.createElement("div",{key:t,"data-index":t,className:n,onClick:b,title:e.textContent},s.a.createElement(ce.a,{clamp:1},e.textContent&&e.textContent.trim()))})),T>=0&&s.a.createElement("span",{className:"resource-detail-directory__indicator",ref:p}))))}),se=(n(1685),function(e){var t=Object(o.useState)(null),n=Object(c.a)(t,2),a=n[0],i=n[1],u=Object(o.useState)(!0),E=Object(c.a)(u,2),m=E[0],d=E[1],_=e.detail,p=e.userInfo,O=e.loading,h=_||{},T=p.language_version||C,N=A(T),g=Object(o.useRef)(null),S=Object(o.useRef)(null);if(Object(o.useEffect)((function(){a&&0!==a.length?d(!0):d(!1)}),[a]),O)return s.a.createElement("div",{className:"history-detail history-detail_empty"},s.a.createElement("div",{className:"center-spin"},s.a.createElement(r.a,null)));if(!_)return s.a.createElement("div",null);return s.a.createElement("div",{className:f()("history-detail")},s.a.createElement("div",{className:f()("history-detail-content"),style:{marginRight:m?"310px":"0"}},s.a.createElement("div",{className:"content-module"},s.a.createElement(D,{detail:_,locale:T,userInfo:!0}),s.a.createElement(l.a,null),s.a.createElement("div",{className:"resource-content"},s.a.createElement(ee,{locale:T,body:h.body,language:h.language,anchorable:!0,onParseDir:function(e){return i(e)},editorType:h.editor_type})),s.a.createElement(l.a,null),s.a.createElement(te,{detail:h,locale:T}),s.a.createElement("div",{className:"resource-copyright"},N("res.STATEMENTL")))),s.a.createElement("div",{className:f()("history-detail-menu",{"history-detail-menu_hide":!m})},a&&a.length>0&&s.a.createElement("div",{className:f()("resource-side",{"resource-side_hide":!m}),style:{width:270},ref:g},s.a.createElement("div",{className:f()("resource-directory-wrapper",{}),ref:S},s.a.createElement(oe,{headings:a,anchorable:!0,locale:T,sideHidden:!1,sideFixed2:!1,closeSlide:function(){d(!1)}})))),!m&&a&&a.length>0&&s.a.createElement("div",{className:"open-detail-menu",onClick:function(){return d(!0)}},s.a.createElement(R.a,{type:"icon-mulushouqi2x"})))});se.defaultProps={text:"",color:""};var le=se,ue=n(65),Ee=n(100),me=n(87);n(709),t.default=function(){var e=Object(Ee.c)(),t=Object(T.n)(),n=Object(T.q)((function(e){return e.user.info})),a=Object(T.k)((function(e){return e.pageDetail})).fetchDetailVersionsList,l=Object(o.useState)(),u=Object(c.a)(l,2),E=u[0],m=u[1],d=Object(o.useState)(),_=Object(c.a)(d,2),f=_[0],p=_[1],O=Object(o.useState)(!0),h=Object(c.a)(O,2),g=h[0],S=h[1],I=Object(o.useState)(!1),b=Object(c.a)(I,2),C=b[0],v=b[1],A=Object(o.useRef)({curId:0});Object(T.o)((function(){S(!0),a(t.id).then((function(e){e&&Array.isArray(e)&&R(e[0].version),e&&4003===e.code&&p({status:e.code,message:e.message}),S(!1)})).catch((function(e){S(!1),i.b.error(e.message)}))}));var R=function(e,n){A.current.curId!==n&&(A.current.curId=n,S(!0),ue.d.getDetailVersion(t.id,e).then((function(e){m(e),S(!1)})).catch((function(e){S(!1),i.b.error(e.message),p({status:e.code,message:e.message})})))};return f&&4003===f.status?s.a.createElement("div",{className:"history-detail history-detail_empty"},s.a.createElement(me.b,{desc:e.get("home.GLOBAL.NO_AUTH_ACCESS")})):s.a.createElement(s.a.Fragment,null,s.a.createElement(N,{onChange:function(e,t){R(e,t)},onCoverOk:function(n,r){v(!0),ue.d.coverDetailVersion(t.id,r.id).then((function(r){r&&(i.b.success(e.get("history.RESTORE_SUCCESSFUL")),a(t.id).then((function(e){R(e[0].version)})),v(!1),n())})).catch((function(e){i.b.error(e.message),v(!1),n()}))},coverLoading:C}),s.a.createElement("div",{className:"history"},g&&s.a.createElement("div",{className:"history-detail history-detail_empty"},s.a.createElement(r.a,null)),!g&&s.a.createElement(le,{detail:E,loading:g,detailError:f,userInfo:n})))}},381:function(e,t,n){"use strict";n.r(t);n(84);var a=n(30),r=n(10),i=n.n(r),c=n(22),o=n(0),s=n.n(o),l=n(3),u=n.n(l),E=n(418),m=(n(245),n(133)),d=(n(478),n(95)),_=n(6),f=n(67),p=n(18),O=n(274),h=n(19),T=n(100),N=n(9),g=n(92),S=(n(102),n(49)),I=(n(485),n(211)),b=(n(247),n(69)),C=(n(74),n(12)),v=n(57),A=n(25),R=n(21),y=(n(1407),function(e,t,n){var a=0;return function e(t,r){return t.map((function(t,i){return a<r.length&&t.id===r[a].id?++a===r.length?(n?(t.loading=!1,t.children=Object(v.a)(n)):t.loading=!0,t):(t.children=e(t.children,r),t):t}))}(e,t)}),L=function(e){var t=e.visible,n=e.deleteItem,r=e.onOk,i=e.onCancel,c=e.siteId,l=e.site,u=Object(R.a)(R.c),E=Object(o.useState)(null),m=Object(_.a)(E,2),d=m[0],f=m[1],p=Object(o.useState)([]),O=Object(_.a)(p,2),h=O[0],T=O[1],N=Object(o.useState)(1),g=Object(_.a)(N,2),v=g[0],L=g[1],D=l&&l.allow_manage,k=n?0===n.category_type?"cate":2===n.category_type?"link":"res":"";Object(o.useEffect)((function(){l&&!l.allow_manage&&n&&n.has_children&&L(2)}),[l,n]),Object(o.useEffect)((function(){t&&A.b.getWikiMenu(c).then((function(e){T(e.list.map((function(e){return e.has_children&&(e.isLeaf=!1),e})).filter((function(e){return e.id!=n.id})))}))}),[c,t]);var M=function(){var e={cat_id:n.binding_category_id||n.id,wikiId:c,is_reference:2===n.category_type};if(2===v){if(!d)return C.b.warn(u("delete.toast.SELECE_WARN"));e.parent_id=d[d.length-1]}A.b.deleteCateDetail(e).then((function(){n.has_children?1===v?C.b.success(u("delete.toast.ALL",{type:k})):C.b.success(u("delete.toast.MIG",{type:k})):C.b.success(u("delete.toast.SUCCESS",{type:k})),r({params:e,deleteItem:n})})).catch((function(e){C.b.warn(e.message)}))};return n?s.a.createElement("div",null,s.a.createElement(S.a,{title:u("category.DELETE_CONFIRMATION"),visible:t,onCancel:i,className:"modal-delete-cate",footer:function(){if(!n)return null;var e="";return n.has_children?(e=u("delete.btn.CONFIRM"),2===v&&(e=u("delete.btn.MIGRATE_DELETE",{type:k}))):e=u("delete.btn.DELETE"),[s.a.createElement(a.a,{key:"cancel",onClick:i},u("delete.btn.CANCEL")),s.a.createElement(a.a,{key:"mit",type:"primary",onClick:M},e)]}()},!n.has_children&&s.a.createElement("div",null,u("delete.CONFIRM",{type:k})),n.has_children&&s.a.createElement("div",null,D?s.a.createElement("div",null,s.a.createElement("div",null,u("delete.SELECE_ACTION",{type:k})),s.a.createElement(b.a.Group,{onChange:function(e){L(e.target.value),1===e.target.value&&f(null)},value:v},s.a.createElement(b.a,{value:1},u("delete.ALL_DELETE")),s.a.createElement(b.a,{value:2},u("delete.AUDIO_MIGRATE",{type:k})))):s.a.createElement("div",null,u("delete.SELECE_ACTION_OTHER",{type:k})),2===v&&s.a.createElement(I.a,{style:{width:"100%"},popupClassName:"cate-cascader",options:h,loadData:function(e){var t=e[e.length-1].id;return T(y(h,e)),A.b.getCateDetail(t).then((function(t){var a=t.children?t.children.list.map((function(e){return e.has_children&&(e.isLeaf=!1),e})):[],r=y(h,e,a.filter((function(e){return e.id!=n.id})));T(r)}))},changeOnSelect:!0,fieldNames:{label:"name",value:"id",children:"children"},onChange:function(e){f(e)},placeholder:"\u8bf7\u9009\u62e9"})))):null},D=(n(173),n(81)),k=(n(85),n(39)),M=n(8),w=n(45),j=n.n(w),U=n(153),P=(n(649),n(232)),x=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(_.a)(r,1)[0];return a.splice(n,0,i),a},F=function(e,t){var n=null;return function e(t,a){t.forEach((function(t,r){t.id!=a?t.children&&e(t.children,a):n=j()(t)}))}(e,t),n},H=function(e,t,n){return e.map((function(e,a){return e.level=t,e.key=n?n+"_"+e.id:e.id.toString(),e.loading=!1,e.open=!1,e.totalLoaded=!1,e}))},Y=function(e){var t=e.siteId,n=e.activeId,r=void 0===n?0:n,l=e.breadCrumbList,E=void 0===l?[]:l,O=e.handleAdd,h=e.handleDelete,T=e.deleteParams,I=e.handleStar,b=e.starList,y=e.addCate,L=e.onClickItem,w=e.site,Y=e.isClose,G=e.category,V=e.onEmit,W=e.levelChange,B=e.scrollLeft,K=e.siderWidth,z=Object(R.a)(R.c),q=Object(o.useState)({num:0,has_more:!1,loading:!1}),X=Object(_.a)(q,2),J=X[0],Q=X[1],Z=Object(o.useState)(null),$=Object(_.a)(Z,2),ee=$[0],te=$[1],ne=Object(o.useState)([]),ae=Object(_.a)(ne,2),re=ae[0],ie=ae[1],ce=Object(o.useState)(!1),oe=Object(_.a)(ce,2),se=oe[0],le=oe[1],ue=Object(o.useState)(!0),Ee=Object(_.a)(ue,2),me=Ee[0],de=Ee[1],_e=Object(o.useState)(null),fe=Object(_.a)(_e,2),pe=fe[0],Oe=fe[1],he=Object(o.useState)(w),Te=Object(_.a)(he,2),Ne=Te[0],ge=Te[1],Se=Object(o.useState)(!0),Ie=Object(_.a)(Se,2),be=Ie[0],Ce=Ie[1],ve=Object(o.useState)("unset"),Ae=Object(_.a)(ve,2),Re=Ae[0],ye=Ae[1],Le=Object(o.useState)({id:"",open:!1,loading:!1,enable:!1}),De=Object(_.a)(Le,2),ke=De[0],Me=De[1],we=Object(o.useRef)(null),je=Object(o.useRef)(!1),Ue=Object(o.useRef)(0),Pe=Object(o.useRef)(!0),xe=Object(o.useRef)(null),Fe=Object(o.useRef)({}),He=Object(o.useRef)({}),Ye=Object(o.useRef)([]),Ge=Object(g.f)(),Ve=Object(g.g)(),We=Object(g.h)(),Be=P.parse(Ve.search),Ke=E.join("-"),ze=G&&G.id;Object(o.useEffect)((function(){ge(w)}),[w]),Object(o.useEffect)((function(){if(ee&&!se){var e=j()(F(ee.list,ze)),t=re.find((function(e){return e.id==ze}));if(e&&(!e.has_children||e.children)&&t){var n=j()(G),a={name:e.name,id:e.id,children:{has_more:!!e.has_more,list:j()(e.children||[]).filter((function(e){return!e.relatedId})).map((function(e){return{name:e.name,id:e.id}})),total:e.total}},r=Ye.current.length>0&&n.children.list.find((function(e){return Ye.current.includes(e.id)}));if(Fe.current=a,JSON.stringify(a)!=JSON.stringify(He.current)||r){console.log("\u9700\u8981\u66f4\u65b0store"),n.name=e.name;var i=e.children?j()(e.children).filter((function(e){return!e.relatedId})).map((function(e){if(delete e.children,!e.hasOwnProperty("category_num_of_next_layer")&&n.children&&n.children.list&&n.children.list){var t=n.children.list.find((function(t){return t.id==e.id}));if(t&&Ye.current.includes(t.id)&&(t.needUpdata=!0),t)return t}return Ye.current.includes(e.id)&&(e.needUpdata=!0),e})):[];(t.open||G.id==t.id)&&(n.children={page_num:n.children.page_num,page_size:n.children.page_size,has_more:e.has_more,list:i,total:e.total}),Ye.current=[],V("cate",n)}else console.log("\u7ec4\u4ef6\u5185\u6570\u636e\u6ca1\u53d8\u5316\uff0c\u6570\u636e\u4e00\u6837\uff0c\u4e0d\u5728\u540c\u6b65")}}}),[ee,ze,re,se]),Object(o.useEffect)((function(){if(ee&&G){var e={name:G.name,id:G.id,children:{has_more:!!G.children.has_more,list:j()(G.children.list).map((function(e){return{name:e.name,id:e.id}})),total:G.children.total}};if(He.current=e,JSON.stringify(e)!=JSON.stringify(Fe.current)){console.log("\u9700\u8981\u66f4\u65b0menu",G);var t=j()(G),n=F(ee.list,G.id);if(n){var a=H(t.children.list,n.level+1,n.key);if(t.children.has_more){var r={category_num_of_next_layer:0,total:t.children.total,num:t.children.total-t.children.list.length,relatedId:n.id,parent_id:n.id,level:n.level+1,loading:!1,id:n.key+"_id",key:n.key+"_action"};a.push(r)}te(Object(M.a)(Object(M.a)({},ee),{},{list:ct(n.key,j()(a),t)}));var i=re.findIndex((function(e){return e.id===G.id}));if(-1!=i&&re[i].open){var c=j()(re).filter((function(e){return e.parent_id!=G.id})),o=a;return o&&o.length>0?(a.unshift(i+1,0),Array.prototype.splice.apply(c,Object(v.a)(o)),void ie(c)):void 0}}}else console.log("\u4ed3\u5e93\u6570\u636e\u6ca1\u53d8\uff0c\u4e0d\u5728\u540c\u6b65")}}),[G,ee]),Object(o.useEffect)((function(){if(y){var e=Object(M.a)({},y);e.level=1,e.key=e.id.toString(),e.loading=!1,e.open=!1,e.totalLoaded=!1,ie((function(t){return[e].concat(Object(v.a)(t))}))}}),[y]),Object(o.useEffect)((function(){ie((function(e){return e.filter((function(e){return 1===e.level})).map((function(e){return e.loading=!1,e.open=!1,e}))}))}),[Y]),Object(o.useEffect)((function(){de(!0),t&&A.b.getWikiMenu(t,50).then((function(e){V("menuload",!0);var t=H(e.list,1);e.has_more&&Q({num:e.total-50,has_more:e.has_more,loading:!1}),Pe.current=!1,ie(t),te(Object(M.a)(Object(M.a)({},e),{},{list:Object(v.a)(t)})),de(!1)}))}),[t]),Object(o.useEffect)((function(){E.length>0&&Ue.current<E.length-1&&ee&&re&&!Pe.current&&(Pe.current=!0,function(){if(Ue.current<E.length-1){var e=re.findIndex((function(e){return e.id==E[Ue.current]})),t=re.findIndex((function(e){return e.id===E[Ue.current+1]}));if(e<0)return Pe.current=!1;re[e].open&&Ue.current<E.length-2?(Ue.current++,Pe.current=!1,setTimeout((function(){Ce((function(e){return!e}))}),10)):t>-1?(Ue.current++,Pe.current=!1,Ce((function(e){return!e}))):tt(re[e]).then((function(){Ue.current++,Pe.current=!1,Ce((function(e){return!e}))}))}else Pe.current=!0,Ce((function(e){return!e}))}())}),[E,re,ee,be]),Object(o.useEffect)((function(){Ue.current=0,Ce((function(e){return!e}))}),[Ke]),Object(o.useEffect)((function(){if(T){var e=T.params,t=T.deleteItem;qe(t.id);var n=Object(v.a)(re).filter((function(t){return t.key.split("_").findIndex((function(t){return t==e.cat_id}))<0}));if(t.parent_id){var a=n.find((function(e){return e.parent_id===t.parent_id}));n=n.map((function(e){return e.id!=t.parent_id||a||(e.has_children=!1),e}))}e.parent_id&&Qe(e.parent_id),ie(n)}}),[T]),Object(o.useEffect)((function(){pe&&xe.current.focus()}),[pe]);var qe=function(e){function t(e,n){return e.filter((function(e){return e.id!=n&&(e.children?(e.children=t(e.children,n),e):e)}))}te((function(n){return Object(M.a)(Object(M.a)({},n),{},{list:t(n?n.list:[],e)})}))},Xe=function(e,t,n,a){var r;if(1===e)if(t.parent_id){var i=j()(F(ee.list,t.parent_id)),c=x(i.children,t.position-1,n.position-1);i.children=c,te(Je(i,ee))}else{var o=x(ee.list,t.position-1,n.position-1);te(Object(M.a)(Object(M.a)({},ee),{},{list:o}))}if(0===e){if(t.parent_id){Ye.current=[t.parent_id,n.id];var s=j()(F(ee.list,t.parent_id));s.children.length<=1?(s.has_children=!1,s.children=null):s.children=s.children.filter((function(e){return e.id!=t.id})),r=Je(s,ee),re.findIndex((function(e){return e.parent_id==t.parent_id&&e.id!=t.id}))>-1||ie((function(e){return e.map((function(e){return e.id==t.parent_id&&(e.has_children=!1),e}))}))}else Ye.current=[n.id],r=Object(M.a)(Object(M.a)({},ee),{},{list:ee.list.filter((function(e){return e.id!=t.id}))});var l=re.find((function(e){return e.id===n.id})),u=F(r.list,n.id);if(!l.open&&G&&G.id!=u.id)Qe(n.id),u.has_children=!0;else{var E=j()(t);E.key=u.key+"_"+E.id,E.parent_id=u.id,E.level=u.level+1,E.open=!1,u.has_children=!0,u.total=u.total?u.total+1:1,u.children=u.children?[E].concat(Object(v.a)(u.children)):[E]}te(Je(u,r))}if(2===e){if(t.parent_id){Ye.current=[t.parent_id];var m=F(ee.list,t.parent_id);m.children.length<=1?(m.has_children=!1,m.children=null,m.total=0):m.children=m.children.filter((function(e){return e.id!=t.id})),r=Je(m,ee),re.findIndex((function(e){return e.parent_id==t.parent_id&&e.id!=t.id}))>-1||ie((function(e){return e.map((function(e){return e.id==t.parent_id&&(e.has_children=!1),e}))}))}else r=Object(M.a)(Object(M.a)({},ee),{},{list:ee.list.filter((function(e){return e.id!=t.id}))});var d=a?n.parent_id||null:n.open?n.id:n.parent_id||null,_=a?n.position:n.open?1:n.position+1,f=j()(t);if(d){Ye.current.push(d);var p=F(r.list,d);f.key=p.key+"_"+f.id,f.parent_id=p.id,f.level=p.level+1,f.open=!1,f.position=_,p.has_children=!0,p.children.splice(_-1,0,f),te(Je(p,r))}else f.position=_,f.level=1,f.key=f.id.toString(),f.open=!1,f.parent_id=null,r.list.splice(_-1,0,f),te(r)}},Je=function(e,t){var n=j()(t),a=j()(e);a.children&&(a.children=a.children.map((function(e,t){return e.position=t+1,e})));var r=a.id;var i=function e(t,n){return t.map((function(t,r){return t.id==n?a:t.children?Object(M.a)(Object(M.a)({},t),{},{children:e(t.children,n)}):t}))}(j()(n.list),r);return Object(M.a)(Object(M.a)({},n),{},{list:i})},Qe=function(e,t){function n(e,a){return e.map((function(e){return e.id==a?(e.children=null,e.total&&1===e.total&&t&&(e.has_children=!1),e):e.children?(e.children=n(e.children,a),e):e}))}te((function(t){return Object(M.a)(Object(M.a)({},t),{},{list:n(t.list,e)})}))},Ze=function(e){O(e.id)},$e=function(e){Oe(e)},et=function(e,n){var a=n.binding_page_id||n.id;return"cate"===e?Object(N.t)()?"/".concat(We.profile,"/wiki/site/").concat(t,"/cate/").concat(a):"/wiki/".concat(t,"/category/").concat(a):"res"===e?Object(N.t)()?"/".concat(We.profile,"/wiki/page/").concat(a,"?parent_id=").concat(n.parent_id||n.id,"&wiki=").concat(t,"&has_child=").concat(n.has_children):"/wiki/".concat(t,"/page/").concat(a,"?parent_id=").concat(n.parent_id||n.id,"&wiki=").concat(t,"&has_child=").concat(n.has_children):Object(N.l)(n)},tt=function(e){var t=0;return ie(re.map((function(n,a){return n.key==e.key&&(n.loading=!0,n.open=!0,n.has_children=!0,t=a),e.totalLoaded&&(n.loading=!1),n}))),e.totalLoaded?new Promise((function(e,t){e()})):(W(e.level+1,t),A.b.getCateDetail(e.id).then((function(n){var a=e.key,r=H(n.children.list,e.level+1,a);te(Object(M.a)(Object(M.a)({},ee),{},{list:ct(a,j()(r),n)}));var i=j()(re.filter((function(t){return t.key.split("_").findIndex((function(t){return t==e.id}))<0||t.id==e.id})));i[t].total=n.children.total,i[t].loading=!1,r.unshift(t+1,0),Array.prototype.splice.apply(i,j()(r)),ie(i)})).catch((function(t){ie(re.map((function(t){return t.key==e.key&&(t.loading=!1,t.open=!1),t})))})))},nt=function(e){e.open?at(e):rt(e)},at=function(e){ie(re.map((function(t,n){return e.id===t.id&&(n,t.loading=!1,t.open=!1),t})).filter((function(t){var n=t.key?t.key.split("_"):"";return!(n.length>e.level&&n[e.level-1]==e.id)})))},rt=function(e){if(!e.open){var t=0,n=re.map((function(n,a){return e.id===n.id&&(t=a,n.loading=!0,n.open=!0),n})),a=j()(n),r=it(e.id);if(r&&r.length>0)return r.unshift(t+1,0),a[t].open=!0,a[t].loading=!1,Array.prototype.splice.apply(a,Object(v.a)(r)),void ie(a);ie(n),A.b.getCateDetail(e.id,50).then((function(n){var r=H(n.children.list,e.level+1,e.key);if(a[t].has_more=n.children.has_more,a[t].total=n.children.total,a[t].loading=!1,n.children.has_more){var i={total:n.children.total,num:n.children.total-n.children.list.length,relatedId:e.id,parent_id:e.id,level:e.level+1,loading:!1,id:e.key+"_id",key:e.key+"_action"};a.splice(t+1,0,i),te(Object(M.a)(Object(M.a)({},ee),{},{list:ct(e.key,j()([].concat(Object(v.a)(r),[i])),n)}))}else te(Object(M.a)(Object(M.a)({},ee),{},{list:ct(e.key,j()(r),n)}));r.unshift(t+1,0),Array.prototype.splice.apply(a,r),ie(a)})).catch((function(n){var a=re.map((function(n,a){return e.id===n.id&&(t=a,n.loading=!1,n.open=!1),n}));ie(a),C.b.warn(n.message)}))}},it=function(e){var t=[],n=[];return function e(n,a){n.map((function(n){n.id==a?t=n.children?j()(n.children):null:n.children&&e(n.children,a)}))}(j()(ee.list),e),t?(function e(t){t.forEach((function(t,a){n.push(t),t.open&&t.children&&(Array.prototype.splice.apply(n,[a+1,0].concat(Object(v.a)(t.children))),e(t.children))}))}(t),[].concat(n)):t?Object(v.a)(t):t},ct=function(e,t,n){var a=e.split("_"),r=a[a.length-1];return function e(a,r){return a.map((function(a,i){return a.id==r?(a.children=t,a.has_more=n.children.has_more,a.total=n.children.total,a.loading=!1,a):a.children?Object(M.a)(Object(M.a)({},a),{},{children:e(a.children,r)}):a}))}(j()(ee.list),r)},ot=function(e){var n=e.binding_page_id?"res":2===e.category_type?"link":"cate",i=e.binding_page_id?"icon-citiao2x":2===e.category_type?"link":"icon-fenlei2x",c=!1;c=(Be.resauth,e.id==r);var o={paddingLeft:18*e.level+24+"px"};e.level;return e.relatedId?s.a.createElement("div",{className:u()("tree-menu-item"),key:e.id},s.a.createElement("div",{className:"tree-menu-item_content"},s.a.createElement("div",{className:"tree-menu-item-name",style:o},s.a.createElement(a.a,{type:"link",onClick:function(){return function(e){ie(re.map((function(t,n){return t.key==e.key&&(t.loading=!0,t.totalLoaded=!0),t}))),A.b.getCateDetail(e.relatedId,e.total).then((function(t){var n=e.key.split("_action")[0],a=H(t.children.list,e.level,n);te(Object(M.a)(Object(M.a)({},ee),{},{list:ct(n,j()(a),t)}));var r=0,i=re.filter((function(t,n){return t.key==e.key&&(r=n),t.key!=e.key})),c=a.slice(50);c.unshift(r,0),Array.prototype.splice.apply(i,j()(c)),ie(i)})).catch((function(t){ie(re.map((function(t){return t.key==e.key&&(t.loading=!1),t}))),C.b.warn(t.message)}))}(e)},style:{paddingLeft:0},loading:e.loading},z("home.MENU.LOAD_MORE"),"(",e.num,")")))):s.a.createElement("div",{key:e.id,className:u()("tree-menu-item",{"tree-menu-item_active":c&&!Object(N.t)(),"tree-menu-item-team_active":c&&Object(N.t)(),"tree-menu-item_hoving":ke.id===e.id}),onMouseEnter:function(){ke.id!==e.id&&Me((function(t){return Object(M.a)(Object(M.a)({},t),{},{id:e.id})}))},onMouseLeave:function(){ke.id&&Me((function(e){return Object(M.a)(Object(M.a)({},e),{},{id:"",open:!1})}))}},s.a.createElement("div",{className:"tree-menu-item_content"},s.a.createElement("div",{className:"tree-menu-item-name",style:o},e.has_children&&s.a.createElement(p.a,{type:"icon-xiala",className:u()("arrow-icon",{"arrow-icon_open":e.open}),onClick:function(){return nt(e)}}),"link"===i?s.a.createElement("span",{className:"link"}):s.a.createElement(p.a,{type:i,className:"type-cion"}),pe&&pe.id===e.id?s.a.createElement(D.a,{defaultValue:e.name,onPressEnter:function(n){return function(e,n){var a=e.target.value.replace(/(^\s*)|(\s*$)/g,"");return je.current||a===n.name?Oe(null):a?a.length>30?C.b.warn(z("category.CATE_NAME_LENGTH")):(je.current=!0,void A.b.putCateDetail({id:pe.id,body:{name:a},wikiId:t}).then((function(){C.b.success(z("member.SUCCESSFULLY_MODIFIED")),je.current=!1,Oe(null),ie((function(e){return e.map((function(e){return e.id===pe.id&&(e.name=a),e}))})),Qe(pe.parent_id)}))):C.b.warn(z("category.INPUT_CATE_NAME"))}(n,e)},ref:xe,maxLength:15,style:{width:155},onBlur:function(){return Oe(null)}}):s.a.createElement("div",{className:"text",onClick:function(){nt(e),function(e,n){var a=n.binding_page_id||n.id;"cate"===e?Ge.push({pathname:Object(N.t)()?"/".concat(We.profile,"/wiki/site/").concat(t,"/cate/").concat(a):"/wiki/".concat(t,"/category/").concat(a)}):"res"===e?Ge.push({pathname:Object(N.t)()?"/".concat(We.profile,"/wiki/page/").concat(a):"/wiki/".concat(t,"/page/").concat(a),search:"?parent_id=".concat(n.parent_id||n.id,"&wiki=").concat(t,"&has_child=").concat(n.has_children)}):window.open(Object(N.l)(n)),L(n)}(n,e)}},"link"===n?s.a.createElement("a",{href:et(n,e),target:"_blank",rel:"noreferrer noopener"},e.name):s.a.createElement(f.a,{to:et(n,e)}," ",e.name))),Ne&&Ne.allow_publish&&s.a.createElement(m.a,{overlayClassName:"drag-menu-dropdown",overlay:function(){return function(e){if(ke.loading)return s.a.createElement("div",{className:"tree-menu-item-operation-loading"},s.a.createElement(k.a,null));var n=b.some((function(t){return"Wiki"===t.source_type&&t.id===e.id})),a=e.binding_page_id?"res":2===e.category_type?"link":"cate",r=Object(N.t)()?"/editor/new?post_location=".concat(We.profile,"&parent_type=WikiPage&base_type=Wiki&base_id=").concat(t,"&ps_content_category_id=").concat(e.id):"/editor/new?parent_type=WikiPage&base_type=Wiki&base_id=".concat(t,"&ps_content_category_id=").concat(e.id,"&isFixdSite=true");return s.a.createElement(d.a,{onClick:function(t){switch(t.key){case"0":window.location.href=r;break;case"1":Ze(e);break;case"2":I(e,!n);break;case"3":$e(e);break;case"4":h(e)}}},"link"!==a&&s.a.createElement(d.a.Item,{key:"0",disabled:!ke.enable},s.a.createElement("div",null,s.a.createElement("span",null,z("category.NEW_SUBENTRY")))),"link"!==a&&s.a.createElement(d.a.Item,{key:"1",disabled:!ke.enable},s.a.createElement("div",null,z("category.NEW_SUBCATEGORY"))),"cate"===a&&Object(N.t)()&&s.a.createElement(d.a.Item,{key:"2",disabled:!ke.enable},s.a.createElement("div",null,z(n?"category.UNSTARRED":"category.STARRED"))),"cate"===a&&s.a.createElement(d.a.Item,{key:"3",disabled:!ke.enable},s.a.createElement("div",null,z("category.RENAME"))),s.a.createElement(d.a.Item,{key:"4",disabled:!ke.enable},s.a.createElement("div",null,z("category.DELETE"))))}(e)},placement:"bottomRight",visible:ke.id===e.id&&ke.open},s.a.createElement("div",{id:"drag-tree-item-".concat(e.id),style:{left:B+K-48+"px"},className:"tree-menu-item-more",onClick:function(t){return st(t,e)}},s.a.createElement("div",null,s.a.createElement(p.a,{type:"icon-jiahao"}))))),s.a.createElement("div",{className:"tree-menu-item_status",style:o},e.loading&&s.a.createElement(k.a,{size:"small"})))},st=function(){var e=Object(c.a)(i.a.mark((function e(n,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),e.prev=1,Me((function(e){return Object(M.a)(Object(M.a)({},e),{},{open:!0,loading:!0,id:a.id})})),e.next=5,A.b.getCateOperation({wikiId:t,cateId:a.id});case 5:Me((function(e){return Object(M.a)(Object(M.a)({},e),{},{loading:!1,enable:!0})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Me((function(e){return Object(M.a)(Object(M.a)({},e),{},{loading:!1,enable:!1})}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),lt=function(e,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=a.binding_page_id?"res":2===a.category_type?"link":"cate",c=Object(v.a)(re),o={cat_id:e,position:r,wiki_id:t};a&&a.binding_page_id&&(o.page_id=a.binding_page_id),n&&(o.parent_id=n),A.b.positionCate(o).then((function(e){le(!1),ye("unset"),C.b.success("\u79fb\u52a8\u6210\u529f"),e.result||2==a.category_type||S.a.confirm({title:s.a.createElement("div",null,z("member.TIPS_SHORT"),s.a.createElement(p.a,{type:"icon-cha2x",className:u()("arrow-icon"),onClick:function(){return S.a.destroyAll()}})),className:"auth-confirm",content:z("category.UNSAME_PATH",{type:i}),okText:z("category.YES"),cancelText:z("category.NO"),onOk:function(){a&&a.binding_page_id&&(o.page_id=a.binding_page_id),A.b.asycCateAuth(o).then((function(){C.b.success(z("category.PERMISSIONS_SYNC"))})).catch((function(e){C.b.error(e.message)}))},onCancel:function(){C.b.success(z("category.PERMISSIONS_NOSYNC"))}})})).catch((function(e){C.b.error(e.message),le(!1),ye("unset"),ie(c)}))},ut=function(e,n,a,r){var i=Object(v.a)(re),c={cat_id:e,position:n,wiki_id:t};r&&r.binding_page_id&&(c.page_id=r.binding_page_id),a&&(c.parent_id=a),A.b.positionCate(c).then((function(){le(!1),ye("unset"),C.b.success(z("category.MOVE_SUCCESS"))})).catch((function(e){C.b.error(e.message),le(!1),ye("unset"),ie(i)}))},Et=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,r,c,o,s,l,u,E,m,d,_,f,p,O,h,T,N,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!se){e.next=2;break}return e.abrupt("return",C.b.warn(z("category.MOVING")));case 2:if(t){e.next=4;break}return e.abrupt("return",C.b.warn(z("category.MOVE_ERROR")));case 4:if(n=j()(re),!t.combine){e.next=15;break}if(a=j()(n[t.source.index]),2!=(r=j()(re.find((function(e){return e.id==t.combine.draggableId})))).category_type){e.next=10;break}return e.abrupt("return",C.b.warn("\u76ee\u6807\u4e0d\u53ef\u4e3a\u5f15\u7528\u8282\u70b9"));case 10:return ie((function(e){var n=1,i=e.map((function(e){return e.id==t.combine.draggableId&&(e.has_children=!0),e.id==a.id&&(e.open=!1),a.level>1&&e.id==a.parent_id&&e.total&&1==e.total&&(e.open=!1,e.has_children=!1),e})).filter((function(e){return e.key.split("_").findIndex((function(e){return e==a.id}))<0})).map((function(e){return a.parent_id?e.parent_id==a.parent_id&&(e.position=n,n+=1):1==e.level&&(e.position=n,n+=1),e}));if(r.open){var c=i.findIndex((function(e){return e.id==t.combine.draggableId})),o=1;a.key=r.key+"_"+a.id,a.parent_id=r.id,a.level=r.level+1,a.open=!1,i.splice(c+1,0,a),i=i.map((function(e){return e.parent_id&&e.parent_id==r.id&&(e.position=o,o+=1),e}))}return i})),le(!0),Xe(0,a,r),lt(t.draggableId,t.combine.draggableId,a),e.abrupt("return");case 15:if(t.destination){e.next=17;break}return e.abrupt("return");case 17:le(!0),c=t.source.index,o=t.destination.index,s=re[o].position,l=j()(re[c]),u=j()(re[o]),c!==o?l.parent_id&&u.parent_id&&l.parent_id===u.parent_id||1===l.level&&1===u.level&&!u.open?(E=1,m=x(re,c,o).map((function(e,t){return 1===u.level&&1===e.level?(e.position=E,E++):(l.parent_id==e.id&&(E=t),l.parent_id==e.parent_id&&(e.position=t-E)),e.id==l.id&&(e.open=!1),e})).filter((function(e){return e.key.split("_").findIndex((function(e){return e==l.id}))<0||e.id==l.id})),ie(m),Xe(1,l,u),ut(t.draggableId,s,u.parent_id,l)):(d=c>o,_=re[o+1],f=d?u.key.split("_"):u.open?_.key.split("_"):u.key.split("_"),p=d?u.level:u.open?_.level:u.level,O=d?u.parent_id||null:u.open?u.id:u.parent_id||null,n[c].key=1===f.length?l.id.toString():f.slice(0,f.length-1).join("_")+"_"+l.id,n[c].level=p,n[c].parent_id=O,h=0,T=1,N=0,g=x(n,c,o).map((function(e,t){return 1===p&&1===e.level?(e.position=T,T++):(l.parent_id&&l.parent_id===e.parent_id&&(e.position=h+1,h++),l.parent_id||e.parent_id||(e.position=h+1,h++),O===e.parent_id&&(e.position=N+1,N++)),e.id==l.id&&(e.open=!1),l.level>1&&e.id==l.parent_id&&e.total&&1==e.total&&(e.open=!1,e.total=0,e.has_children=!1),e})).filter((function(e){return e.key.split("_").findIndex((function(e){return e==l.id}))<0||e.id==l.id})),ie(g),Xe(2,l,u,d),l.parent_id,lt(t.draggableId,d?u.parent_id:u.open?u.id:u.parent_id,l,d?u.position:u.open?1:u.position+1)):le(!1);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return re.length<0?null:Ne&&!Ne.allow_publish?s.a.createElement("div",{ref:we,className:"tree-menu"},re.map((function(e,t){return ot(e)}))):s.a.createElement("div",{ref:we,className:"tree-menu"},me&&s.a.createElement(k.a,null),s.a.createElement(U.a,{onDragEnd:Et,onBeforeCapture:function(){ye(we.current.offsetHeight)}},s.a.createElement(U.c,{droppableId:"droppable",isCombineEnabled:!0},(function(e){return s.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:"drag-contant",style:{height:Re}}),re.map((function(e,t){return s.a.createElement(U.b,{key:e.id||e.key,draggableId:e.id?e.id&&e.id.toString():e.key,index:t},(function(t,n){var a=Object(M.a)(Object(M.a)({},t.draggableProps.style),{},{background:n.isDragging?"#fff":n.combineTargetFor?"#f1f4f8":"#fff",boxShadow:n.isDragging?"0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05)":null});return s.a.createElement("div",Object.assign({ref:t.innerRef},t.dragHandleProps,t.draggableProps,{style:a}),ot(e))}))})))}))),J.has_more&&!me&&s.a.createElement(a.a,{type:"link",onClick:function(){return Q(Object(M.a)(Object(M.a)({},J),{},{loading:!0})),void A.b.getWikiMenu(t).then((function(e){var t=H(e.list,1).slice(50);Q({num:0,has_more:!1,loading:!1}),ie((function(e){return e.concat(t)})),te(Object(M.a)(Object(M.a)({},e),{},{list:[].concat(Object(v.a)(ee.list),Object(v.a)(t))}))}))},style:{paddingLeft:0,marginLeft:"24px"},loading:J.loading},z("home.MENU.LOAD_MORE"),"(",J.num,")"),se&&s.a.createElement("div",{className:"list-mask"},s.a.createElement(k.a,null)))},G=function(e){var t=e.siteId,n=e.detailId,a=e.breadCrumbList,r=e.handleStar,i=e.category,c=e.onEmit,l=e.starList,u=void 0===l?[]:l,E=e.handleRecycleChanged,m=e.addCate,d=e.onClickItem,f=void 0===d?function(){}:d,p=e.isClose,h=e.site,T=e.siderWidth,S=e.scrollLeft,I=Object(o.useState)(null),b=Object(_.a)(I,2),C=b[0],v=b[1],A=Object(o.useState)(!1),R=Object(_.a)(A,2),y=R[0],D=R[1],k=Object(o.useState)(0),M=Object(_.a)(k,2),w=M[0],j=M[1],U=Object(N.D)((function(e){return e.wikiAction})),P=U.deleteItem,x=U.deleteVisible,F=U.deleteParams,H=Object(N.z)((function(e){return e.wikiAction})),G=H.showDeleteModal,V=H.doDelete,W=H.hideDelete,B=Object(g.h)(),K=Object(g.f)(),z=Object(o.useRef)(null),q=function(){W(),D(!1),v(null)};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"site-menu",style:{paddingBottom:Object(N.t)()?0:30},ref:z,onScroll:function(e){return function(e){j(e.target.scrollLeft)}(e)}},s.a.createElement(Y,{isClose:p,siteId:t,starList:u,handleStar:r,addCate:m,activeId:n,breadCrumbList:a,handleAdd:function(e){v(e),D(!0)},handleDelete:function(e){G(e)},deleteParams:F,onClickItem:f,category:i,onEmit:c,levelChange:function(e,t){Object(N.t)()?c("scroll",{left:15*e,top:t?36*t:0}):z.current&&z.current.scrollTo(0,t?36*t:0)},site:h,scrollLeft:S||w,siderWidth:T})),s.a.createElement(O.a,{wikiId:t,visible:y,parentId:C,onOk:function(e){D(!1),console.log(e),Object(N.t)()?K.push("/".concat(B.profile,"/wiki/site/").concat(e.wiki_id,"/cate/").concat(e.id)):K.push("/wiki/".concat(e.wiki_id,"/category/").concat(e.id))},onCancel:q}),s.a.createElement(L,{site:h,siteId:t,visible:x,deleteItem:P,onOk:function(e){V(e),E&&E(),n==(e.deleteItem.binding_category_id||e.deleteItem.id)&&(Object(N.t)()?K.push("/".concat(B.profile,"/wiki/site/").concat(t)):K.replace("/wiki/".concat(t)))},onCancel:q}))},V=(n(1434),function(){var e=Object(o.useState)(null),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(!1),i=Object(_.a)(r,2),c=i[0],l=i[1],E=Object(o.useState)(null),g=Object(_.a)(E,2),S=g[0],I=g[1],b=Object(o.useState)(!1),C=Object(_.a)(b,2),v=C[0],A=C[1],R=Object(T.c)(),y=Object(h.l)(),L=Object(h.q)((function(e){return e.config})),D=L.siderClose,k=L.siderWidth,M=Object(h.q)((function(e){return e.user.info})),w=Object(h.q)((function(e){return e.pwiki})),j=w.site,U=w.siteId,P=w.detailId,x=w.bread_crumb_list,F=w.category,H=Object(h.k)((function(e){return e.config})),Y=H.handleMenuClose,V=H.handleMenuWidth,W=H.handleMenuInnerWidth,B=H.handleRecycleChanged,K=Object(h.k)((function(e){return e.pwiki})).handleSetCateDetail,z=!!j&&j.allow_publish,q=!!j&&j.allow_manage,X=Object(o.useRef)(null),J=Object(o.useRef)(null),Q=Object(o.useRef)(null),Z=Object(o.useRef)(null),$=Object(o.useRef)(null),ee=Object(o.useRef)(!1),te=Object(o.useRef)(0),ne={width:k,left:D?-1*k+"px":0};Object(o.useEffect)((function(){var e=function(){J.current=document.getElementsByClassName("app-aside")[0],document.addEventListener("mousemove",ce),J.current.addEventListener("mouseenter",ie),J.current.addEventListener("mousedown",ae),document.addEventListener("mouseup",re)};return e(),X.current=setInterval((function(){document.getElementsByClassName("app-aside")[0]&&(clearInterval(X.current),e())}),500),function(){document.removeEventListener("mousemove",ce),J.current.removeEventListener("mouseenter",ie),J.current.removeEventListener("mousedown",ae),document.removeEventListener("mouseup",re)}}),[]);var ae=function(e){$.current={clientX:e.clientX,clientY:e.clienty},te.current=J.current.offsetWidth,ee.current=!0},re=function(){Z.current=null,$.current=null,ee.current=!1},ie=function(e){ee.current||(Z.current={clientX:e.clientX,clientY:e.clienty})},ce=function(e){if(Q.current={clientX:e.clientX,clientY:e.clientY},Z.current&&(Z.current.clientX-e.clientX<20&&Z.current.clientX-e.clientX>0?J.current.classList.add("app-aside_drag"):J.current.setAttribute("class","app-aside"),$.current)){if(ee.current&&Z.current.clientX-$.current.clientX<20){var t=e.clientX-$.current.clientX+te.current;V(t>800?800:t<280?280:t)}e.preventDefault()}},oe=function(e){a(e),l(!0)};return s.a.createElement("aside",{className:"app-aside",style:ne},s.a.createElement("div",{className:"site-name",title:j&&(R.EN?j.wiki.name_en||j.wiki.name:j.wiki.name||j.wiki.name_en)},s.a.createElement(p.a,{type:"icon-16",className:"site-name-logo"}),s.a.createElement(f.a,{to:"/wiki/".concat(U)},j&&(R.EN?j.wiki.name_en||j.wiki.name:j.wiki.name||j.wiki.name_en)," ",R.get("home.MENU.SITE_HOME")),z&&s.a.createElement(m.a,{overlay:function(){return s.a.createElement(d.a,null,s.a.createElement(d.a.Item,{key:"0"},s.a.createElement("div",null,s.a.createElement("a",{href:"/editor/new?parent_type=WikiPage&base_type=Wiki&base_id=".concat(U,"&isFixdSite=true")},R.get("home.MENU.NEW_ENTRY")))),s.a.createElement(d.a.Item,{key:"1"},s.a.createElement("div",{onClick:function(){return oe(null)}},R.get("home.MENU.NEW_CATEGORY"))),s.a.createElement(d.a.Item,{key:"2"},s.a.createElement("div",{onClick:function(){return A(!v)}},R.get("home.MENU.PUT_AWAY"))))},overlayClassName:"add-cate-dropdown",placement:"bottomRight",trigger:"click",getPopupContainer:function(){return document.getElementById("site-name-".concat(U))}},s.a.createElement("div",{id:"site-name-".concat(U),className:"tree-name-more"},s.a.createElement(p.a,{type:"icon-jiahao",className:"add"})))),s.a.createElement(G,{siteId:U,detailId:P,breadCrumbList:x,handleRecycleChanged:B,addCate:S,category:F,onEmit:function(e,t){console.log("onEmit",e,t),"level"===e&&function(e){if(e>3){var t=280+15*(e-3);if(W(t),t>800)V(800);else{if(!(k<t))return void W(k);V(t)}}else W(280)}(t),"cate"===e&&K(t)},isClose:v,site:j,siderWidth:k}),s.a.createElement("div",{className:"action"},s.a.createElement("div",{className:u()("handle-menu"),onClick:function(){N.y.set("wikiside_".concat(U,"_").concat(M.id),!0),Y(!0)}}),q&&s.a.createElement(f.a,{className:u()("dustbin"),to:"/wiki/".concat(U,"/recycle")},R.get("home.MENU.RECYCLE_BIN"))),s.a.createElement(O.a,{wikiId:U,visible:c,parentId:n,onOk:function(e){l(!1),y.push("/wiki/".concat(e.wiki_id,"/category/").concat(e.id)),I(e)},onCancel:function(){l(!1),a(null)}}))}),W=n(65),B=function(){var e=Object(o.useState)([]),t=Object(_.a)(e,2),n=t[0],a=(t[1],Object(h.q)((function(e){return e.user.info}))),r=Object(h.k)((function(e){return e.user})),i=r.fetchExtraInfo;r.handleSetWikis;Object(o.useEffect)((function(){}),[]);return s.a.createElement(E.b,{placement:"left",userInfo:a,wikis:n,confirmPreference:function(e){W.c.languageChange({language_version:e}).then((function(){return C.b.success("\u8bbe\u7f6e\u6210\u529f")})).then((function(){return setTimeout((function(){return window.location.reload()}),100)}))},mouseOverUser:function(){i()}})},K=(n(650),function(){var e=Object(T.c)(),t=Object(h.l)(),n=Object(h.m)(),r=n.pathname,o=n.query,l=Object(h.q)((function(e){return e.pwiki})),u=l.siteId,m=l.site,d=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={history:[],top:[]},!u){e.next=5;break}return e.next=4,W.d.getSearchHistory(u);case 4:t.history=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"app-header"},s.a.createElement("div",{className:"app-header-left"},s.a.createElement("a",{className:"app-header-logo",href:"/home"},s.a.createElement("img",{src:"/images/logo.png",alt:"logo"}),"\u7f51\u6613KM"),/setting|search/.test(r)&&m&&s.a.createElement("div",{className:"app-header__site"},"|",s.a.createElement(h.a,{type:"link",className:"app-header__site-name",to:"/wiki/".concat(u)},e.EN?m.wiki.name_en||m.wiki.name:m.wiki.name||m.wiki.name_en)),/history_diff/.test(r)&&s.a.createElement("div",{style:{marginLeft:20}},"|",s.a.createElement("span",{style:{color:"#555",marginLeft:15}},e.get("history.VERSION_HISTORY")))),s.a.createElement("div",{className:"app-header-action"},!/history_diff/.test(r)&&m&&m.allow_view&&s.a.createElement("div",{className:"search"},s.a.createElement(E.a,{id:u,language_version:"zh-CN",placeholder:e.get("home.GLOBAL.SEARCH_KEYWORD"),keyword:o.keyword||"",closeHistory:function(e){return W.d.deleteSearchHistory(u,e?{search_record_id:e.resource_id}:{})},onSearch:function(e){/search/.test(r)?t.replace({pathname:r,query:{keyword:e.keyword}}):Object(h.h)("/wiki/".concat(u,"/search?keyword=").concat(e.keyword))},loadHistory:d})),/history_diff/.test(r)&&s.a.createElement("div",{className:"app-header-history"},s.a.createElement("p",null,e.get("history.ADDED_CONTENT")),s.a.createElement("p",null,e.get("history.DELETED_CONTENT")),s.a.createElement("p",null,e.get("history.CHANGE_FORMATTING")),s.a.createElement(a.a,{type:"primary",shape:"round",style:{marginLeft:15},onClick:function(){return t.push({pathname:"/wiki/".concat(u,"/history/").concat(r.match("[^/]+(?!.*/)")[0])})}},e.get("history.EXIT_COMPARISON"))),s.a.createElement(B,null)))});t.default=function(e){var t=Object(h.q)((function(e){return e.config})),n=t.siderClose,a=t.siderWidth,r=Object(h.q)((function(e){return e.pwiki})),i=r.site,c=r.siteId,l=Object(h.q)((function(e){return e.user.info})),E=Object(h.k)((function(e){return e.config})).handleMenuClose,m=Object(h.m)().pathname,d=Object(o.useMemo)((function(){return/(create|setting|search|history|outline|sites)/.test(m)||!(i&&i.allow_view)}),[m,i]),_=Object(o.useMemo)((function(){return{marginLeft:n||d?"auto":a+"px",width:n||d?"unset":"calc(100% - ".concat(a+"px",")")}}),[n,a,d]);return s.a.createElement("div",{className:"app-layout",id:"app-layout"},s.a.createElement(K,null),s.a.createElement("div",{className:"app-container",style:_},d||s.a.createElement(V,null),s.a.createElement("div",{className:"app-main"},s.a.createElement("div",{className:u()("handle-menu",{"handle-menu_show":n}),onClick:function(){N.y.set("wikiside_".concat(c,"_").concat(l.id),!1),E(!1)}}),e.children)))}},382:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=(n(84),n(30)),o=(n(654),n(235)),s=(n(362),n(208)),l=n(92),u=(n(1686),n(18)),E=n(55),m=n.n(E),d=n(9),_=n(21),f=function(e){var t=e.id,n=e.site,a=Object(_.a)(_.c),i=!!n&&n.allow_manage,E=n?n.wiki:null,f=n?n.statistic.view_num:0,p=Object(l.f)(),O=Object(l.h)(),h=r.a.createElement("div",{className:"site-info__popover-content"},r.a.createElement("p",null,r.a.createElement(u.a,{type:"icon-chuangjianyu1",className:"popover-icon"}),a("home.CREATED"),r.a.createElement("span",{className:"p__span"},E&&m()(E.created_at).format("YYYY-MM-DD"))),r.a.createElement("p",null,r.a.createElement(u.a,{type:"icon-ziyuan1",className:"popover-icon"}),a("home.RESOURCES"),r.a.createElement("span",{className:"p__span"},E&&E.page_sum)),r.a.createElement("p",null,r.a.createElement(u.a,{type:"icon-canyurenshu2x",className:"popover-icon"}),a("home.VISITORS"),r.a.createElement("span",{className:"p__span"},f)));return r.a.createElement("div",{className:"site-info"},r.a.createElement("div",{className:"site-info__logo",style:{background:"url(".concat(E&&E.image_url,") no-repeat center / 100%")}}),r.a.createElement("div",{className:"site-info__infoContainer"},r.a.createElement("div",{className:"site-info__title"},r.a.createElement("h1",null,E&&("en"===a("en")?E.name_en||E.name:E.name||E.name_en),r.a.createElement(s.a,{placement:"bottomLeft",content:h,trigger:"hover"},r.a.createElement(u.a,{type:"icon-zhandianxiangqing2x",className:"site-info__title-detailIcon"})))),r.a.createElement("div",{className:"site-info__intro"},r.a.createElement("span",null,E&&("en"===a("en")?E.abstract_info_en||E.abstract_info:E.abstract_info||E.abstract_info_en))),r.a.createElement("div",{className:"site-info__Tag"},E&&E.tags&&E.tags.map((function(e,t){return r.a.createElement(o.a,{color:"rgba(255,255,255,0)",key:t,className:"site-info__Tag-border"},e)})))),r.a.createElement("div",{className:"site-info__btn-container"},i&&r.a.createElement(c.a,{className:"site-info__setBtn",onClick:function(){return window.open(Object(d.t)()?"/team/".concat(O.profile,"/wiki/setting?wiki=").concat(t,"&post_location=").concat(O.profile):"/wiki/".concat(t,"/setting"))}},r.a.createElement(u.a,{type:"icon-shezhi2x"}),r.a.createElement("span",null,a("home.SETTINGS"))),r.a.createElement(c.a,{className:"site-info__outlineBtn",onClick:function(){return Object(d.t)()?window.open("/wiki/".concat(t,"/outline/")):p.push("/wiki/".concat(t,"/outline/"))}},r.a.createElement(u.a,{type:"icon-dagangshitu2x"}),r.a.createElement("span",null,a("home.OUTLINE_VIEW")))))},p=n(87),O=(n(219),n(36)),h=(n(512),n(181)),T=(n(1689),n(777)),N=(n(1691),n(151)),g=n.n(N),S=(n(507),n(3)),I=n.n(S),b=function(e){var t=e.id,a=e.site,i=e.userInfo,c=Object(_.a)(_.c),o=Object(l.f)(),E=Object(l.g)(),m=a?a.wiki:null,f=a?a.recently_updaters:null,p=a?a.managers:null,N=r.a.createElement("div",{className:"partner__right-popover"},r.a.createElement(O.a,{renderEmpty:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:n(1692),alt:"emptyEditing",width:"150px"}),r.a.createElement("p",null,c("home.NO_ADMINISTRATOR")))}},p&&r.a.createElement(h.b,{dataSource:p,renderItem:function(e){return e&&r.a.createElement(h.b.Item,null,r.a.createElement(h.b.Item.Meta,{avatar:r.a.createElement(T.a,{src:e.head_image,size:"default"}),title:r.a.createElement("span",{className:"partner__right-name",title:e.nick_name?"".concat(e.nick_name,"(").concat(e.name,")"):e.name},e.nick_name?"".concat(e.nick_name,"(").concat(e.name,")"):e.name)}),r.a.createElement("button",{type:"text",onClick:function(){return window.location.href=Object(d.g)(e.email)},className:"partner__popo"}))}})));return r.a.createElement("ul",{className:"partner"},r.a.createElement("li",{className:"partner__col"},r.a.createElement("div",{className:"partner__left"},r.a.createElement(u.a,{type:"icon-canyurenshu2x",className:"partner__left-icon"}),r.a.createElement("span",null,c("home.SITE_CONTRIBUTORS"))),r.a.createElement("p",{className:"partner__col1--p"},m&&m.construction_count)),r.a.createElement("li",{className:"partner__col"},r.a.createElement("div",{className:"partner__left"},r.a.createElement(u.a,{type:"icon-wodebianji2x",className:"partner__left-icon"}),r.a.createElement("span",null,c("home.MY_EDIT_CONTRIBUTIONS"))),r.a.createElement("div",{className:"partner__right",style:{cursor:"pointer"},onClick:function(){return o.push({pathname:Object(d.t)()?"".concat(E.pathname,"/mine_list"):"/wiki/".concat(t,"/mine_list")})}},r.a.createElement("p",null,m&&m.my_wiki_pages_count),r.a.createElement(u.a,{type:"icon-jiantou2x",className:"partner__right-icon"}))),r.a.createElement("li",{className:"partner__col"},r.a.createElement("div",{className:"partner__left"},r.a.createElement(u.a,{type:"icon-guanliyuan2x",className:"partner__left-icon"}),r.a.createElement("span",null,c("home.ADMINISTRATORS"))),r.a.createElement("div",{className:"partner__right"},r.a.createElement("span",{className:I()("partner__person","\u82f1\u8bed"===c("en")&&"partner__person--eg"),title:p&&p.map((function(e){return e&&(e.nick_name?"".concat(e.nick_name,"(").concat(e.name,")"):e.name)})).join("\u3001")},p&&p.map((function(e){return e&&(e.nick_name?"".concat(e.nick_name,"(").concat(e.name,")"):e.name)})).join("\u3001")),r.a.createElement(s.a,{placement:"bottomRight",content:N,trigger:"click",overlayClassName:"partner__person__popover"},r.a.createElement(u.a,{type:"icon-gengduo2x",className:"partner__right-icon"})))),r.a.createElement("li",{className:"partner__col"},r.a.createElement("div",{className:"partner__left"},r.a.createElement(u.a,{type:"icon-huoyueyonghu2x",className:"partner__left-icon"}),r.a.createElement("span",null,c("home.RECENTLY_ACTIVE_USERS"))),r.a.createElement("div",{className:"partner__avatar"},"\u82f1\u8bed"===c("en")&&f&&(f.length?f.slice(0,3).map((function(e,t,n){return e&&r.a.createElement(g.a,{locale:_.c,requestUrl:"/ps/get_user_info_card?identifier=".concat(e.identifier),placement:"bottom",key:e.id,avatarUrl:"/zone/".concat(e.identifier),canFollow:e.identifier!==i.identifier},r.a.createElement("img",{src:e.head_image?e.head_image:"/images/icons-app/person-big.png",alt:"avatar",className:"partner__avatar-img",style:{zIndex:n.length-t}}))})):c("home.NONE")),"\u82f1\u8bed"!==c("en")&&f&&(f.length?f.map((function(e,t,n){return e&&r.a.createElement(g.a,{locale:_.c,requestUrl:"/ps/get_user_info_card?identifier=".concat(e.identifier),placement:"bottom",key:e.id,avatarUrl:"/zone/".concat(e.identifier),canFollow:e.identifier!==i.identifier},r.a.createElement("img",{src:e.head_image?e.head_image:"/images/icons-app/person-big.png",alt:"avatar",className:"partner__avatar-img",style:{zIndex:n.length-t}}))})):c("home.NONE")))))},C=(n(85),n(39)),v=n(6),A=(n(1693),n(67)),R=n(178),y=n(1734),L=n(108),D=n(25),k=n(283),M=function(e){var t=e.id,n=Object(_.a)(_.c),i=Object(L.a)([]),c=Object(v.a)(i,2),o=c[0],s=c[1],E=Object(a.useState)(!1),m=Object(v.a)(E,2),f=m[0],p=m[1],h=Object(y.a)(1,{min:1}),T=Object(v.a)(h,2),N=T[0],g=T[1],S=g.inc,b=g.set,M=Object(a.useState)(!0),w=Object(v.a)(M,2),j=w[0],U=w[1],P=Object(l.h)();Object(a.useEffect)((function(){b(1),x({page:1}).then((function(e){e.has_more&&p(!0)}))}),[t]);var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.page,a=n||N;return new Promise((function(e){D.a.getRecent(t,a).then((function(t){t&&t.list&&(1===a&&U(!1),S(),s((function(e){return 1===a?(t.list||[]).slice():e.concat(t.list||[])})),e(t))}))}))};return r.a.createElement("div",{className:"recent-list"},r.a.createElement(k.a,{text:n("home.RECENTLY_TEXT"),color:"blue"}),j?r.a.createElement("div",{className:"recent-list__spinloaded"},r.a.createElement(C.a,{spinning:!0})):r.a.createElement(O.a,{renderEmpty:function(){return r.a.createElement("div",{style:{textAlign:"center",margin:"150px 0"}},r.a.createElement(u.a,{type:"ii-empty-site"}),r.a.createElement("p",null,n("home.NO_RECENTLY")),r.a.createElement("a",{href:"/editor/new?post_location=km&parent_type=WikiPage&base_type=Wiki&base_id=".concat(t)},"+ ",n("home.NEW_WIKI_ENTRY")))}},r.a.createElement(R.a,{asyncLoadData:function(){return new Promise((function(e){x().then((function(t){e(!!t&&t.has_more)}))}))},data:o,haveDivider:!0,hasMore:f,hoverBg:!0,listItemContent:function(e){var n={pathname:Object(d.t)()?"/".concat(P.profile,"/wiki/page/").concat(e.id):"/wiki/".concat(t,"/page/").concat(e.id)};return e&&r.a.createElement("div",{className:"recent-list__item"},r.a.createElement("div",{className:"recent-list__content--left"},r.a.createElement("div",{className:I()("recent-list__point","blue-point")}),r.a.createElement(A.a,{to:n,className:I()("recent-list__name"),title:e.name},e.name)),r.a.createElement("div",{className:"recent-list__content--right"},r.a.createElement("span",null,e.editors[0]&&(e.editors[0].nick_name?"".concat(e.editors[0].nick_name,"(").concat(e.editors[0].name,")"):e.editors[0].name)),r.a.createElement("span",null,e.updated_at&&Object(d.e)(e.updated_at))))}})))},w=(n(1697),function(e){var t=e.id,n=Object(_.a)(_.c),i=Object(a.useState)(!0),c=Object(v.a)(i,2),o=c[0],s=c[1],E=Object(a.useState)(0),m=Object(v.a)(E,2),f=m[0],p=m[1],h=Object(L.a)([]),T=Object(v.a)(h,2),N=T[0],g=T[1],S=Object(l.h)();Object(a.useEffect)((function(){D.a.getRecommend(t,1,8).then((function(e){e&&e.list&&(s(!1),p(e.total),g((function(t){return(e.list||[]).slice()})))}))}),[t]);return r.a.createElement("div",{className:"recommend-list"},r.a.createElement(k.a,{text:n("home.RECOMMEND_TEXT"),color:"orange"}),o?r.a.createElement("div",{className:"recommend-list__spinloaded"},r.a.createElement(C.a,{spinning:!0})):r.a.createElement(O.a,{renderEmpty:function(){return r.a.createElement("div",{style:{textAlign:"center",margin:"35px 0"}},r.a.createElement(u.a,{type:"ii-empty-site"}),r.a.createElement("p",null,n("home.NO_RECOMMEND")))}},r.a.createElement(R.a,{data:N,listItemContent:function(e){var n={pathname:Object(d.t)()?"/".concat(S.profile,"/wiki/page/").concat(e.id):"/wiki/".concat(t,"/page/").concat(e.id)};return r.a.createElement("div",{className:"recommend-list__item"},r.a.createElement("div",{className:"recommend-list__content--left"},r.a.createElement("div",{className:I()("recommend-list__point","orange-point")}),r.a.createElement(A.a,{to:n,className:I()("recommend-list__name"),title:e.name},e.name)))}})),f>8&&r.a.createElement(A.a,{to:{pathname:Object(d.t)()?"/".concat(S.profile,"/wiki/site/").concat(S.site,"/top_list"):"/wiki/".concat(t,"/top_list")},className:"recommend-list__more"},n("home.VIEW_MORE")))}),j=(n(1698),function(e){var t=e.site,n=e.id,a=e.userInfo,i=e.siteError,c=e.team,o=void 0===c?{}:c;Object(d.A)({site:t,type:"site",teamName:o.name?o.name:""});var s=Object(_.a)(_.c);if(i){if(4003===i.status)return r.a.createElement("div",{className:"home home__noauth"},r.a.createElement(p.b,{desc:s("wiki.NO_AUTH_ACCESS")}));if(4004===i.status)return r.a.createElement("div",{className:"home home__noauth"},r.a.createElement(p.a,{desc:s("wiki.SITE_NOT_EXIST")}))}return t?r.a.createElement("section",{className:"home"},r.a.createElement("div",{className:"home__siteInfo"},r.a.createElement(f,{id:n,site:t})),r.a.createElement("div",{className:"home-container"},r.a.createElement("div",{className:"home-container-left__recent"},r.a.createElement(M,{id:n})),r.a.createElement("div",{className:"home-container__right"},r.a.createElement("div",{className:"home-container__partner"},r.a.createElement(b,{id:n,site:t,userInfo:a})),r.a.createElement("div",{className:"home-container__recommend"},r.a.createElement(w,{id:n}))))):null});n(713),t.default=function(){var e=Object(i.n)().site,t=Object(i.q)((function(e){return e.pwiki})),n=t.site,a=t.siteError,c=Object(i.q)((function(e){return e.user.info}));return r.a.createElement(j,{id:e,site:n,userInfo:c,siteError:a})}},383:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n(87),o=(n(84),n(30)),s=(n(173),n(81)),l=(n(85),n(39)),u=(n(74),n(12)),E=n(33),m=n(8),d=n(45),_=n.n(d),f=n(6),p=n(18),O=n(9),h=n(3),T=n.n(h),N=n(180),g=n(25),S=n(285),I=function(e){var t=e.value,n=e.onCancel,i=e.onOk,c=e.visible,o=e.handleeditValue,s=e.catePageId,l=e.authType,u=Object(a.useState)(0),E=Object(f.a)(u,2),m=E[0],d=E[1],_=Object(a.useState)([]),p=Object(f.a)(_,2),O=p[0],h=p[1],T=Object(a.useMemo)((function(){return!!t&&!t.authorities.every((function(e){return e.older}))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{isCatePage:!0,visible:c,onOk:function(){var e={};2===m?(e.sync=!0,e.cover=!1):3===m?(e.sync=!0,e.cover=!1,e.cat_ids=O):4===m?(e.sync=!0,e.cover=!0):5===m?(e.sync=!0,e.cover=!0,e.cat_ids=O):(e.sync=!1,e.cover=!1),i(e)},onCancel:function(){n({sync:!1,cover:!1})},onChange:o,value:t,authType:l,isOnlyAdd:T,radioValue:m,onRadioChange:function(e){d(e.target.value)},onSelectedCheck:function(e){h(e)},catePageId:s}))},b=n(21),C=(n(1451),[{type:"view",key:"view_auth",name:"VIEWING_PERMISSION"},{type:"edit",key:"edit_auth",name:"EDIT_PERMISSION"}]),v=function(e){var t=e.category,i=e.fetchCateDetail,c=e.loading,d=e.id,h=e.wikiId,S=e.site,v=e.team,A=void 0===v?{}:v,R=Object(b.a)(b.c),y=Object(a.useState)(!1),L=Object(f.a)(y,2),D=L[0],k=L[1],M=Object(a.useState)(!1),w=Object(f.a)(M,2),j=w[0],U=w[1],P=Object(a.useState)(!1),x=Object(f.a)(P,2),F=x[0],H=x[1],Y=Object(a.useState)({name:"",abstract_info:""}),G=Object(f.a)(Y,2),V=G[0],W=G[1];Object(O.A)({name:t?t.name:"",type:"detail",site:S,teamName:A.name?A.name:""}),Object(a.useEffect)((function(){if(t){H(!1);var e=_()(t.view_authorities.authorities.view_template),n=_()(t.edit_authorities.authorities.edit_template);e.authorities.map((function(e){return e.older=!0,e})),n.authorities.map((function(e){return e.older=!0,e})),W({name:t.name,abstract_info:t.abstract_info,view_authorities:e,edit_authorities:n})}}),[t]);var B=function(e,t){W(Object(m.a)(Object(m.a)({},V),{},Object(E.a)({},e,t)))},K=function(e,t){"view"===e?k(!0):U(!0),W(Object(m.a)(Object(m.a)({},V),{},Object(E.a)({},"".concat(e,"_authorities"),t)))},z=function(e,t){"edit"===e?function(e){var t=Object(m.a)({},e);C.forEach((function(e){var n=e.type;if("edit"===n){var a=V["".concat(n,"_authorities")]||{};a.public?t["".concat(n,"Public")]=!0:(t["".concat(n,"Public")]=!1,t["".concat(n,"Authorities")]=(a.authorities||[]).map((function(e){return e.type+"-"+e.id})))}})),g.b.putAuthCate({cat_id:d,wiki_id:h,params:t}).then((function(e){q(),u.b.success(R("home.MODEL_AUTH.SUCCESS_EDIT")),k(!1)})).catch((function(e){u.b.error(e.message),k(!1)}))}(t):function(e,t){var n=Object(m.a)({},e);C.forEach((function(e){var a=e.type;"view"===a&&((V["".concat(a,"_authorities")]||{}).public?n["".concat(a,"Public")]=!0:(n["".concat(a,"Public")]=!1,n["".concat(a,"Authorities")]=(t||[]).map((function(e){return e.type+"-"+e.id}))))})),g.b.putAuthCateView({cat_id:d,wiki_id:h,params:n}).then((function(e){q(),u.b.success(R("home.MODEL_AUTH.SUCCESS_VIEW")),k(!1)})).catch((function(e){u.b.error(e.message),k(!1)}))}(t,V.view_authorities.authorities),X()},q=function(){var e=_()(V.view_authorities),t=_()(V.edit_authorities);e.authorities.map((function(e){return e.older||(e.older=!0),e})),t.authorities.map((function(e){return e.older||(e.older=!0),e})),W(Object(m.a)(Object(m.a)({},V),{},{view_authorities:e,edit_authorities:t}))},X=function(e,t){"view"===e?k(!1):U(!1)};return c.cateLoading?r.a.createElement("div",{className:"cate-content-header"},r.a.createElement("div",{className:"center-spin"},r.a.createElement(l.a,null))):r.a.createElement("div",{className:"cate-content-header"},r.a.createElement("h3",null,F?r.a.createElement("div",{className:"form-item"},r.a.createElement(s.a,{value:V.name,onChange:function(e){return B("name",e.target.value)}}),r.a.createElement("span",{className:T()("input-num",{"input-num_error":V.name&&Math.ceil(Object(O.c)(V.name)/2)>50})},V.name?Math.ceil(Object(O.c)(V.name)/2):0,"/50")):r.a.createElement("div",null,r.a.createElement("img",{src:n(1452),alt:""}),t&&t.name)),r.a.createElement("p",{className:"cate-desc"},F?r.a.createElement("div",{className:"form-item"},r.a.createElement(s.a,{placeholder:R("category.ENTER_PROFILE"),value:V.abstract_info,onChange:function(e){return B("abstract_info",e.target.value)}}),r.a.createElement("span",{className:T()("input-num",{"input-num_error":V.abstract_info&&Math.ceil(Object(O.c)(V.abstract_info)/2)>100})},V.abstract_info?Math.ceil(Object(O.c)(V.abstract_info)/2):0,"/100")):t&&t.abstract_info),r.a.createElement("div",null,r.a.createElement("div",{className:T()("view-auth",{"handle-change":F}),onClick:function(){}},r.a.createElement("div",{className:"auth-title"},R("category.VIEW_PERMISSION"),"\uff1a"),r.a.createElement("div",{className:"auth-content"},F?r.a.createElement("div",null,r.a.createElement(N.a,{value:V&&V.view_authorities,onOk:function(e){return K("view",e)}}),r.a.createElement(I,{catePageId:d,value:V&&V.view_authorities,onCancel:function(e){return X("view",e)},onOk:function(e){return z("view",e)},visible:D,authType:"\u67e5\u770b",handleeditValue:function(){}})):Object(O.h)(t&&t.view_authorities.authorities.view_template))),r.a.createElement("div",{className:T()("edit-auth",{"handle-change":F}),onClick:function(){}},r.a.createElement("div",{className:"auth-title"},R("category.EDIT_PERMISSION"),"\uff1a"),r.a.createElement("div",{className:"auth-content"},F?r.a.createElement("div",null,r.a.createElement(N.a,{value:V&&V.edit_authorities,onOk:function(e){return K("edit",e)}}),r.a.createElement(I,{catePageId:d,value:V&&V.edit_authorities,onCancel:function(e){return X("edit",e)},onOk:function(e){return z("edit",e)},visible:j,authType:"\u7f16\u8f91",handleeditValue:function(){}})):Object(O.h)(t&&t.edit_authorities.authorities.edit_template)))),t&&t.allow_edit&&r.a.createElement(o.a,{type:F?"primary":"text",onClick:function(){return function(){if(F){if(Math.ceil(Object(O.c)(V.name)/2)>50)return u.b.warn("\u6807\u9898\u9650\u5236\u6700\u591a50\u4e2a\u5b57(100\u5b57\u7b26)");if(V.abstract_info&&Math.ceil(Object(O.c)(V.abstract_info)/2)>100)return u.b.warn("\u7b80\u4ecb\u9650\u5236\u6700\u591a100\u4e2a\u5b57\uff08200\u5b57\u7b26\uff09");H(!F),g.b.putCateDetail({id:d,wikiId:h,body:{name:V.name,abstractInfo:V.abstract_info}}).then((function(){i({id:d,isload:!1}),u.b.success("\u7f16\u8f91\u6210\u529f")})).catch((function(e){u.b.error(e.message)}))}else H(!F)}()}},r.a.createElement(p.a,{type:"icon-bianjixiao2x",className:"top-icon"}),R(F?"category.DONE":"category.EDIT")))},A=(n(245),n(133)),R=(n(478),n(95)),y=n(129),L=n.n(y),D=n(10),k=n.n(D),M=n(22),w=n(92),j=n(67),U=(n(102),n(49)),P=n(57),x=n(153),F=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(f.a)(r,1)[0];return a.splice(n,0,i),a},H=function(e){var t=e.positionChange,n=e.dragItem,i=e.list,c=e.positionOk,o=e.combineDrag,s=Object(b.a)(b.c),E=Object(a.useState)([]),d=Object(f.a)(E,2),_=d[0],O=d[1],h=Object(a.useState)("unset"),T=Object(f.a)(h,2),N=T[0],S=T[1],I=Object(a.useState)(!1),C=Object(f.a)(I,2),v=C[0],A=C[1],R=Object(a.useRef)(null);Object(a.useEffect)((function(){O(i)}),[i]);var y=function(){var e=Object(M.a)(k.a.mark((function e(n){var a,i,l,E,m,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(P.a)(_),!v){e.next=3;break}return e.abrupt("return",u.b.warn(s("category.MOVING")));case 3:if(n){e.next=5;break}return e.abrupt("return",u.b.warn(s("category.MOVE_ERROR")));case 5:if(!n.combine){e.next=13;break}return i=Object(P.a)(_),l=_[n.source.index],i.splice(n.source.index,1),O(i),A(!0),o(n.draggableId,n.combine.draggableId,l).then((function(e){if(S("unset"),c(),A(!1),!e.result&&2!=l.category_type){var t=l.binding_page_id?"res":2===l.category_type?"link":"cate";U.a.confirm({title:r.a.createElement("div",null,s("member.TIPS_SHORT"),r.a.createElement(p.a,{type:"icon-cha2x",className:"arrow-icon",onClick:function(){return U.a.destroyAll()}})),className:"auth-confirm",content:s("category.UNSAME_PATH",{type:t}),okText:s("category.YES"),cancelText:s("category.NO"),onOk:function(){var e={cat_id:n.draggableId,wiki_id:l.wiki_id,parent_id:n.combine.draggableId};l&&l.binding_page_id&&(e.page_id=l.binding_page_id),g.b.asycCateAuth(e).then((function(){u.b.success(s("category.PERMISSIONS_SYNC"))})).catch((function(e){u.b.error(e.message)}))},onCancel:function(){u.b.success(s("category.PERMISSIONS_NOSYNC"))}})}})).catch((function(e){u.b.error(e.message),A(!1),O(a)})),e.abrupt("return");case 13:if(n.destination){e.next=15;break}return e.abrupt("return");case 15:A(!0),E=n.source.index,m=n.destination.index,d=_[m].position,{}.target_position=d,O(F(_,E,m)),E!==m?t(n.draggableId,m+1,_[E]).then((function(e){S("unset"),A(!1),c()})).catch((function(e){u.b.error(e.message),A(!1),O(a)})):A(!1);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(M.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(R.current.offsetHeight);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return _.length<0?null:r.a.createElement("div",{ref:R,style:{height:N},className:"drag-container"},r.a.createElement(x.a,{onDragEnd:y,onBeforeCapture:L},r.a.createElement(x.c,{droppableId:"droppable",isCombineEnabled:!0},(function(e){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:"drag-contant",style:{height:N}}),_.map((function(e,t){return r.a.createElement(x.b,{key:e.id,draggableId:e.id&&e.id.toString(),index:t},(function(t,a){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.dragHandleProps,t.draggableProps,{style:Object(m.a)(Object(m.a)({},t.draggableProps.style),{},{background:a.isDragging?"#f5f5f5":a.combineTargetFor?"#F1F4F8":"#fff"})}),n(e))}))})))}))),v&&r.a.createElement("div",{className:"list-mask"},r.a.createElement(l.a,null)))},Y=n(274),G=n(55),V=n.n(G),W=n(1744),B=(n(1453),function(e){var t=e.fetchCateDetail,n=e.handleSort,i=e.handleCombin,s=e.loading,E=e.category,d=(e.site,e.handleSetCateDetail),h=Object(b.a)(b.c),T=Object(a.useState)(!1),N=Object(f.a)(T,2),S=N[0],I=N[1],C=Object(a.useState)(null),v=Object(f.a)(C,2),y=v[0],D=v[1],U=Object(a.useState)(1),P=Object(f.a)(U,2),x=P[0],F=P[1],G=Object(a.useState)(!1),B=Object(f.a)(G,2),K=B[0],z=B[1],q=Object(w.h)(),X=Object(w.f)();Object(a.useEffect)((function(){if(E&&E.children&&E.children.list){var e=E.children.list.findIndex((function(e){return!e.hasOwnProperty("category_num_of_next_layer")||e.needUpdata}));e>=0&&J(e)}}),[E]),Object(a.useEffect)((function(){x>1&&(z(!0),t({id:q.id,page:x,isload:!1}).then((function(){z(!1)})))}),[x]);var J=function(){var e=Object(M.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.children.list[t].id,a=_()(E),e.next=4,g.b.getCateDetail(E.id,10,1).then((function(e){a.category_num_of_next_layer=e.category_num_of_next_layer,a.pages_num_of_next_layer=e.pages_num_of_next_layer,a.name=e.name}));case 4:return e.next=6,g.b.getCateDetail(n,10,1).then((function(e){delete e.children,a.children.list=a.children.list.map((function(t){return t.id==n?e:t})),d(a)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(W.a)("scroll",L()((function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;console.log(E&&E.children.has_more),n-(t+e)<50&&!s.cateLoading&&E&&E.children.has_more&&F((function(e){return e+1}))}),200),window);var Q=function(e){var t=e.binding_page_id?"res":2===e.category_type?"link":"cate",n=e.binding_page_id?"icon-citiao2x":2===e.category_type?"link":"icon-fenlei2x",a=(e.category_num_of_next_layer||0)+(e.pages_num_of_next_layer||0);return r.a.createElement("div",{className:"list-item list-menu",key:e.id},r.a.createElement("div",{className:"list-menu-drag"}),r.a.createElement("div",{className:"list-menu-name",onClick:function(){return $(t,e)}},"link"===n?r.a.createElement("span",{className:"link"}):r.a.createElement(p.a,{type:n,className:"type-cion"}),"link"===t?r.a.createElement("a",{href:Z(t,e),target:"_blank",rel:"noreferrer noopener"},e.name):r.a.createElement(j.a,{to:Z(t,e)}," ",e.name),!(0===a&&"cate"!=t)&&"(".concat(a,")")),"icon-fenlei2x"===n?r.a.createElement("div",{className:" list-menu-msg"},h("category.CONTAINS",{n:e.category_num_of_next_layer||0,num:e.pages_num_of_next_layer||0})):r.a.createElement("div",{className:" list-menu-msg"},e.page_last_editor&&(e.page_last_editor.nick_name?"".concat(e.page_last_editor.nick_name,"(").concat(e.page_last_editor.name,")"):e.page_last_editor.name),e.page_last_update_at&&r.a.createElement("span",{style:{marginLeft:10}},h("category.UPDATE_ON")," ",V()(e.page_last_update_at).fromNow())))},Z=function(e,t){var n=t.binding_page_id||t.id;return"cate"===e?Object(O.t)()?"/".concat(q.profile,"/wiki/site/").concat(t.wiki_id,"/cate/").concat(n):"/wiki/".concat(q.site,"/category/").concat(n):"res"===e?Object(O.t)()?"/".concat(q.profile,"/wiki/page/").concat(n):"/wiki/".concat(q.site,"/page/").concat(n,"?parent_id=").concat(t.parent_id||t.id,"&wiki=").concat(q.site):Object(O.l)(t)},$=function(e,t){var n=t.binding_page_id||t.id;"cate"===e?X.push({pathname:Object(O.t)()?"/".concat(q.profile,"/wiki/site/").concat(t.wiki_id,"/cate/").concat(n):"/wiki/".concat(q.site,"/category/").concat(n)}):"res"===e?X.push({pathname:Object(O.t)()?"/".concat(q.profile,"/wiki/page/").concat(n):"/wiki/".concat(q.site,"/page/").concat(n),search:"?parent_id=".concat(t.parent_id||t.id,"&wiki=").concat(q.site)}):window.open(Object(O.l)(t))},ee=function(){var e=Object(O.t)()?"/editor/new?post_location=".concat(q.profile,"&parent_type=WikiPage&base_type=Wiki&base_id=").concat(q.site,"&ps_content_category_id=").concat(q.id):"/editor/new?parent_type=WikiPage&base_type=Wiki&base_id=".concat(q.site,"&ps_content_category_id=").concat(q.id,"&isFixdSite=true");window.location.href="".concat(window.location.protocol,"//").concat(window.location.host).concat(e)},te=r.a.createElement(R.a,null,r.a.createElement(R.a.Item,{key:"0"},r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){return ee()}},h("category.ADD_SUBENTRY")))),r.a.createElement(R.a.Divider,null),r.a.createElement(R.a.Item,{key:"1"},r.a.createElement("div",{onClick:function(){return ne(q.id)}},h("category.ADD_SUBCATEGORY")))),ne=function(e){D(e),I(!0)};return s.cateLoading?null:r.a.createElement("div",{className:"cate-content-list"},!s.cateLoading&&(!E||!E.children||E.children&&0===E.children.list.length)&&r.a.createElement(a.Fragment,null,r.a.createElement("div",{style:{height:"400px"}},r.a.createElement(c.a,{desc:h("category.NO_RESOURCES"),btnElement:function(){return E&&E.allow_edit?r.a.createElement("div",{style:{marginTop:24}},r.a.createElement(o.a,{type:"text",onClick:function(){return ee()},style:{marginRight:20}},h("category.ADD_SUBENTRY")),r.a.createElement(o.a,{type:"text",onClick:function(){return ne(q.id)}},h("category.ADD_SUBCATEGORY"))):null}}))),!s.cateLoading&&E&&E.children&&E.children.list.length>0&&r.a.createElement("div",{className:"cate-menu"},r.a.createElement("div",{className:"list-item list-head"},r.a.createElement("p",null,h("category.CONTAINS",{n:E.category_num_of_next_layer,num:E.pages_num_of_next_layer})),E&&E.allow_edit&&r.a.createElement(A.a,{overlay:te,trigger:["click"]},r.a.createElement("div",{className:"add",style:{color:"#54a5ff",cursor:"pointer"}},r.a.createElement(p.a,{type:"icon-jiahao"}),h("category.ADD")))),E&&E.allow_edit?r.a.createElement(H,{combineDrag:function(e,t,n){var a={cat_id:e,parent_id:t,position:1,wiki_id:q.site},r=E.children.list.find((function(e){return e.id==t}));return r&&2===r.category_type?Promise.reject({message:"\u76ee\u6807\u4e0d\u53ef\u4e3a\u5f15\u7528\u8282\u70b9"}):(n&&n.binding_page_id&&(a.page_id=n.binding_page_id),i&&i(Object(m.a)(Object(m.a)({},a),{},{item:n})),g.b.positionCate(a))},positionChange:function(e,t,a){var r={cat_id:e,parent_id:q.id,position:t,wiki_id:q.site};return a&&a.binding_page_id&&(r.page_id=a.binding_page_id),n&&n(r),g.b.positionCate(r)},positionOk:function(){u.b.success(h("category.MOVE_SUCCESS"))},list:E.children.list,dragItem:Q}):E.children.list.map((function(e,t){return Q(e)})),K&&r.a.createElement("div",{style:{textAlign:"center",padding:20}},r.a.createElement(l.a,null))),r.a.createElement(Y.a,{wikiId:q.site,visible:S,parentId:y,onOk:function(e){I(!1),console.log("res",e),Object(O.t)()?X.push("/".concat(q.profile,"/wiki/site/").concat(e.wiki_id,"/cate/").concat(e.id)):X.push("/wiki/".concat(e.wiki_id,"/category/").concat(e.id))},onCancel:function(){I(!1)}}))});n(652),t.default=function(){var e=Object(i.n)(),t=e.id,n=e.site,o=Object(i.q)((function(e){return e.pwiki})),s=o.category,l=o.site,u=o.cateError,E=o.loading,m=Object(i.k)((function(e){return e.pwiki})),d=m.fetchCateDetail,_=m.handleSort,f=m.handleCombin,p=m.handleSetCateDetail,O=Object(b.a)(b.c);return Object(a.useEffect)((function(){d({id:t,isload:!0})}),[t]),u?4003===u.status?r.a.createElement("div",{className:"main-content cate-content cate-content__error"},r.a.createElement(c.b,{desc:O("wiki.NO_AUTH_ACCESS")})):r.a.createElement("div",{className:"main-content cate-content cate-content__error"},r.a.createElement(c.a,{desc:"\u51fa\u9519\u4e86"})):r.a.createElement("div",{className:"main-content cate-content"},r.a.createElement(v,{fetchCateDetail:d,loading:E,category:s,wikiId:n,id:t,site:l}),r.a.createElement(B,{fetchCateDetail:d,handleSort:_,handleCombin:f,handleSetCateDetail:p,loading:E,category:s,site:l}))}},384:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),i=n.n(r),c=(n(174),n(61)),o=n(55),s=n.n(o),l=n(18),u=n(100),E=(n(161),n(80)),m=(n(85),n(39)),d=(n(710),function(e){var t=e.content,n=e.loading,a=Object(u.c)();return i.a.createElement("div",{className:"compare-diff__content"},n?i.a.createElement(m.a,{spinning:n,tip:a.get("history.COMPARING_VERSIONS"),style:{width:"100%",margin:"150px 0"}}):i.a.createElement("div",null,i.a.createElement("div",{style:{padding:"24px 40px"}},i.a.createElement("h1",null,t.name)),i.a.createElement(E.a,{style:{margin:0}}),i.a.createElement("div",{style:{padding:"24px 40px"},dangerouslySetInnerHTML:{__html:t.body}})))}),_=c.a.Option,f=function(e){var t=e.list,n=e.value,o=e.onChangeValue,E=e.oldValue,m=e.content,f=e.loading,p=Object(u.c)(),O=Object(r.useState)({}),h=Object(a.a)(O,2),T=h[0],N=h[1];Object(r.useEffect)((function(){Object.keys(n).length&&N(n)}),[n]);return i.a.createElement("div",{className:"compare-diff"},i.a.createElement("header",{className:"compare-diff__header"},i.a.createElement("div",null,i.a.createElement("span",{className:"compare-diff__header--text"},"\u7248\u672c\uff1a"),i.a.createElement(c.a,{value:T.version,className:"compare-diff__selectBtn",suffixIcon:i.a.createElement(l.a,{type:"icon-xiala",style:{fontSize:"16px",position:"relative",top:"-3px"}}),onChange:function(e){var n=t.filter((function(t){return t.version===e}))[0];N(n),o&&o(n)}},t.map((function(e,t){return i.a.createElement(_,{value:e.version,key:e.id,disabled:E.version===e.version},0===t?p.get("history.CURRENT_VERSION"):"".concat(p.get("history.EDITION",{num:e.version})," ").concat(s()(e.updated_at).format("YYYY-MM-DD HH:mm"),"\uff08").concat(e.author.name,"\uff09"))})))),i.a.createElement("div",{className:"compare-diff__header--bottom"},i.a.createElement("span",{className:"compare-diff__header--text"},p.get("history.EDIT_REASON"),"\uff1a"),i.a.createElement("span",{className:"compare-diff__header--reason"},T.comments?T.comments:p.get("history.NONE")))),i.a.createElement(d,{content:m,loading:f}))},p=n(19),O=n(65);n(711),t.default=function(){var e=Object(p.n)(),t=Object(p.q)((function(e){return e.pageDetail.detailVersionsList})),n=Object(p.k)((function(e){return e.pageDetail.fetchDetailVersionsList})),c=Object(r.useState)({}),o=Object(a.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)({}),E=Object(a.a)(u,2),m=E[0],d=E[1],_=Object(r.useState)({}),h=Object(a.a)(_,2),T=h[0],N=h[1],g=Object(r.useState)({}),S=Object(a.a)(g,2),I=S[0],b=S[1],C=Object(r.useState)(!1),v=Object(a.a)(C,2),A=v[0],R=v[1];Object(r.useEffect)((function(){t.length?(l(t[0]),d(t[1]),y(t[0].version,t[1].version)):n(e.id)}),[t]);var y=function(t,n){R(!0);var a={new_version:t<n?n:t,old_version:t<n?t:n};O.d.compareHistoryVersion(e.id,a).then((function(e){e&&(t<n?(N(e.oldVersion),b(e.newVersion)):(N(e.newVersion),b(e.oldVersion)),R(!1))}))};return i.a.createElement("div",{className:"history-diff"},i.a.createElement("div",{className:"history-diff__section1"},i.a.createElement(f,{list:t,value:s,onChangeValue:function(e){l(e),y(e.version,m.version)},oldValue:m,content:T,loading:A})),i.a.createElement("div",{className:"history-diff__section2"},i.a.createElement(f,{list:t,value:m,onChangeValue:function(e){d(e),y(s.version,e.version)},oldValue:s,content:I,loading:A})))}},385:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=(n(219),n(36)),c=(n(85),n(39)),o=(n(161),n(80)),s=n(6),l=(n(174),n(61)),u=n(92),E=n(67),m=n(178),d=n(18),_=n(3),f=n.n(_),p=(n(1699),n(1741)),O=n(1743),h=n(108),T=n(25),N=n(9),g=n(21),S=n(87),I=l.a.Option,b="0",C=1,v=function(e){var t=e.userInfo,n=e.site,_=e.team,v=void 0===_?{}:_,A=Object(a.useState)(null),R=Object(s.a)(A,2),y=R[0],L=R[1],D=Object(g.a)(g.c),k=Object(u.h)().site;Object(N.A)({type:"edit",site:n,teamName:v.name?v.name:""});var M=Object(h.a)([]),w=Object(s.a)(M,2),j=w[0],U=w[1],P=Object(a.useState)(0),x=Object(s.a)(P,2),F=x[0],H=x[1],Y=Object(a.useState)(!1),G=Object(s.a)(Y,2),V=G[0],W=G[1],B=Object(a.useRef)(null),K=Object(a.useState)(!0),z=Object(s.a)(K,2),q=z[0],X=z[1];Object(p.a)((function(){J().then((function(e){L(null),e.total&&H(e.total),e.has_more&&W(!0)})).catch((function(e){L({status:e.code,message:e.message})}))})),Object(O.a)((function(){b="0",C=1}));var J=function(){switch(b){case"0":return T.a.getMyEditors(k,4,C).then((function(e){return e.list&&(X(!1),C++,U((function(t){return t.concat(e.list)}))),e}));case"2":return T.a.getMyEditors(k,2,C).then((function(e){return e.list&&(X(!1),C++,U((function(t){return t.concat(e.list)}))),e}))}};return y&&4003===y.status?r.a.createElement("div",{className:"list-mine list-mine__noauth"},r.a.createElement(S.b,{desc:D("wiki.NO_AUTH_ACCESS")})):r.a.createElement("section",{className:"list-mine"},r.a.createElement("div",{className:"list-mine__container"},r.a.createElement("div",{className:"list-mine__header"},r.a.createElement("div",{className:"list-mine__header--mine"},r.a.createElement("img",{src:t&&t.head_image,className:"list-mine__avatar__img",alt:"avatar"}),r.a.createElement("h1",null,D("home.MY_EDIT_CONTRIBUTIONS"),"\uff08",F,"\uff09")),r.a.createElement(l.a,{defaultValue:"0",className:"list-mine__sortBtn",suffixIcon:r.a.createElement(d.a,{type:"icon-xiala",className:f()(N.t&&"tssvg"),style:{fontSize:"16px",position:"relative",top:"-3px"}}),onChange:function(e){X(!0),U((function(){return[]})),C=1,b=e,B.current.resetHasMore(),J()}},r.a.createElement(I,{value:"0"},D("mine_list.LAST_UPDATED_DESCENDING")),r.a.createElement(I,{value:"2"},D("mine_list.DATE_CREATED_DESCENDING")))),r.a.createElement(o.a,{style:{marginBottom:0}}),q?r.a.createElement("div",{className:"list-mine__spinloaded"},r.a.createElement(c.a,{spinning:!0})):r.a.createElement("div",{className:"list-mine__list"},r.a.createElement(i.a,{renderEmpty:function(){return r.a.createElement("div",{style:{textAlign:"center",margin:"150px 0"}},r.a.createElement(d.a,{type:"ii-empty-editing"}),r.a.createElement("p",null,D("mine_list.EMPTY")))}},r.a.createElement(m.a,{ref:B,asyncLoadData:function(){return J().then((function(e){return L(null),e?e.has_more:[]})).catch((function(e){return L({status:e.code,message:e.message}),[]}))},data:j,hasMore:V,hoverBg:!0,listItemContent:function(e){var t=v.identifier?"/".concat(v.identifier,"/wiki/page/").concat(e.id):"/wiki/".concat(k,"/page/").concat(e.id);return e&&r.a.createElement("div",{className:"list-mine__item"},r.a.createElement("div",{className:"list-mine__content--left"},r.a.createElement("div",{className:f()("list-mine__point","blue-point")}),r.a.createElement(E.a,{to:{pathname:t},className:f()("list-mine__name"),title:e.name},e.name)),r.a.createElement("div",{className:"list-mine__content--right"},r.a.createElement("span",null,e.updated_at&&Object(N.e)(e.updated_at))))}})))))},A=n(19);n(714),t.default=function(){var e=Object(A.q)((function(e){return e.user.info})),t=Object(A.q)((function(e){return e.pwiki})).site,n=Object(A.n)().site;return r.a.createElement("section",{className:"list-mine"},r.a.createElement(v,{wikiId:n,userInfo:e,site:t}))}},386:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=(n(219),n(36)),c=(n(85),n(39)),o=(n(161),n(80)),s=n(6),l=n(67),u=n(178),E=n(283),m=n(3),d=n.n(m),_=n(18),f=n(21),p=n(87),O=(n(1700),n(1734)),h=n(9),T=n(108),N=n(25),g=function(e){var t=e.wikiId,n=e.site,m=e.team,g=void 0===m?{}:m,S=Object(f.a)(f.c),I=Object(a.useState)(!0),b=Object(s.a)(I,2),C=b[0],v=b[1],A=Object(a.useState)(null),R=Object(s.a)(A,2),y=R[0],L=R[1],D=Object(a.useState)(!1),k=Object(s.a)(D,2),M=k[0],w=k[1],j=Object(a.useState)(0),U=Object(s.a)(j,2),P=U[0],x=U[1],F=Object(O.a)(1,{min:1}),H=Object(s.a)(F,2),Y=H[0],G=H[1].inc,V=Object(T.a)([]),W=Object(s.a)(V,2),B=W[0],K=W[1];Object(h.A)({type:"topList",site:n,teamName:g.name?g.name:""}),Object(h.B)((function(){z().then((function(e){L(null),e.total&&x(e.total),e.has_more&&w(!0)})).catch((function(e){L({status:e.code,message:e.message})}))}));var z=function(){return N.a.getRecommend(t,Y).then((function(e){return e.list&&(1===Y&&v(!1),G(),K((function(t){return t.concat(e.list)}))),e}))};return y&&4003===y.status?r.a.createElement("div",{className:"list-top list-top__noauth"},r.a.createElement(p.b,{desc:S("wiki.NO_AUTH_ACCESS")})):r.a.createElement("section",{className:"list-top"},r.a.createElement("div",{className:"list-top__container"},r.a.createElement(E.a,{text:"".concat(S("top_list.RECOMMEND_TEXT"),"(").concat(P,")"),color:"orange"}),r.a.createElement(o.a,{style:{marginBottom:0}}),C?r.a.createElement("div",{className:"list-top__spinloaded"},r.a.createElement(c.a,{spinning:!0})):r.a.createElement("div",{className:"list-top__list"},r.a.createElement(i.a,{renderEmpty:function(){return r.a.createElement("div",{style:{textAlign:"center",margin:"150px 0"}},r.a.createElement(_.a,{type:"ii-empty-editing"}),r.a.createElement("p",null,S("top_list.EMPTY")))}},r.a.createElement(u.a,{asyncLoadData:function(){return z().then((function(e){return!!e&&e.has_more})).catch((function(e){return L({status:e.code,message:e.message}),!1}))},data:B,hoverBg:!0,hasMore:M,listItemContent:function(e){var n=g.identifier?"/".concat(g.identifier,"/wiki/page/").concat(e.id):"/wiki/".concat(t,"/page/").concat(e.id);return e&&r.a.createElement("div",{className:"list-top__item"},r.a.createElement("div",{className:"list-top__content--left"},r.a.createElement(l.a,{to:{pathname:n},className:d()("list-top__name"),title:e.name},e.name)),r.a.createElement("div",{className:"list-top__content--right"},r.a.createElement("span",{title:"\u521b\u5efa\u8005: ".concat(e.editors[0].nick_name?"".concat(e.editors[0].nick_name,"(").concat(e.editors[0].name,")"):e.editors[0].name,"\n\u6700\u8fd1\u7f16\u8f91: ").concat(e.last_editor?e.last_editor.nick_name?"".concat(e.last_editor.nick_name,"(").concat(e.last_editor.name,")"):e.last_editor.name:e.editors[e.editors.length-1].nick_name?"".concat(e.editors[e.editors.length-1].nick_name,"(").concat(e.editors[e.editors.length-1].name,")"):e.editors[e.editors.length-1].name)},e.editors.length>2?S("top_list.USERS_CONTRIBUTED",{name:"".concat(e.editors[0].name,"\u3001").concat(e.editors[1].name),num:e.editors.length}):e.editors.map((function(e){return e.nick_name?"".concat(e.nick_name,"(").concat(e.name,")"):e.name})).join("\u3001")),r.a.createElement("span",null,e.updated_at&&Object(h.e)(e.updated_at))))}})))))},S=n(19);n(715),t.default=function(){var e=Object(S.q)((function(e){return e.pwiki})).site,t=Object(S.n)().site;return r.a.createElement("section",{className:"list-mine"},r.a.createElement(g,{wikiId:t,site:e}))}},387:function(e,t,n){"use strict";n.r(t);n(219);var a=n(36),r=(n(85),n(39)),i=(n(161),n(80)),c=(n(201),n(79)),o=n(10),s=n.n(o),l=n(22),u=n(6),E=(n(174),n(61)),m=n(0),d=n.n(m),_=n(92),f=n(3),p=n.n(f),O=n(108),h=n(178),T=n(18),N=n(47),g=n.n(N),S=(n(1712),E.a.Option),I=function(e){var t=e.onChange;return d.a.createElement("article",{className:"wiki-select wiki-select-sort"},d.a.createElement(E.a,{defaultValue:"5",suffixIcon:d.a.createElement(T.a,{type:"icon-xiala",style:{fontSize:"16px",position:"relative",top:"-3px"}}),className:"wiki-select__sortBtn",onChange:function(e){t(e)}},d.a.createElement(S,{value:"5"},g.a.get("home.SEARCH.BY_RELEVANCE")),d.a.createElement(S,{value:"4"},g.a.get("home.SEARCH.LAST_UPDATED_DESCENDING")),d.a.createElement(S,{value:"3"},g.a.get("home.SEARCH.LAST_UPDATED_ASCENDING")),d.a.createElement(S,{value:"2"},g.a.get("home.SEARCH.DATE_CREATED_DESCENDING")),d.a.createElement(S,{value:"1"},g.a.get("home.SEARCH.DATE_CREATED_ASCENDING"))))},b=n(65),C=n(100),v=n(19),A=n(9),R=n(87),y=(n(721),E.a.Option);t.default=function(){var e=Object(C.c)(),t=Object(_.h)().site,n=Object(_.g)().query.keyword,o=Object(m.useState)(!0),f=Object(u.a)(o,2),N=f[0],g=f[1],S=Object(m.useState)(null),L=Object(u.a)(S,2),D=L[0],k=L[1],M=Object(m.useState)(!1),w=Object(u.a)(M,2),j=w[0],U=w[1],P=Object(m.useState)(0),x=Object(u.a)(P,2),F=x[0],H=x[1],Y=Object(O.a)([]),G=Object(u.a)(Y,2),V=G[0],W=G[1],B=Object(m.useRef)(),K=Object(m.useRef)({cheakSearchIsTitle:!1,selectSearchOrder:"5",scopes:[],pageIndex:1});Object(v.p)((function(){K.current={cheakSearchIsTitle:!1,selectSearchOrder:"5",scopes:[0,1,2],pageIndex:1},g(!0),z()}),[n]);var z=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,function e(){K.current.pageIndex>1&&B.current.setLoading(!0),q().then((function(n){K.current.pageIndex>1&&B.current.setLoading(!1),n&&(k(null),n.list&&(t+=n.list.length),n.has_more&&t<20&&e())})).catch((function(e){k({status:e.code,message:e.message})}))}();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e={keyword:n,page:K.current.pageIndex,page_size:20,order:K.current.selectSearchOrder,title_only:K.current.cheakSearchIsTitle,resource_scopes:K.current.scopes};return b.a.getSearchResults(t,e).then((function(t){return t.list&&(1===e.page&&g(!1),K.current.pageIndex++,W((function(n){return 1===e.page?t.list.slice():n.concat(t.list)})),U(t.has_more),H(t.total||0)),t}))};return D&&4003===D.status?d.a.createElement("div",{className:"psearch psearch__noauth"},d.a.createElement(R.b,{desc:e.get("home.GLOBAL.NO_AUTH_ACCESS")})):d.a.createElement("section",{className:"psearch"},d.a.createElement("div",{className:"psearch__container"},d.a.createElement("div",{className:"psearch__header"},d.a.createElement("div",{className:"psearch__count"},e.get("home.SEARCH.SEARCH_RESULTS",{num:F,keyword:n})),d.a.createElement("div",{className:"psearch__btn"},d.a.createElement(c.a,{className:"psearch__onlytitle",onChange:function(e){K.current.cheakSearchIsTitle=e.target.checked,g(!0),K.current.pageIndex=1,W((function(){return[]})),q().then((function(e){e.total?H(e.total):H(0)}))}},e.get("home.SEARCH.ONLY_TITLE")),d.a.createElement(E.a,{defaultValue:"3",suffixIcon:d.a.createElement(T.a,{type:"icon-xiala",style:{fontSize:"16px",position:"relative",top:"-3px"}}),className:"wiki-select__sortBtn wiki-select__scorpBtn",onChange:function(e){K.current.scopes="3"===e?[0,1,2]:[e],g(!0),K.current.pageIndex=1,W((function(){return[]})),q()}},d.a.createElement(y,{value:"3"},"\u5168\u90e8\u7c7b\u522b"),d.a.createElement(y,{value:"1"},"\u8bcd\u6761"),d.a.createElement(y,{value:"0"},"\u5206\u7c7b"),d.a.createElement(y,{value:"2"},"\u5f15\u7528\u8d44\u6e90")),d.a.createElement(I,{className:"psearch__selectbtn",onChange:function(e){K.current.selectSearchOrder=e,g(!0),K.current.pageIndex=1,W((function(){return[]})),q()}}))),d.a.createElement(i.a,{style:{marginTop:17,marginBottom:20}}),N?d.a.createElement("div",{className:"psearch__spinloaded"},d.a.createElement(r.a,{spinning:!0})):d.a.createElement("div",{className:"psearch__content"},d.a.createElement(a.a,{renderEmpty:function(){return d.a.createElement("div",{style:{textAlign:"center",margin:"20vh 0"}},d.a.createElement(T.a,{type:"ii-empty-search"}),d.a.createElement("p",null,e.get("home.SEARCH.NO_RESULTS")))}},d.a.createElement(h.a,{ref:B,data:V,hasMore:j,hoverBg:!0,listItemContent:function(a){var r=2===a.category_type?Object(A.l)(a):a.binding_page_id?{pathname:"/wiki/".concat(t,"/page/").concat(a.binding_page_id)}:{pathname:"/wiki/".concat(t,"/category/").concat(a.id)};return d.a.createElement("div",{className:"psearch__item"},d.a.createElement("div",{className:"psearch__content--left"},a.binding_page_id?d.a.createElement("div",{className:"psearch__blue-point"}):2===a.category_type?d.a.createElement(T.a,{type:"icon-fenxiang2x",className:"psearch__file-icon"}):d.a.createElement(T.a,{type:"icon-fenlei2x",className:"psearch__file-icon"}),d.a.createElement("div",{className:"psearch__title-summary"},2===a.category_type?d.a.createElement("a",{href:r,className:"psearch__title",dangerouslySetInnerHTML:{__html:a.name}}):d.a.createElement(v.a,{to:r,className:"psearch__title",title:a.name,dangerouslySetInnerHTML:{__html:a.name}}),a.body&&d.a.createElement("p",{title:a.body,dangerouslySetInnerHTML:{__html:a.body}}))),2!=a.category_type&&d.a.createElement("div",{className:p()("psearch__content--right",a.binding_page_id&&"psearch__isartcle--right")},a.binding_page_id?!!a.editors.length&&d.a.createElement("span",{title:"".concat(e.get("home.SEARCH.CREATOR"),":").concat(a.editors[0].nick_name?"".concat(a.editors[0].nick_name,"(").concat(a.editors[0].name,")"):a.editors[0].name,"\n").concat(e.get("home.SEARCH.UPDATOR"),":").concat(a.editors[a.editors.length-1].nick_name?"".concat(a.editors[a.editors.length-1].nick_name,"(").concat(a.editors[a.editors.length-1].name,")"):a.editors[a.editors.length-1].name),dangerouslySetInnerHTML:{__html:a.editors.length>2?"".concat("".concat(a.editors[0].name,"\u3001").concat(a.editors[1].name).replace(new RegExp("".concat(n),"gi"),"<em>".concat(n,"</em>"))," \u7b49 ").concat(a.editors.length,"\u4eba\u534f\u4f5c"):a.editors.map((function(e){return e.nick_name?"".concat(e.nick_name,"(").concat(e.name,")"):e.name})).join("\u3001").replace(new RegExp("".concat(n),"gi"),"<em>".concat(n,"</em>"))}}):d.a.createElement("span",null,"\u5305\u542b ",a.category_num_of_next_layer," \u4e2a\u5b50\u6587\u4ef6\u5939\uff0c",a.pages_num_of_next_layer," \u9879\u8d44\u6e90"),a.binding_page_id&&d.a.createElement("span",null,a.updated_at&&Object(v.e)(a.updated_at))))},asyncLoadData:function(){return j?q().then((function(e){return!!e&&e.has_more})):Promise.resolve(!1)}})))))}},388:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return m}));var a=n(52),r=n(53),i=n(129),c=n.n(i),o=(n(206),n(55),function(){var e="".concat("/react_apps/km_wiki/dist").replace(/\/$/,"")}(),c()((function(e){e&&e()}),500),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),this.storage=t.storage||e.defaultStorage}return Object(r.a)(e,[{key:"get",value:function(e){var t=this.storage.getItem(e);return JSON.parse(t)}},{key:"set",value:function(e,t){var n=JSON.stringify(t);this.storage.setItem(e,n)}}]),e}());o.defaultStorage=window.localStorage;var s=new o,l={keyOf:function(e){for(var t=Object.keys(this),n=0;n<t.length;n++)if(this[t[n]]===e)return t[n];return null},create:function(e){var t=Object.create(null);return Object.keys(e).forEach((function(n){Object.defineProperty(t,n,{value:e[n],enumerable:!0})})),Object.defineProperty(t,"keyOf",{value:this.keyOf}),Object.freeze(t),t}},u=function(e){window.location.href="/login?back_url=".concat(window.encodeURIComponent(e))},E=function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("rel","noreferrer"),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},m=function(e){var t=new Date(e).getTime(),n="";if((new Date).getFullYear()===Number(new Date(t).format("yyyy"))){var a=(new Date).format("yyyy/MM/dd"),r=new Date(a).getTime(),i=r-864e5,c=new Date(t).format("hh:mm");n=t>=r?"\u4eca\u5929 "+c:t<r&&t>=i?"\u6628\u5929 "+c:new Date(t).format("MM-dd hh:mm")}else n=e.split(" ")[0];return n};Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},484:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABLtJREFUWAntmE1sG0UUx/+7a6/NerHjJI6NU0zT0lQNzS2tglCFVA6VEBQhJA6ckEAcuMClJ5A4ISH1xoVLL0iA1APiQAFxiYQEEm1D+VDLoeA2JE0a1yn+/lyvl/cWz7JJSLLrpkkOHWk9szNv3v83b3bGsws8SPcWAWmz7rlcLmma5iuWZT1HduOSJKWoHNisz1Zt5KNDPpbJ7jqVLyiK8lkymcxt1O9/ARlieXn5HcrP0BXZqPN21BNkja6zqVTqfYZf63MdYKFQGKjX65+T4Uk2VlX1cjQa1YPB4GPkQFvroJ97GnTdMIy/yuVytd1uH+v5mNE07aV4PF50+1wFyJFbWlr6lgxOEszy8PBwm8Ay7g7bXSbQ+ZWVFZW0U+R7Jp1On3JHUnYL8rTSvQ1HIY/cbzjWZg3W4oCwdo+Bm+zkRLC3ILL8zCUSifmdgBMQnHMk8/l8hkBrtHAOioXjRLC3WjlqszsNx4CsydocIGbhOk4OIJWf54pYLLYtC4F9+U1CmyB5W7OTA0iVh7iGRrHfbtmFH5f2uJB3Nl2ae96EQXlfEayaFsodCyb5iCgS4kEZzgMu1LbIhTazCFMHkOCcsmj0kl8pd/BdsY0bDRNlguxaQIjmZTSkYDoWxNMDQWgE7Ce5WfqCYrEKRevjhSZ+ILg26SeI6vGHFDt6daJcbHZxbrGBmb/beH00jMNaf1J99aoZFj68WsVPVRMjuoLT6RCm4wEM0rSKVKIBzJYNfJFr4oNsDWfGIpjQ/cv951F43iLnKTz/axVX5toYk2W8e1jDsyPqKjh2EQtIeGZQxXsHdYxS+aNsFQWju4X39c2+AWs0dT9ea+LhJvDW0Qj2acp6r66ahCrj7QM6THpGv1mou1q8FX3HXA/LeONEFBrlmdjmcAJhmJ7PF9NhfHWzhhcyGiIB73HxbtlTk2hBTB0IYSIdFPqe8uMjYUj1DhZLhid7YeQbUHT0m0fDCkZIrVDZo4C8E+qgPwLaK/2kHYsgr360OxikvdJP2jHAYrmNUMtAejDkh2/VacZzR7PZQWOpgq7pfV/LXr2DI0MqrX5/EfS9zRi5CnLnLqOVr0EbH0Ly1WOQtc1XdHGhhMa125h6edJzEISh7ylufv071GwO0VYDyi/zqH46C6ux8cqs/5lH7vzPmHwqA20gLHQ9574iaBXpn+C3W9CnMwgcfQSd2XkYF2+gdqeE0KkJBA6NABxNw4R5u4z6xTk0bt7Fo6cnoT2R9AzlNvQF2L1VRHBsCOHXngQUGerx/TAuzcH4PovWJ5fQCgUgaSr4XGlRe+BICok3T0CO93XEtDmdgxq9bhp8DqPXPvcAVpWtauvfTvqalUhbSPduFVaBIkwLR9LDkBM6HQx9jd/2TRx8aO4Qh/1gOx4Ijl/79lFeFyfbVXR0I60FEwY0THmYgPi6h8Ta1F3rsdienEVCUH9wDb3+zdktu/Dj0r4u5B1AqviSK0ulEo9iV5LQpmBdEAAOIH9looYajWKKX6KFwU7lrMnazMAsQtcB5Dd5ajzLDb1vJRVhdL9zeuYqrMk6zCC+Ktj3bnEy3HMfj5xtRoDu6c9vApIjuWc/YApIzvfCJ2A3z4NyPxH4B7CLD2g9xHIBAAAAAElFTkSuQmCC"},488:function(e,t,n){},638:function(e,t,n){var a={"./ii-empty-editing.svg":1163,"./ii-empty-history.svg":1164,"./ii-empty-search.svg":1165,"./ii-empty-site.svg":639};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=638},639:function(e,t,n){e.exports=n.p+"static/media/ii-empty-site.147f28b7.svg"},649:function(e,t,n){},65:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return O}));var a=n(52),r=n(53),i=n(63),c=n(64),o=n(8),s=n(19),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),this._opts=Object(o.a)({},t),this._nxios=Object(s.c)(Object(o.a)({prefix:this._opts.prefix||"",errorHandler:this.errorHandler},t))}return Object(r.a)(e,[{key:"errorHandler",value:function(e){throw e}}]),e}(),u=new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getUserInfo",value:function(){return this._nxios("/km_java_api/home/nav/get_user_info")}},{key:"getOrgList",value:function(){return this._nxios("/km_java_api/home/nav/wikis")}},{key:"getViewedRecently",value:function(){return this._nxios("/km_java_api/wiki/viewed_recently")}},{key:"languageChange",value:function(e){return this._nxios("/km3/set_language_version",{method:"PUT",params:e})}},{key:"getUserInfoExtra",value:function(){return this._nxios("/km_java_api/home/nav/get_user_info_extra")}},{key:"devLogin",value:function(){return this._nxios("/km_java_api/wiki/develop/login?userId=3")}}]),n}(l)),E=n(10),m=n.n(E),d=n(22),_=n(98),f=new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getWikiInfo",value:function(e){return this._nxios("/".concat(e))}},{key:"getWikiIdByPath",value:function(e){return this._nxios("/convert_to_id/".concat(e))}},{key:"getWikiIdByDetailId",value:function(e){return this._nxios("/pages/id2WikiId/".concat(e))}},{key:"getWikiMenu",value:function(e,t){return t?this._nxios("/".concat(e,"/menu"),{params:{page:1,page_size:t}}):this._nxios("/".concat(e,"/menu"))}},{key:"getCateDetail",value:function(e,t){return t?this._nxios("/category/".concat(e),{params:{page:1,page_size:t}}):this._nxios("/category/".concat(e))}},{key:"addCateDetail",value:function(e,t){return this._nxios.post("/".concat(t,"/category/admin"),{params:e,requestType:"json"})}},{key:"putCateDetail",value:function(e){var t=e.id,n=e.body,a=e.wikiId;return this._nxios("/".concat(a,"/category/admin/").concat(t),{method:"PUT",params:n})}},{key:"deleteCateDetail",value:function(e){var t=e.cat_id,n=e.wikiId,a=e.parent_id;return this._nxios("/".concat(n,"/category/admin/").concat(t),{method:"DELETE",params:a?{parent_id:a}:{}})}},{key:"positionCate",value:function(e){var t=e.cat_id,n=e.wiki_id,a=e.parent_id,r=e.position;return this._nxios("/".concat(n,"/category/admin/").concat(t,"/move"),{method:"PUT",params:{parent_id:a,position:r}})}},{key:"putAuthCate",value:function(e){var t=e.cat_id,n=e.wiki_id,a=e.params;return this._nxios("/".concat(n,"/category/admin/").concat(t,"/publish_auth"),{method:"PUT",params:a})}},{key:"putAuthCateView",value:function(e){var t=e.cat_id,n=e.wiki_id,a=e.params;return this._nxios("/".concat(n,"/category/admin/").concat(t,"/view_auth"),{method:"PUT",params:a})}},{key:"getAuthCate",value:function(e){var t=e.cat_id,n={wiki_id:e.wiki_id};return t&&(n.cat_id=t),this._nxios("/category/default_publish_auth",{params:n})}},{key:"getAuthCateView",value:function(e){var t=e.cat_id,n={wiki_id:e.wiki_id};return t&&(n.cat_id=t),this._nxios("/category/default_view_auth",{params:n})}},{key:"getWikiPageDetail",value:function(e){return this._nxios("/pages/".concat(e))}},{key:"getWikiPageDetailExtra",value:function(e){return this._nxios("/pages/".concat(e,"/extra"))}},{key:"wikiPageProject",value:function(e){return this._nxios.post("/pages/".concat(e,"/protect"))}},{key:"wikiPageCollect",value:function(e,t){return this._nxios("/pages/".concat(e,"/collect"),{method:t})}},{key:"wikiPageLike",value:function(e){return this._nxios.post("/pages/".concat(e,"/like"))}},{key:"wikiComment",value:function(e,t){return this._nxios.post("/pages/".concat(e,"/comments"),{data:t,requestType:"json"})}},{key:"wikiCommentList",value:function(e,t){return this._nxios("/pages/".concat(e,"/comments"),{params:{page:t}})}},{key:"wikiCommentDelete",value:function(e,t){return this._nxios.delete("/pages/".concat(e,"/comments/").concat(t))}},{key:"wikiCommentFavorite",value:function(e,t){return this._nxios.delete("/pages/".concat(e,"/comments/").concat(t,"/like"))}},{key:"getSearchHistory",value:function(e){return this._nxios("/".concat(e,"/search/history"))}},{key:"deleteSearchHistory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._nxios("/".concat(e,"/search/history"),{method:"DELETE",data:t})}},{key:"getDetailVersionsList",value:function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._nxios("/pages/".concat(t,"/versions"));case 2:return n=e.sent,e.prev=3,e.next=6,this._nxios("/pages/".concat(t,"/can_operate"));case 6:n.canEdit=!0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),n.canEdit=!1;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"compareHistoryVersion",value:function(e,t){return this._nxios("/pages/".concat(e,"/compare"),{params:t})}},{key:"getDetailVersion",value:function(e,t){return this._nxios("/pages/".concat(e,"/version"),{params:{version:t}})}},{key:"coverDetailVersion",value:function(e,t){return this._nxios("/pages/".concat(e,"/convert_version"),{method:"put",params:{content_version_id:t}})}}]),n}(l))({prefix:_.a}),p=new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getRecycleAuthors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6;return this._nxios(_.a+"/admin/".concat(e,"/recycle_bin_authors"),{params:{operate_type_id:t,page:n,keyword:a,page_size:r}})}},{key:"getRecycleList",value:function(e,t){return this._nxios(_.a+"/admin/".concat(e,"/recycle_bin"),{params:t})}},{key:"applyRecover",value:function(e,t){return this._nxios(_.a+"/admin/".concat(e,"/recover"),{method:"put",data:t})}}]),n}(l)),O=(new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getWikiSettingInfo",value:function(e){return this._nxios(_.a+"/admin/".concat(e))}},{key:"getWikiAuths",value:function(e){return this._nxios(_.a+"/admin/".concat(e,"/auth"))}},{key:"checkPathName",value:function(e){return this._nxios(_.a+"/admin/check_name",{params:{path:e}})}},{key:"setWikiViewAuth",value:function(e,t){return this._nxios(_.a+"/admin/".concat(e,"/view_auth"),{method:"put",data:t})}},{key:"setWikieditAuth",value:function(e,t){return this._nxios(_.a+"/admin/".concat(e,"/publish_auth"),{method:"put",data:t})}},{key:"setWikiManagers",value:function(e,t){return this._nxios(_.a+"/admin/".concat(e,"/manager"),{method:"put",data:{person_ids:t}})}},{key:"setWikiInfo",value:function(e,t){return this._nxios(_.a+"/admin/".concat(e),{method:"put",data:t})}},{key:"createWikiSite",value:function(e){return this._nxios(_.a+"/admin",{method:"post",data:e})}},{key:"deleteWikiSite",value:function(e){return this._nxios(_.a+"/admin/".concat(e),{method:"delete"})}}]),n}(l)),new(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getRecommend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return this._nxios(_.a+"/".concat(e,"/recommend"),{params:{page:t,page_size:n}})}},{key:"getRecent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return this._nxios(_.a+"/".concat(e,"/update_recently?page=").concat(t,"&page_size=").concat(n))}},{key:"getMyEditors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return this._nxios(_.a+"/".concat(e,"/my_edited?id=").concat(t,"&page=").concat(n,"&page_size=").concat(a))}},{key:"getSearchResults",value:function(e,t){return this._nxios(_.a+"/".concat(e,"/search"),{params:t})}}]),n}(l)))},650:function(e,t,n){},652:function(e,t,n){},707:function(e,t,n){},708:function(e,t,n){},709:function(e,t,n){},710:function(e,t,n){},711:function(e,t,n){},713:function(e,t,n){},714:function(e,t,n){},715:function(e,t,n){},716:function(e,t,n){},717:function(e,t,n){},718:function(e,t,n){},719:function(e,t,n){},720:function(e,t,n){},721:function(e,t,n){},723:function(e,t,n){},779:function(e,t,n){e.exports=n(1729)},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));n(84);var a=n(30),r=n(0),i=n.n(r),c=n(18),o=n(9),s=(n(1435),function(e){var t=e.desc,r=e.btnText,o=e.handleAdd,s=e.btnElement;return i.a.createElement("div",{className:"box-state box-state__empty"},i.a.createElement("img",{src:n(639),alt:"emptySearch"}),i.a.createElement("p",null,t),r&&i.a.createElement(a.a,{type:"text",onClick:function(){return o()}},i.a.createElement(c.a,{type:"icon-jiahao"}),r),s&&i.a.createElement("div",{className:"Empty-btn-element"},s()))}),l=function(e){var t=e.desc,a=e.users,r=Object(o.D)((function(e){return e.pwiki})).managers,c=a||(r||[]);return i.a.createElement("div",{className:"box-state box-state__noauth"},i.a.createElement("img",{src:n(1436),alt:"no auth"}),i.a.createElement("p",{style:{textAlign:"left"}},t),i.a.createElement("div",{className:"no-autn-users"},c.map((function(e,t){var a=e.nick_name?"".concat(e.nick_name," (").concat(e.name,")"):e.name;return i.a.createElement("p",{key:t,className:"no-autn-users-item"},i.a.createElement("img",{className:"user-avatar",src:e.head_image,alt:a}),i.a.createElement("span",null,a),i.a.createElement("span",null,e.email),i.a.createElement("a",{href:Object(o.g)(e.email)},i.a.createElement("img",{style:{width:20,height:20,verticalAlign:-5},alt:"",src:n(484)})))}))))}},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.b})),n.d(t,"p",(function(){return r.c})),n.d(t,"D",(function(){return c.d})),n.d(t,"z",(function(){return s})),n.d(t,"B",(function(){return u})),n.d(t,"C",(function(){return E})),n.d(t,"A",(function(){return m})),n.d(t,"s",(function(){return d.m})),n.d(t,"t",(function(){return d.n})),n.d(t,"x",(function(){return d.p})),n.d(t,"r",(function(){return d.l})),n.d(t,"c",(function(){return d.c})),n.d(t,"y",(function(){return d.q})),n.d(t,"b",(function(){return d.b})),n.d(t,"h",(function(){return d.g})),n.d(t,"g",(function(){return d.f})),n.d(t,"v",(function(){return d.o})),n.d(t,"q",(function(){return d.k})),n.d(t,"j",(function(){return d.h})),n.d(t,"k",(function(){return d.i})),n.d(t,"f",(function(){return d.e})),n.d(t,"e",(function(){return d.d})),n.d(t,"m",(function(){return d.j})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return O})),n.d(t,"i",(function(){return h})),n.d(t,"w",(function(){return T})),n.d(t,"l",(function(){return v})),n.d(t,"d",(function(){return H})),n.d(t,"u",(function(){return Y}));var a,r=n(94),i=(n(57),n(0)),c=(n(146),n(71)),o=n(21),s=function(e){var t=Object(c.c)();return Object(i.useMemo)((function(){return e(t)}),[])},l=function(e){Object(i.useEffect)(e,[])},u=function(e){l((function(){e()}))},E=function(e){l((function(){return e}))},m=function(e){var t=e.type,n=e.site,a=void 0===n?"":n,r=e.teamName,c=void 0===r?"":r,s=e.name,l=void 0===s?"":s,u=Object(o.a)(o.c);Object(i.useEffect)((function(){var e="",n=a?"en"===u("en")&&a.wiki.name_en||a.wiki.name:"";"site"===t&&(e=Object(d.n)()?"".concat(n,"_").concat(c,"_").concat(u("title.TEAM_SPACE"),"_").concat(u("title.KM")):"".concat(n,"_Wiki_").concat(u("title.KM"))),"detail"===t&&(e=Object(d.n)()?"".concat(l,"_").concat(n,"_").concat(c,"_").concat(u("title.TEAM_SPACE"),"_").concat(u("title.KM")):"".concat(l,"_").concat(n,"_Wiki_").concat(u("title.KM"))),"outline"===t&&(e="".concat(u("title.OUTLINE"),"_").concat(n,"_Wiki_").concat(u("title.KM"))),"set"===t&&(e=Object(d.n)()?a?"".concat(u("title.SET"),"_").concat(n,"_").concat(c,"_").concat(u("title.TEAM_SPACE"),"_").concat(u("title.KM")):"".concat(u("title.NEW"),"_").concat(u("title.WIKI"),"_").concat(c,"_").concat(u("title.TEAM_SPACE"),"_").concat(u("title.KM")):a?"".concat(u("title.SET"),"_").concat(n,"_Wiki_").concat(u("title.KM")):"".concat(u("title.NEW"),"_").concat(u("title.WIKI"),"_Wiki_").concat(u("title.KM"))),"edit"===t&&(e=Object(d.n)()?"".concat(u("title.MYEDIT"),"_").concat(n,"_").concat(c,"_").concat(u("title.TEAM_SPACE"),"_").concat(u("title.KM")):"".concat(u("title.MYEDIT"),"_").concat(n,"_Wiki_").concat(u("title.KM"))),"topList"===t&&(e=Object(d.n)()?"".concat(u("title.FEATURED"),"_").concat(n,"_").concat(c,"_").concat(u("title.TEAM_SPACE"),"_").concat(u("title.KM")):"".concat(u("title.FEATURED"),"_").concat(n,"_Wiki_").concat(u("title.KM"))),"recycle"===t&&(e="".concat(u("title.RECYCLE"),"_").concat(n,"_Wiki_").concat(u("title.KM"))),document.title=e}),[t,a,c,l,u])},d=n(262),_=n(72),f=n.n(_),p=(n(206),function(e){var t=e.url,n=e.id,a=e.internal,r=void 0===a||a;return new Promise((function(e,a){var i,c,o=document.createElement("link");o.rel="stylesheet",o.href=r?"/react_apps/team_space/"+t:t,n&&(o.id=n),"sheet"in o?(i="sheet",c="cssRules"):(i="styleSheet",c="rules");var s=setInterval((function(){o[i]&&o[i][c].length&&(clearInterval(s),clearTimeout(l),e())}),10),l=setTimeout((function(){clearInterval(s),clearTimeout(l),document.head.removeChild(o),a(new Error("time out"))}),5e3);document.head.appendChild(o)}))}),O=function(e){return new Promise((function(t,n){var a=document.createElement("script");a.async=!0,a.src=e,a.addEventListener("load",t),a.addEventListener("error",n),document.head.appendChild(a)}))},h=function(){for(var e,t={},n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],a=n[0],r=0;r<n.length;r++)if(n[r][1]in document){e=n[r];break}if(e)for(var i=0;i<e.length;i++)t[a[i]]=e[i];return t},T=function(e,t){var n=t||{},a=n.getContainer,r=void 0===a?function(){return window}:a,i=n.callback,c=n.duration,o=void 0===c?300:c,s=r();if(0!==o){var l=s===window?window.pageYOffset:s.scrollTop,u=Date.now();f()((function t(){var n=Date.now()-u,a=function(e,t,n,a){var r=n-t;return(e/=a/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}(n>o?o:n,l,e,o);s===window?window.scrollTo(window.pageXOffset,a):s.scrollTop=a,n<o?f()(t):"function"===typeof i&&i()}))}else s===window?window.scrollTo(window.pageXOffset,e):s.scrollTop=e},N=n(33),g=(a={},Object(N.a)(a,"Blog","\u6587\u7ae0"),Object(N.a)(a,"Attachment","\u6587\u6863"),Object(N.a)(a,"Topic","\u4e13\u9898"),Object(N.a)(a,"Qa","\u4e50\u95ee"),Object(N.a)(a,"WikiPage","Wiki"),Object(N.a)(a,"Gallery","\u56fe\u7247"),function(){return/^kms?\.netease\.com/.test(window.location.host)}),S=window.location,I=S.host,b=S.port,C="kms"===(I.includes("netease.com")?I.includes("kms")?"kms":"km":"8007"===b||"8008"===b?"kms":"km")?"//kms.netease.com":"//km.netease.com",v=function(e){if(e){var t,n=g()?C:"//".concat(window.location.host),a=e.reference_id||e.resource_id||e.id;switch(e.resource_type||e.class_name||e.type||e.parent_type||e.reference_type){case"Blog":case"Article":case"Attachment":t="/article/".concat(a);break;case"Qa":t="/qa/question/".concat(a);break;case"Answer":t="/qa/answer/".concat(a);break;case"Topic":t="/topics/topic/".concat(a);break;case"KpNews":t="/news/item/".concat(a);break;case"Wiki":t=e.path?"/wikis/".concat(e.path):"/wikis/show?wiki_id=".concat(a);break;case"WikiPage":t="/wiki/show?page_id=".concat(a);break;case"VideoCourse":if(g())return"//v.netease.com/evideo/video_course/show?course_id="+a;t="/evideo/video_course/show?course_id=".concat(a);break;case"LiveCourse":if(g())return"//v.netease.com/evideo/live_course/show?course_id="+a;t="/evideo/live_course/show?course_id=".concat(a);break;case"Link":return e.url}return n+t}},A=n(10),R=n.n(A),y=n(22),L=n(8),D=n(277),k=n(52),M=n(53),w=n(276),j=n(63),U=n(64),P=n(422),x=n(410),F=function(e){Object(j.a)(n,e);var t=Object(U.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(k.a)(this,n);for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).name="NxiosError",e.code=a,Error.captureStackTrace&&Error.captureStackTrace(Object(w.a)(e),n),e}return Object(M.a)(n,null,[{key:"create",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Object(D.a)(n,t)}}]),n}(Object(P.a)(Error)),H=function(e){var t=Object(x.a)(Object(L.a)({requestType:"form",getResponse:!1,auth:!0},e));return t.interceptors.request.use((function(e,t){var n=t.method;if(["post","put","patch","delete"].includes(n.toLowerCase())){var a=d.q.get("csrfToken"),r=d.q.get("csrfExp");a&&r&&(t.headers.csrfToken=a,t.headers.csrfExp=r)}return{url:e,options:t}})),t.interceptors.response.use(function(){var e=Object(y.a)(R.a.mark((function e(t){var n,a,r,i,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.clone().json();case 2:if(n=e.sent,a=n.csrf_token,r=n.csrf_exp,i=n.status,c=n.message,n.crsf_exp&&n.crsf_token&&(d.q.set("csrfToken",n.crsf_token),d.q.set("csrfExp",n.crsf_exp)),a&&r&&(d.q.set("csrfToken",a),d.q.set("csrfExp",r)),1!==i){e.next=8;break}return e.abrupt("return",t);case 8:if(4001!==i){e.next=10;break}return e.abrupt("return",Object(d.b)(window.location.href));case 10:throw F.create(i,c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.use(function(){var e=Object(y.a)(R.a.mark((function e(t,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:"undefined"!==typeof t.res.data&&(t.res=t.res.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t},Y=H()},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(262),r=2,i=window.location,c=i.host,o=i.port,s="km"===(c.includes("netease.com")?c.includes("kms")?"kms":"km":"8007"===o||"8008"===o?"kms":"km"),l=(a.a.create({k1:"k1",k2:"v2"}),"/km_java_api/wiki")},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(388).a.create({k1:"k1",k2:"v2"});var a="/km_java_api/wiki"},980:function(e,t,n){}},[[779,2,3]]]);